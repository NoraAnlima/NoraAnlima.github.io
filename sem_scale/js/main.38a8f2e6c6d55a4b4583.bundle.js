/*! For license information please see main.38a8f2e6c6d55a4b4583.bundle.js.LICENSE.txt */
(self.webpackChunksem_scale_sketch=self.webpackChunksem_scale_sketch||[]).push([[179],{563:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,h=o.indexOf,u={},d=u.toString,f=u.hasOwnProperty,p=f.toString,g=p.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},_=r.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||_).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e}var k="3.6.0",j=function(e,t){return new j.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}j.fn=j.prototype={jquery:k,constructor:j,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=j.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return j.each(this,e)},map:function(e){return this.pushStack(j.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(j.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(j.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},j.extend=j.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(j.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||j.isPlainObject(n)?n:{},i=!1,s[t]=j.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},j.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=s(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||p.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?j.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(S(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:m}),"function"==typeof Symbol&&(j.fn[Symbol.iterator]=o[Symbol.iterator]),j.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,r,i,o,s,a,l,c,h,u,d,f,p,g,m,v,y,_,b="sizzle"+1*new Date,w=e.document,x=0,k=0,j=le(),S=le(),E=le(),O=le(),T=function(e,t){return e===t&&(u=!0),0},C={}.hasOwnProperty,P=[],A=P.pop,L=P.push,M=P.push,N=P.slice,I=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",H="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\[[\\x20\\t\\r\\n\\f]*("+H+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+D+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",z=new RegExp(D+"+","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),$=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),X=new RegExp(D+"|>"),Y=new RegExp(F),U=new RegExp("^"+H+"$"),K={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},V=/HTML$/i,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},se=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(P=N.call(w.childNodes),w.childNodes),P[w.childNodes.length].nodeType}catch(e){M={apply:P.length?function(e,t){L.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var o,a,c,h,u,p,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!i&&(d(t),t=t||f,g)){if(11!==w&&(u=Z.exec(e)))if(o=u[1]){if(9===w){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&_(t,c)&&c.id===o)return r.push(c),r}else{if(u[2])return M.apply(r,t.getElementsByTagName(e)),r;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return M.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!O[e+" "]&&(!m||!m.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===w&&(X.test(e)||$.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((h=t.getAttribute("id"))?h=h.replace(re,ie):t.setAttribute("id",h=b)),a=(p=s(e)).length;a--;)p[a]=(h?"#"+h:":scope")+" "+_e(p[a]);v=p.join(",")}try{return M.apply(r,y.querySelectorAll(v)),r}catch(t){O(e,!0)}finally{h===b&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[b]=!0,e}function he(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!V.test(t||n&&n.nodeName||"HTML")},d=ae.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:w;return s!=f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),w!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=he((function(e){return p.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=he((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=he((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=he((function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=J.test(f.querySelectorAll))&&(he((function(e){var t;p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+R+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),he((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&he((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",F)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),_=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return u=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==f||e.ownerDocument==w&&_(w,e)?-1:t==f||t.ownerDocument==w&&_(w,t)?1:h?I(h,e)-I(h,t):0:4&r?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e==f?-1:t==f?1:i?-1:o?1:h?I(h,e)-I(h,t):0;if(i===o)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?de(s[r],a[r]):s[r]==w?-1:a[r]==w?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&g&&!O[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){O(t,!0)}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=f&&d(e),_(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=f&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&C.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(re,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,o=0;if(u=!n.detectDuplicates,h=!n.sortStable&&e.slice(0),e.sort(T),u){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return h=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+D+"|$)"))&&j(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,h,u,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(_=(f=(c=(h=(u=(d=m)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(_=f=0)||p.pop();)if(1===d.nodeType&&++_&&d===t){h[e]=[x,f,_];break}}else if(y&&(_=f=(c=(h=(u=(d=t)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===_)for(;(d=++f&&d&&d[g]||(_=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&((h=(u=d[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[x,_]),d!==t)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=I(e,o[s])]=!(n[r]=o[s])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=a(e.replace(B,"$1"));return r[b]?ce((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return U.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:me((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function _e(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=k++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,h,u,d=[x,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(h=(u=t[b]||(t[b]={}))[t.uniqueID]||(u[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=h[o])&&c[0]===x&&c[1]===a)return d[2]=c[2];if(h[o]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function ke(e,t,n,r,i,o){return r&&!r[b]&&(r=ke(r)),i&&!i[b]&&(i=ke(i,o)),ce((function(o,s,a,l){var c,h,u,d=[],f=[],p=s.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xe(g,d,e,a,l),v=n?i||(o?e:p||r)?[]:s:m;if(n&&n(m,v,a,l),r)for(c=xe(v,f),r(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[f[h]]=!(m[f[h]]=u));if(o){if(i||e){if(i){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);i(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=i?I(o,u):d[h])>-1&&(o[c]=!(s[c]=u))}}else v=xe(v===s?v.splice(p,v.length):v),i?i(null,s,v,l):M.apply(s,v)}))}function je(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,h=be((function(e){return e===t}),a,!0),u=be((function(e){return I(t,e)>-1}),a,!0),d=[function(e,n,r){var i=!s&&(r||n!==c)||((t=n).nodeType?h(e,n,r):u(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])d=[be(we(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return ke(l>1&&we(d),l>1&&_e(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<i&&je(e.slice(l,i)),i<o&&je(e=e.slice(i)),i<o&&_e(e))}d.push(n)}return we(d)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,s=ae.tokenize=function(e,t){var n,i,o,s,a,l,c,h=S[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(i=W.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=$.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),a=a.slice(n.length)),r.filter)!(i=K[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,l).slice(0)},a=ae.compile=function(e,t){var n,i=[],o=[],a=E[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=je(t[n]))[b]?i.push(a):o.push(a);(a=E(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,l,h){var u,p,m,v=0,y="0",_=o&&[],b=[],w=c,k=o||i&&r.find.TAG("*",h),j=x+=null==w?1:Math.random()||.1,S=k.length;for(h&&(c=s==f||s||h);y!==S&&null!=(u=k[y]);y++){if(i&&u){for(p=0,s||u.ownerDocument==f||(d(u),a=!g);m=e[p++];)if(m(u,s||f,a)){l.push(u);break}h&&(x=j)}n&&((u=!m&&u)&&v--,o&&_.push(u))}if(v+=y,n&&y!==v){for(p=0;m=t[p++];)m(_,b,s,a);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=A.call(l));b=xe(b)}M.apply(l,b),h&&!o&&b.length>0&&v+t.length>1&&ae.uniqueSort(l)}return h&&(x=j,c=w),_};return n?ce(o):o}(o,i))).selector=e}return a},l=ae.select=function(e,t,n,i){var o,l,c,h,u,d="function"==typeof e&&e,f=!i&&s(e=d.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[h=c.type]);)if((u=r.find[h])&&(i=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&_e(l)))return M.apply(n,i),n;break}}return(d||a(e,f))(i,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!u,d(),n.sortDetached=he((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),he((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&he((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),he((function(e){return null==e.getAttribute("disabled")}))||ue(R,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(r);j.find=E,j.expr=E.selectors,j.expr[":"]=j.expr.pseudos,j.uniqueSort=j.unique=E.uniqueSort,j.text=E.getText,j.isXMLDoc=E.isXML,j.contains=E.contains,j.escapeSelector=E.escape;var O=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&j(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=j.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return v(t)?j.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?j.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?j.grep(e,(function(e){return h.call(t,e)>-1!==n})):j.filter(t,e,n)}j.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?j.find.matchesSelector(r,e)?[r]:[]:j.find.matches(e,j.grep(t,(function(e){return 1===e.nodeType})))},j.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(j(e).filter((function(){for(t=0;t<r;t++)if(j.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)j.find(e,i[t],n);return r>1?j.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&C.test(e)?j(e):e||[],!1).length}});var M,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(j.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||M,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof j?t[0]:t,j.merge(this,j.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),A.test(r[1])&&j.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=_.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(j):j.makeArray(e,this)}).prototype=j.fn,M=j(_);var I=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}j.fn.extend({has:function(e){var t=j(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(j.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&j(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&j.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?j.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(j(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(j.uniqueSort(j.merge(this.get(),j(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),j.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),j.merge([],e.childNodes))}},(function(e,t){j.fn[e]=function(n,r){var i=j.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=j.filter(r,i)),this.length>1&&(R[e]||j.uniqueSort(i),I.test(e)&&i.reverse()),this.pushStack(i)}}));var H=/[^\x20\t\r\n\f]+/g;function q(e){return e}function F(e){throw e}function z(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}j.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return j.each(e.match(H)||[],(function(e,n){t[n]=!0})),t}(e):j.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){j.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return j.each(arguments,(function(e,t){for(var n;(n=j.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?j.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},j.extend({Deferred:function(e){var t=[["notify","progress",j.Callbacks("memory"),j.Callbacks("memory"),2],["resolve","done",j.Callbacks("once memory"),j.Callbacks("once memory"),0,"resolved"],["reject","fail",j.Callbacks("once memory"),j.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return j.Deferred((function(n){j.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(c)?i?c.call(r,s(o,t,q,i),s(o,t,F,i)):(o++,c.call(r,s(o,t,q,i),s(o,t,F,i),s(o,t,q,t.notifyWith))):(n!==q&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},h=i?c:function(){try{c()}catch(r){j.Deferred.exceptionHook&&j.Deferred.exceptionHook(r,h.stackTrace),e+1>=o&&(n!==F&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?h():(j.Deferred.getStackHook&&(h.stackTrace=j.Deferred.getStackHook()),r.setTimeout(h))}}return j.Deferred((function(r){t[0][3].add(s(0,r,v(i)?i:q,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:q)),t[2][3].add(s(0,r,v(n)?n:F))})).promise()},promise:function(e){return null!=e?j.extend(e,i):i}},o={};return j.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=j.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(z(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)z(i[n],s(n),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;j.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&B.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},j.readyException=function(e){r.setTimeout((function(){throw e}))};var W=j.Deferred();function $(){_.removeEventListener("DOMContentLoaded",$),r.removeEventListener("load",$),j.ready()}j.fn.ready=function(e){return W.then(e).catch((function(e){j.readyException(e)})),this},j.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--j.readyWait:j.isReady)||(j.isReady=!0,!0!==e&&--j.readyWait>0||W.resolveWith(_,[j]))}}),j.ready.then=W.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?r.setTimeout(j.ready):(_.addEventListener("DOMContentLoaded",$),r.addEventListener("load",$));var X=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===x(n))for(a in i=!0,n)X(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,v(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(j(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},Y=/^-ms-/,U=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function V(e){return e.replace(Y,"ms-").replace(U,K)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=j.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(H)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||j.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!j.isEmptyObject(t)}};var J=new Q,Z=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}j.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),j.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=V(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Z.set(this,e)})):X(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),j.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,j.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=j.queue(e,t),r=n.length,i=n.shift(),o=j._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){j.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:j.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),j.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?j.queue(this[0],e):void 0===t?this:this.each((function(){var n=j.queue(this,e,t);j._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&j.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){j.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=j.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=J.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=_.documentElement,ae=function(e){return j.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return j.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===j.css(e,"display")};function he(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return j.css(e,t,"")},l=a(),c=n&&n[3]||(j.cssNumber[t]?"":"px"),h=e.nodeType&&(j.cssNumber[t]||"px"!==c&&+l)&&ie.exec(j.css(e,t));if(h&&h[3]!==c){for(l/=2,c=c||h[3],h=+l||1;s--;)j.style(e,t,h+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),h/=o;h*=2,j.style(e,t,h+c),n=n||[]}return n&&(h=+h||+l||0,i=n[1]?h+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=h,r.end=i)),i}var ue={};function de(e){var t,n=e.ownerDocument,r=e.nodeName,i=ue[r];return i||(t=n.body.appendChild(n.createElement(r)),i=j.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ue[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ce(r)&&(i[o]=de(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}j.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?j(this).show():j(this).hide()}))}});var pe,ge,me=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;pe=_.createDocumentFragment().appendChild(_.createElement("div")),(ge=_.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),pe.appendChild(ge),m.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",m.option=!!pe.lastChild;var _e={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?j.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,m.option||(_e.optgroup=_e.option=[1,"<select multiple='multiple'>","</select>"]);var xe=/<|&#?\w+;/;function ke(e,t,n,r,i){for(var o,s,a,l,c,h,u=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===x(o))j.merge(d,o.nodeType?[o]:o);else if(xe.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(ve.exec(o)||["",""])[1].toLowerCase(),l=_e[a]||_e._default,s.innerHTML=l[1]+j.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;j.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(t.createTextNode(o));for(u.textContent="",f=0;o=d[f++];)if(r&&j.inArray(o,r)>-1)i&&i.push(o);else if(c=ae(o),s=be(u.appendChild(o),"script"),c&&we(s),n)for(h=0;o=s[h++];)ye.test(o.type||"")&&n.push(o);return u}var je=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Ee(){return!1}function Oe(e,t){return e===function(){try{return _.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return j().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=j.guid++)),e.each((function(){j.event.add(this,t,i,r,n)}))}function Ce(e,t,n){n?(J.set(e,t,!1),j.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(j.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),J.set(this,t,o),r=n(this,t),this[t](),o!==(i=J.get(this,t))||r?J.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(J.set(this,t,{value:j.event.trigger(j.extend(o[0],j.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&j.event.add(e,t,Se)}j.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,h,u,d,f,p,g,m=J.get(e);if(G(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&j.find.matchesSelector(se,i),n.guid||(n.guid=j.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==j&&j.event.triggered!==t.type?j.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(H)||[""]).length;c--;)f=g=(a=je.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=j.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=j.event.special[f]||{},h=j.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&j.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,p,s)||e.addEventListener&&e.addEventListener(f,s)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,h):d.push(h),j.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,h,u,d,f,p,g,m=J.hasData(e)&&J.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(H)||[""]).length;c--;)if(f=g=(a=je.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(u=j.event.special[f]||{},d=l[f=(r?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)h=d[o],!i&&g!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(e,h));s&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,p,m.handle)||j.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)j.event.remove(e,f+t[c],n,r,!0);j.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=j.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],h=j.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(s=j.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((j.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?j(i,this).index(c)>-1:j.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(j.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[j.expando]?e:new j.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Ce(t,"click",Se),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&P(t,"input")&&Ce(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&P(t,"input")&&J.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},j.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},j.Event=function(e,t){if(!(this instanceof j.Event))return new j.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&j.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[j.expando]=!0},j.Event.prototype={constructor:j.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},j.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},j.event.addProp),j.each({focus:"focusin",blur:"focusout"},(function(e,t){j.event.special[e]={setup:function(){return Ce(this,e,Oe),!1},trigger:function(){return Ce(this,e),!0},_default:function(){return!0},delegateType:t}})),j.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){j.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||j.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),j.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,j(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each((function(){j.event.remove(this,e,n,t)}))}});var Pe=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Me(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&j(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(J.hasData(e)&&(a=J.get(e).events))for(i in J.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)j.event.add(t,i,a[i][n]);Z.hasData(e)&&(o=Z.access(e),s=j.extend({},o),Z.set(t,s))}}function De(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function He(e,t,n,r){t=l(t);var i,o,s,a,c,h,u=0,d=e.length,f=d-1,p=t[0],g=v(p);if(g||d>1&&"string"==typeof p&&!m.checkClone&&Ae.test(p))return e.each((function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),He(o,t,n,r)}));if(d&&(o=(i=ke(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=j.map(be(i,"script"),Ne)).length;u<d;u++)c=i,u!==f&&(c=j.clone(c,!0,!0),a&&j.merge(s,be(c,"script"))),n.call(e[u],c,u);if(a)for(h=s[s.length-1].ownerDocument,j.map(s,Ie),u=0;u<a;u++)c=s[u],ye.test(c.type||"")&&!J.access(c,"globalEval")&&j.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?j._evalUrl&&!c.noModule&&j._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):w(c.textContent.replace(Le,""),c,h))}return e}function qe(e,t,n){for(var r,i=t?j.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||j.cleanData(be(r)),r.parentNode&&(n&&ae(r)&&we(be(r,"script")),r.parentNode.removeChild(r));return e}j.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ae(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||j.isXMLDoc(e)))for(s=be(a),r=0,i=(o=be(e)).length;r<i;r++)De(o[r],s[r]);if(t)if(n)for(o=o||be(e),s=s||be(a),r=0,i=o.length;r<i;r++)Re(o[r],s[r]);else Re(e,a);return(s=be(a,"script")).length>0&&we(s,!l&&be(e,"script")),a},cleanData:function(e){for(var t,n,r,i=j.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?j.event.remove(n,r):j.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),j.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return X(this,(function(e){return void 0===e?j.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return He(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)}))},prepend:function(){return He(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return He(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return He(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(j.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return j.clone(this,e,t)}))},html:function(e){return X(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!_e[(ve.exec(e)||["",""])[1].toLowerCase()]){e=j.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(j.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return He(this,arguments,(function(t){var n=this.parentNode;j.inArray(this,e)<0&&(j.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){j.fn[e]=function(e){for(var n,r=[],i=j(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),j(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Fe=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Be=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(oe.join("|"),"i");function $e(e,t,n){var r,i,o,s,a=e.style;return(n=n||ze(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ae(e)||(s=j.style(e,t)),!m.pixelBoxStyles()&&Fe.test(s)&&We.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(h);var e=r.getComputedStyle(h);n="1%"!==e.top,l=12===t(e.marginLeft),h.style.right="60%",s=36===t(e.right),i=36===t(e.width),h.style.position="absolute",o=12===t(h.offsetWidth/3),se.removeChild(c),h=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=_.createElement("div"),h=_.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===h.style.backgroundClip,j.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=_.createElement("table"),t=_.createElement("tr"),n=_.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ye=["Webkit","Moz","ms"],Ue=_.createElement("div").style,Ke={};function Ve(e){return j.cssProps[e]||Ke[e]||(e in Ue?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;)if((e=Ye[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=j.css(e,n+oe[s],!0,i)),r?("content"===n&&(l-=j.css(e,"padding"+oe[s],!0,i)),"margin"!==n&&(l-=j.css(e,"border"+oe[s]+"Width",!0,i))):(l+=j.css(e,"padding"+oe[s],!0,i),"padding"!==n?l+=j.css(e,"border"+oe[s]+"Width",!0,i):a+=j.css(e,"border"+oe[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function nt(e,t,n){var r=ze(e),i=(!m.boxSizingReliable()||n)&&"border-box"===j.css(e,"boxSizing",!1,r),o=i,s=$e(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Fe.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&P(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===j.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===j.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+tt(e,t,n||(i?"border":"content"),o,r,s)+"px"}function rt(e,t,n,r,i){return new rt.prototype.init(e,t,n,r,i)}j.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=V(t),l=Qe.test(t),c=e.style;if(l||(t=Ve(a)),s=j.cssHooks[t]||j.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=he(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(j.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=V(t);return Qe.test(t)||(t=Ve(a)),(s=j.cssHooks[t]||j.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=$e(e,t,r)),"normal"===i&&t in Ze&&(i=Ze[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),j.each(["height","width"],(function(e,t){j.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(j.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):Be(e,Je,(function(){return nt(e,t,r)}))},set:function(e,n,r){var i,o=ze(e),s=!m.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===j.css(e,"boxSizing",!1,o),l=r?tt(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),l&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=j.css(e,t)),et(0,n,l)}}})),j.cssHooks.marginLeft=Xe(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),j.each({margin:"",padding:"",border:"Width"},(function(e,t){j.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(j.cssHooks[e+t].set=et)})),j.fn.extend({css:function(e,t){return X(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=ze(e),i=t.length;s<i;s++)o[t[s]]=j.css(e,t[s],!1,r);return o}return void 0!==n?j.style(e,t,n):j.css(e,t)}),e,t,arguments.length>1)}}),j.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||j.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(j.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=j.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=j.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){j.fx.step[e.prop]?j.fx.step[e.prop](e):1!==e.elem.nodeType||!j.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:j.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},j.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},j.fx=rt.prototype.init,j.fx.step={};var it,ot,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function lt(){ot&&(!1===_.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(lt):r.setTimeout(lt,j.fx.interval),j.fx.tick())}function ct(){return r.setTimeout((function(){it=void 0})),it=Date.now()}function ht(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function dt(e,t,n){var r,i,o=0,s=dt.prefilters.length,a=j.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=it||ct(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:j.extend({},t),opts:j.extend(!0,{specialEasing:{},easing:j.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||ct(),duration:n.duration,tweens:[],createTween:function(t,n){var r=j.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),h=c.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=j.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(h,c.opts.specialEasing);o<s;o++)if(r=dt.prefilters[o].call(c,e,h,c.opts))return v(r.stop)&&(j._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return j.map(h,ut,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),j.fx.timer(j.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}j.Animation=j.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(H);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,h,u="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&ce(e),m=J.get(e,"fxshow");for(r in n.queue||(null==(s=j._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,j.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||j.style(e,r)}if((l=!j.isEmptyObject(t))||!j.isEmptyObject(f))for(r in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=J.get(e,"display")),"none"===(h=j.css(e,"display"))&&(c?h=c:(fe([e],!0),c=e.style.display||c,h=j.css(e,"display"),fe([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===j.css(e,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(h=p.display,c="none"===h?"":h)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&fe([e],!0),d.done((function(){for(r in g||fe([e]),J.remove(e,"fxshow"),f)j.style(e,r,f[r])}))),l=ut(g?m[r]:0,r,d),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),j.speed=function(e,t,n){var r=e&&"object"==typeof e?j.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return j.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in j.fx.speeds?r.duration=j.fx.speeds[r.duration]:r.duration=j.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&j.dequeue(this,r.queue)},r},j.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=j.isEmptyObject(e),o=j.speed(t,n,r),s=function(){var t=dt(this,j.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=j.timers,s=J.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&at.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||j.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=j.timers,s=r?r.length:0;for(n.finish=!0,j.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),j.each(["toggle","show","hide"],(function(e,t){var n=j.fn[t];j.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,r,i)}})),j.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){j.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),j.timers=[],j.fx.tick=function(){var e,t=0,n=j.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||j.fx.stop(),it=void 0},j.fx.timer=function(e){j.timers.push(e),j.fx.start()},j.fx.interval=13,j.fx.start=function(){ot||(ot=!0,lt())},j.fx.stop=function(){ot=null},j.fx.speeds={slow:600,fast:200,_default:400},j.fn.delay=function(e,t){return e=j.fx&&j.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=_.createElement("input"),t=_.createElement("select").appendChild(_.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=_.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var ft,pt=j.expr.attrHandle;j.fn.extend({attr:function(e,t){return X(this,j.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){j.removeAttr(this,e)}))}}),j.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?j.prop(e,t,n):(1===o&&j.isXMLDoc(e)||(i=j.attrHooks[t.toLowerCase()]||(j.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void j.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=j.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(H);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?j.removeAttr(e,n):e.setAttribute(n,n),n}},j.each(j.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||j.find.attr;pt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=pt[s],pt[s]=i,i=null!=n(e,t,r)?s:null,pt[s]=o),i}}));var gt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function vt(e){return(e.match(H)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(H)||[]}j.fn.extend({prop:function(e,t){return X(this,j.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[j.propFix[e]||e]}))}}),j.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&j.isXMLDoc(e)||(t=j.propFix[t]||t,i=j.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=j.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(j.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),j.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){j.propFix[this.toLowerCase()]=this})),j.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(v(e))return this.each((function(t){j(this).addClass(e.call(this,t,yt(this)))}));if((t=_t(e)).length)for(;n=this[l++];)if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=vt(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(v(e))return this.each((function(t){j(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=_t(e)).length)for(;n=this[l++];)if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=vt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){j(this).toggleClass(e.call(this,n,yt(this),t),t)})):this.each((function(){var t,i,o,s;if(r)for(i=0,o=j(this),s=_t(e);t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+vt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;j.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,j(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=j.map(i,(function(e){return null==e?"":e+""}))),(t=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=j.valHooks[i.type]||j.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n:void 0}}),j.extend({valHooks:{option:{get:function(e){var t=j.find.attr(e,"value");return null!=t?t:vt(j.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=j(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=j.makeArray(t),s=i.length;s--;)((r=i[s]).selected=j.inArray(j.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),j.each(["radio","checkbox"],(function(){j.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=j.inArray(j(e).val(),t)>-1}},m.checkOn||(j.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in r;var wt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};j.extend(j.event,{trigger:function(e,t,n,i){var o,s,a,l,c,h,u,d,p=[n||_],g=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!wt.test(g+j.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[j.expando]?e:new j.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:j.makeArray(t,[e]),u=j.event.special[g]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!y(n)){for(l=u.delegateType||g,wt.test(l+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||_)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?l:u.bindType||g,(h=(J.get(s,"events")||Object.create(null))[e.type]&&J.get(s,"handle"))&&h.apply(s,t),(h=c&&s[c])&&h.apply&&G(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!G(n)||c&&v(n[g])&&!y(n)&&((a=n[c])&&(n[c]=null),j.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,xt),n[g](),e.isPropagationStopped()&&d.removeEventListener(g,xt),j.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=j.extend(new j.Event,n,{type:e,isSimulated:!0});j.event.trigger(r,null,t)}}),j.fn.extend({trigger:function(e,t){return this.each((function(){j.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return j.event.trigger(e,t,n,!0)}}),m.focusin||j.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){j.event.simulate(t,e.target,j.event.fix(e))};j.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}}));var kt=r.location,jt={guid:Date.now()},St=/\?/;j.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||j.error("Invalid XML: "+(n?j.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Et=/\[\]$/,Ot=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function Pt(e,t,n,r){var i;if(Array.isArray(t))j.each(t,(function(t,i){n||Et.test(e)?r(e,i):Pt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(i in t)Pt(e+"["+i+"]",t[i],n,r)}j.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!j.isPlainObject(e))j.each(e,(function(){i(this.name,this.value)}));else for(n in e)Pt(n,e[n],t,i);return r.join("&")},j.fn.extend({serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=j.prop(this,"elements");return e?j.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!j(this).is(":disabled")&&Ct.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=j(this).val();return null==n?null:Array.isArray(n)?j.map(n,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:n.replace(Ot,"\r\n")}})).get()}});var At=/%20/g,Lt=/#.*$/,Mt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Rt=/^\/\//,Dt={},Ht={},qt="*/".concat("*"),Ft=_.createElement("a");function zt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(H)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Bt(e,t,n,r){var i={},o=e===Ht;function s(a){var l;return i[a]=!0,j.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Wt(e,t){var n,r,i=j.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&j.extend(!0,e,r),e}Ft.href=kt.href,j.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":j.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,j.ajaxSettings),t):Wt(j.ajaxSettings,e)},ajaxPrefilter:zt(Dt),ajaxTransport:zt(Ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,l,c,h,u,d,f=j.ajaxSetup({},t),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?j(p):j.event,m=j.Deferred(),v=j.Callbacks("once memory"),y=f.statusCode||{},b={},w={},x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Nt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),S(0,t),this}};if(m.promise(k),f.url=((e||f.url||kt.href)+"").replace(Rt,kt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(H)||[""],null==f.crossDomain){l=_.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=j.param(f.data,f.traditional)),Bt(Dt,f,t,k),c)return k;for(u in(h=j.event&&f.global)&&0==j.active++&&j.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!It.test(f.type),i=f.url.replace(Lt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(At,"+")):(d=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(St.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Mt,"$1"),d=(St.test(i)?"&":"?")+"_="+jt.guid+++d),f.url=i+d),f.ifModified&&(j.lastModified[i]&&k.setRequestHeader("If-Modified-Since",j.lastModified[i]),j.etag[i]&&k.setRequestHeader("If-None-Match",j.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+qt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(p,k,f)||c))return k.abort();if(x="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),n=Bt(Ht,f,t,k)){if(k.readyState=1,h&&g.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(a=r.setTimeout((function(){k.abort("timeout")}),f.timeout));try{c=!1,n.send(b,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,s,l){var u,d,_,b,w,x=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(b=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,k,s)),!u&&j.inArray("script",f.dataTypes)>-1&&j.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(e,t,n,r){var i,o,s,a,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=h.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,b,k,u),u?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(j.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(j.etag[i]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=b.state,d=b.data,u=!(_=b.error))):(_=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(t||x)+"",u?m.resolveWith(p,[d,x,k]):m.rejectWith(p,[k,x,_]),k.statusCode(y),y=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,f,u?d:_]),v.fireWith(p,[k,x]),h&&(g.trigger("ajaxComplete",[k,f]),--j.active||j.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return j.get(e,t,n,"json")},getScript:function(e,t){return j.get(e,void 0,t,"script")}}),j.each(["get","post"],(function(e,t){j[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),j.ajax(j.extend({url:e,type:t,dataType:i,data:n,success:r},j.isPlainObject(e)&&e))}})),j.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),j._evalUrl=function(e,t,n){return j.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){j.globalEval(e,t,n)}})},j.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=j(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){j(this).wrapInner(e.call(this,t))})):this.each((function(){var t=j(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){j(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){j(this).replaceWith(this.childNodes)})),this}}),j.expr.pseudos.hidden=function(e){return!j.expr.pseudos.visible(e)},j.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},j.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Xt=j.ajaxSettings.xhr();m.cors=!!Xt&&"withCredentials"in Xt,m.ajax=Xt=!!Xt,j.ajaxTransport((function(e){var t,n;if(m.cors||Xt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o($t[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),j.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return j.globalEval(e),e}}}),j.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),j.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=j("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),_.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Yt,Ut=[],Kt=/(=)\?(?=&|$)|\?\?/;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||j.expando+"_"+jt.guid++;return this[e]=!0,e}}),j.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Kt,"$1"+i):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||j.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?j(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ut.push(i)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),m.createHTMLDocument=((Yt=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Yt.childNodes.length),j.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,t.head.appendChild(r)):t=_),o=!n&&[],(i=A.exec(e))?[t.createElement(i[1])]:(i=ke([e],t,o),o&&o.length&&j(o).remove(),j.merge([],i.childNodes)));var r,i,o},j.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=vt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&j.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?j("<div>").append(j.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},j.expr.pseudos.animated=function(e){return j.grep(j.timers,(function(t){return e===t.elem})).length},j.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=j.css(e,"position"),h=j(e),u={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=j.css(e,"top"),l=j.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=h.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),v(t)&&(t=t.call(e,n,j.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+i),"using"in t?t.using.call(e,u):h.css(u)}},j.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){j.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===j.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===j.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=j(e).offset()).top+=j.css(e,"borderTopWidth",!0),i.left+=j.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-j.css(r,"marginTop",!0),left:t.left-i.left-j.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===j.css(e,"position");)e=e.offsetParent;return e||se}))}}),j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;j.fn[e]=function(r){return X(this,(function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),j.each(["top","left"],(function(e,t){j.cssHooks[t]=Xe(m.pixelPosition,(function(e,n){if(n)return n=$e(e,t),Fe.test(n)?j(e).position()[t]+"px":n}))})),j.each({Height:"height",Width:"width"},(function(e,t){j.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){j.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return X(this,(function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?j.css(t,n,a):j.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),j.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){j.fn[t]=function(e){return this.on(t,e)}})),j.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),j.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){j.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Vt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;j.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||j.guid++,i},j.holdReady=function(e){e?j.readyWait++:j.ready(!0)},j.isArray=Array.isArray,j.parseJSON=JSON.parse,j.nodeName=P,j.isFunction=v,j.isWindow=y,j.camelCase=V,j.type=x,j.now=Date.now,j.isNumeric=function(e){var t=j.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},j.trim=function(e){return null==e?"":(e+"").replace(Vt,"")},void 0===(n=function(){return j}.apply(t,[]))||(e.exports=n);var Gt=r.jQuery,Qt=r.$;return j.noConflict=function(e){return r.$===j&&(r.$=Qt),e&&r.jQuery===j&&(r.jQuery=Gt),j},void 0===i&&(r.jQuery=r.$=j),j}))},111:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(563)],void 0===(o="function"==typeof(r=function(e,t){if(!e.jstree){var n=0,r=!1,i=!1,o=!1,s=[],a=e("script:last").attr("src"),l=window.document,c=window.setImmediate,h=window.Promise;!c&&h&&(c=function(e,t){h.resolve(t).then(e)}),e.jstree={version:"3.3.11",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var i=new e.jstree.core(++n),o=r;return r=e.extend(!0,{},e.jstree.defaults,r),o&&o.plugins&&(r.plugins=o.plugins),e.each(r.plugins,(function(e,t){"core"!==e&&(i=i.plugin(t,r[t]))})),e(t).data("jstree",i),i.init(t,r),i},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(e){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?n=r:e(".jstree").each((function(){var r=e(this).data("jstree");if(r&&r._model.data[t])return n=r,!1})),n},e.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),o=null;return!(!0===n&&!this.length)&&(this.each((function(){var s=e.jstree.reference(this),a=r&&s?s[n]:null;if(o=r&&a?a.apply(s,i):null,s||r||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(s&&!r||!0===n)&&(o=s||!1),null!==o&&o!==t)return!1})),null!==o&&o!==t?o:this)},e.expr.pseudos.jstree=e.expr.createPseudo((function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}})),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,(function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}));else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter((function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))})).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=l.createElement("LI");return n.setAttribute("role","none"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),e.setAttribute("role","treeitem"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];if(e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),"shift-shift"===(t=t.sort().join("-").toLowerCase())||"ctrl-ctrl"===t||"alt-alt"===t)return null;var n,r,i=this.settings.core.keyboard;for(n in i)if(i.hasOwnProperty(n)&&("-"!==(r=n)&&"+"!==r&&(r=(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),r===t))return i[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",(function(){return this.className.replace(/jstree[^ ]*|$/gi,"")})),this.element=null},bind:function(){var t="",n=null,r=0;this.element.on("dblclick.jstree",(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}})).on("mousedown.jstree",e.proxy((function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)}),this)).on("mousedown.jstree",".jstree-ocl",(function(e){e.preventDefault()})).on("click.jstree",".jstree-ocl",e.proxy((function(e){this.toggle_node(e.target)}),this)).on("dblclick.jstree",".jstree-anchor",e.proxy((function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)}),this)).on("click.jstree",".jstree-anchor",e.proxy((function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)}),this)).on("keydown.jstree",".jstree-anchor",e.proxy((function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}}),this)).on("load_node.jstree",e.proxy((function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy((function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,r=[];for(t=0,n=this._data.core.selected.length;t<n;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(r=e.vakata.array_unique(r)).length;t<n;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}),this),0))}),this)).on("keypress.jstree",e.proxy((function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout((function(){t=""}),500);var i=String.fromCharCode(r.which).toLowerCase(),o=this.element.find(".jstree-anchor").filter(":visible"),s=o.index(l.activeElement)||0,a=!1;if((t+=i).length>1){if(o.slice(s).each(e.proxy((function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),a=!0,!1}),this)),a)return;if(o.slice(0,s).each(e.proxy((function(n,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).focus(),a=!0,!1}),this)),a)return}if(new RegExp("^"+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(o.slice(s+1).each(e.proxy((function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).focus(),a=!0,!1}),this)),a)return;if(o.slice(0,s+1).each(e.proxy((function(t,n){if(e(n).text().toLowerCase().charAt(0)===i)return e(n).focus(),a=!0,!1}),this)),a)return}}),this)).on("init.jstree",e.proxy((function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)}),this)).on("loading.jstree",e.proxy((function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}),this)).on("blur.jstree",".jstree-anchor",e.proxy((function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")}),this)).on("focus.jstree",".jstree-anchor",e.proxy((function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")}),this)).on("focus.jstree",e.proxy((function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}}),this)).on("mouseenter.jstree",".jstree-anchor",e.proxy((function(e){this.hover_node(e.currentTarget)}),this)).on("mouseleave.jstree",".jstree-anchor",e.proxy((function(e){this.dehover_node(e.currentTarget)}),this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var r;t&&t.id&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(t)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=this.element.find(t)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,r){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var i,o,s=[];for(s.push(r?t.id:t.text),i=0,o=t.parents.length;i<o;i++)s.push(r?t.parents[i]:this.get_text(t.parents[i]));return s=s.reverse().slice(1),n?s.join(n):s},get_next_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&e(r)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var r,i,o,s,a;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,o=0,s=t.parents.length;o<s;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,(function(n){return-1===e.inArray(n,t.children_d)}));for(r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.selected&&(a=!0),delete this._model.data[t.children_d[r]];a&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(n){return-1===e.inArray(n,t.children_d)}))),t.children=[],t.children_d=[],a&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy((function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r,i=this.get_node(t,!0),o=0,s=this._model.data,a=!1;for(o=0,r=t.children.length;o<r;o++)if(s[t.children[o]]&&!s[t.children[o]].state.hidden){a=!0;break}t.state.loaded&&i&&i.length&&(i.removeClass("jstree-closed jstree-open jstree-leaf"),a?"#"!==t.id&&i.addClass(t.state.opened?"jstree-open":"jstree-closed"):i.addClass("jstree-leaf")),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)}),this)),!0},_load_nodes:function(e,t,n,r){var i,o,s=!0,a=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(i=0,o=e.length;i<o;i++)l[e[i]]&&(!l[e[i]].state.loaded&&!l[e[i]].state.failed||!n&&r)&&(this.is_loading(e[i])||this.load_node(e[i],a),s=!1);if(s){for(i=0,o=e.length;i<o;i++)l[e[i]]&&l[e[i]].state.loaded&&c.push(e[i]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,o=[],s=this._model.data,a=s[t.id].children_d;for(t.state&&!t.state.loaded&&o.push(t.id),r=0,i=a.length;r<i;r++)s[a[r]]&&s[a[r]].state&&!s[a[r]].state.loaded&&o.push(a[r]);o.length?this._load_nodes(o,(function(){this.load_all(t,n)})):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var r,i=this.settings.core.data,o=function(){return 3!==this.nodeType&&8!==this.nodeType};return i?e.isFunction(i)?i.call(this,t,e.proxy((function(r){!1===r?n.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(o):r,(function(e){n.call(this,e)}))}),this)):"object"==typeof i?i.url?(i=e.extend(!0,{},i),e.isFunction(i.url)&&(i.url=i.url.call(this,t)),e.isFunction(i.data)&&(i.data=i.data.call(this,t)),e.ajax(i).done(e.proxy((function(r,i,s){var a=s.getResponseHeader("Content-Type");return a&&-1!==a.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,(function(e){n.call(this,e)})):a&&-1!==a.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(o),(function(e){n.call(this,e)})):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:s})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))}),this)).fail(e.proxy((function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}),this))):(r=e.isArray(i)?e.extend(!0,[],i):e.isPlainObject(i)?e.extend(!0,{},i):i,t.id===e.jstree.root?this._append_json_data(t,r,(function(e){n.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof i?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(i)).filter(o),(function(e){n.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),(function(e){n.call(this,e)})):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,r){(t=this.get_node(t)).children=[],t.children_d=[];var i,o,s,a=n.is("ul")?n.children():n,l=t.id,c=[],h=[],u=this._model.data,d=u[l],f=this._data.core.selected.length;for(a.each(e.proxy((function(t,n){(i=this._parse_model_from_html(e(n),l,d.parents.concat()))&&(c.push(i),h.push(i),u[i].children_d.length&&(h=h.concat(u[i].children_d)))}),this)),d.children=c,d.children_d=h,o=0,s=d.parents.length;o<s;o++)u[d.parents[o]].children_d=u[d.parents[o]].children_d.concat(h);this.trigger("model",{nodes:h,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,n,r,i){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var o=null,s={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=this,l=function(e,t){e.data&&(e=e.data);var n,r,i,o,s=e.dat,l=e.par,c=[],h=[],u=[],d=e.df,f=e.t_id,p=e.t_cnt,g=e.m,m=g[l],v=e.sel,y=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,o,s,a,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in d)d.hasOwnProperty(i)&&(c.state[i]=d[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(c.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(c.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(c.li_attr[i]=e.li_attr[i]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(c.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),g[c.id]=c,i=0,o=c.children.length;i<o;i++)s=y(g[c.children[i]],c.id,r),a=g[s],c.children_d.push(s),a.children_d.length&&(c.children_d=c.children_d.concat(a.children_d));return delete e.data,delete e.children,g[c.id].original=e,c.state.selected&&u.push(c.id),c.id},_=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,o,s,a,l,c=!1;do{c="j"+f+"_"+ ++p}while(g[c]);for(i in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(i)&&(l.state[i]=d[i]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(l.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(l.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(l.li_attr[i]=e.li_attr[i]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(l.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,o=e.children.length;i<o;i++)s=_(e.children[i],l.id,r),a=g[s],l.children.push(s),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,g[l.id]=l,l.state.selected&&u.push(l.id),l.id};if(s.length&&s[0].id!==t&&s[0].parent!==t){for(r=0,i=s.length;r<i;r++)s[r].children||(s[r].children=[]),s[r].state||(s[r].state={}),g[s[r].id.toString()]=s[r];for(r=0,i=s.length;r<i;r++)g[s[r].parent.toString()]?(g[s[r].parent.toString()].children.push(s[r].id.toString()),m.children_d.push(s[r].id.toString())):void 0!==a&&(a._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[r].id.toString(),parent:s[r].parent.toString()})},a.settings.core.error.call(a,a._data.core.last_error));for(r=0,i=m.children.length;r<i;r++)n=y(g[m.children[r]],l,m.parents.concat()),h.push(n),g[n].children_d.length&&(h=h.concat(g[n].children_d));for(r=0,i=m.parents.length;r<i;r++)g[m.parents[r]].children_d=g[m.parents[r]].children_d.concat(h);o={cnt:p,mod:g,sel:v,par:l,dpc:h,add:u}}else{for(r=0,i=s.length;r<i;r++)(n=_(s[r],l,m.parents.concat()))&&(c.push(n),h.push(n),g[n].children_d.length&&(h=h.concat(g[n].children_d)));for(m.children=c,m.children_d=h,r=0,i=m.parents.length;r<i;r++)g[m.parents[r]].children_d=g[m.parents[r]].children_d.concat(h);o={cnt:p,mod:g,sel:v,par:l,dpc:h,add:u}}if("undefined"!=typeof window&&void 0!==window.document)return o;postMessage(o)},h=function(t,n){if(null!==this.element){this._cnt=t.cnt;var i,o=this._model.data;for(i in o)o.hasOwnProperty(i)&&o[i].state&&o[i].state.loading&&t.mod[i]&&(t.mod[i].state.loading=!0);if(this._model.data=t.mod,n){var s,l=t.add,h=t.sel,u=this._data.core.selected.slice();if(o=this._model.data,h.length!==u.length||e.vakata.array_unique(h.concat(u)).length!==h.length){for(i=0,s=h.length;i<s;i++)-1===e.inArray(h[i],l)&&-1===e.inArray(h[i],u)&&(o[h[i]].state.selected=!1);for(i=0,s=u.length;i<s;i++)-1===e.inArray(u[i],h)&&(o[u[i]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!n&&c?c((function(){r.call(a,!0)})):r.call(a,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,(o=new window.Worker(this._wrk)).onmessage=e.proxy((function(e){h.call(this,e.data,!0);try{o.terminate(),o=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}),this),s.par?o.postMessage(s):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,r,!0])}catch(e){h.call(this,l(s),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else h.call(this,l(s),!1)}},_parse_model_from_html:function(n,r,i){i=i?[].concat(i):[],r&&i.unshift(r);var o,s,a,l,c,h=this._model.data,u={id:!1,text:!1,icon:!0,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(u.state[a]=this._model.default_state[a]);if(l=e.vakata.attributes(n,!0),e.each(l,(function(t,n){if(!(n=e.vakata.trim(n)).length)return!0;u.li_attr[t]=n,"id"===t&&(u.id=n.toString())})),(l=n.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,(function(t,n){(n=e.vakata.trim(n)).length&&(u.a_attr[t]=n)}))),(l=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div></div>").html(l),u.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),u.data=l?e.extend(!0,{},l):null,u.state.opened=n.hasClass("jstree-open"),u.state.selected=n.children("a").hasClass("jstree-clicked"),u.state.disabled=n.children("a").hasClass("jstree-disabled"),u.data&&u.data.jstree)for(a in u.data.jstree)u.data.jstree.hasOwnProperty(a)&&(u.state[a]=u.data.jstree[a]);(l=n.children("a").children(".jstree-themeicon")).length&&(u.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),u.state.icon!==t&&(u.icon=u.state.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),l=n.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(h[c]);return u.id=u.li_attr.id?u.li_attr.id.toString():c,l.length?(l.each(e.proxy((function(t,n){o=this._parse_model_from_html(e(n),u.id,i),s=this._model.data[o],u.children.push(o),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d))}),this)),u.children_d=u.children_d.concat(u.children)):n.hasClass("jstree-closed")&&(u.state.loaded=!1),u.li_attr.class&&(u.li_attr.class=u.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),u.a_attr.class&&(u.a_attr.class=u.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),h[u.id]=u,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_flat_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,o,s,a,l=e.id.toString(),c=this._model.data,h=this._model.default_state,u={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(u.state[i]=h[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(u.icon=e.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),e&&e.data&&(u.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(u.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(u.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(u.li_attr[i]=e.li_attr[i]);if(u.li_attr.id||(u.li_attr.id=l),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(u.a_attr[i]=e.a_attr[i]);for(e&&e.children&&!0===e.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),c[u.id]=u,i=0,o=u.children.length;i<o;i++)a=c[s=this._parse_model_from_flat_json(c[u.children[i]],u.id,r)],u.children_d.push(s),a.children_d.length&&(u.children_d=u.children_d.concat(a.children_d));return delete e.data,delete e.children,c[u.id].original=e,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,o,s,a,l,c=!1,h=this._model.data,u=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(h[c]);for(i in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(i)&&(l.state[i]=u[i]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(l.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(l.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(l.li_attr[i]=e.li_attr[i]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(l.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,o=e.children.length;i<o;i++)a=h[s=this._parse_model_from_json(e.children[i],l.id,r)],l.children.push(s),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children.concat(l.children_d)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,h[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,r,i=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),o=l.createElement("UL"),s=this._data.core.focused;for(n=0,r=i.length;n<r;n++)(t=this.redraw_node(i[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&o.appendChild(t);this._model.force_full_redraw&&(o.className=this.get_container_ul()[0].className,o.setAttribute("role","group"),this.element.empty().append(o)),null!==s&&this.settings.core.restore_focus&&((t=this.get_node(s,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),r=!1,i=!1,o=!1,s=l;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((o=s.createElement("UL")).setAttribute("role","group"),o.className="jstree-children",r=0,i=n.children.length;r<i;r++)o.appendChild(this.redraw_node(n.children[r],!0,!0));t.appendChild(o)}},redraw_node:function(t,n,r,i){var o=this.get_node(t),s=!1,a=!1,c=!1,h=!1,u=!1,d=!1,f="",p=l,g=this._model.data,m=!1,v=null,y=0,_=0,b=!1,w=!1;if(!o)return!1;if(o.id===e.jstree.root)return this.redraw(!0);if(n=n||0===o.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(o.id[0])?"\\3"+o.id[0]+" "+o.id.substr(1).replace(e.jstree.idregex,"\\$&"):o.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(o.id))t=e(t),r||((s=t.parent().parent()[0])===this.element[0]&&(s=null),a=t.index()),n||!o.children.length||t.children(".jstree-children").length||(n=!0),n||(c=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(n=!0,!r){if(!(null===(s=o.parent!==e.jstree.root?e("#"+o.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&g[o.parent].state.opened))return!1;a=e.inArray(o.id,null===s?g[e.jstree.root].children:g[o.parent].children)}for(h in t=this._data.core.node.cloneNode(!0),f="jstree-node ",o.li_attr)if(o.li_attr.hasOwnProperty(h)){if("id"===h)continue;"class"!==h?t.setAttribute(h,o.li_attr[h]):f+=o.li_attr[h]}for(o.a_attr.id||(o.a_attr.id=o.id+"_anchor"),t.childNodes[1].setAttribute("aria-selected",!!o.state.selected),t.childNodes[1].setAttribute("aria-level",o.parents.length),this.settings.core.compute_elements_positions&&(t.childNodes[1].setAttribute("aria-setsize",g[o.parent].children.length),t.childNodes[1].setAttribute("aria-posinset",g[o.parent].children.indexOf(o.id)+1)),o.state.disabled&&t.childNodes[1].setAttribute("aria-disabled",!0),h=0,u=o.children.length;h<u;h++)if(!g[o.children[h]].state.hidden){b=!0;break}if(null!==o.parent&&g[o.parent]&&!o.state.hidden&&(h=e.inArray(o.id,g[o.parent].children),w=o.id,-1!==h))for(h++,u=g[o.parent].children.length;h<u&&(g[g[o.parent].children[h]].state.hidden||(w=g[o.parent].children[h]),w===o.id);h++);for(u in o.state.hidden&&(f+=" jstree-hidden"),o.state.loading&&(f+=" jstree-loading"),o.state.loaded&&!b?f+=" jstree-leaf":(f+=o.state.opened&&o.state.loaded?" jstree-open":" jstree-closed",t.childNodes[1].setAttribute("aria-expanded",o.state.opened&&o.state.loaded)),w===o.id&&(f+=" jstree-last"),t.id=o.id,t.className=f,f=(o.state.selected?" jstree-clicked":"")+(o.state.disabled?" jstree-disabled":""),o.a_attr)if(o.a_attr.hasOwnProperty(u)){if("href"===u&&"#"===o.a_attr[u])continue;"class"!==u?t.childNodes[1].setAttribute(u,o.a_attr[u]):f+=" "+o.a_attr[u]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(o.icon&&!0!==o.icon||!1===o.icon)&&(!1===o.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===o.icon.indexOf("/")&&-1===o.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+o.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+o.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(o.text)):t.childNodes[1].innerHTML+=o.text,n&&o.children.length&&(o.state.opened||i)&&o.state.loaded){for((d=p.createElement("UL")).setAttribute("role","group"),d.className="jstree-children",h=0,u=o.children.length;h<u;h++)d.appendChild(this.redraw_node(o.children[h],n,!0));t.appendChild(d)}if(c&&t.appendChild(c),!r){for(s||(s=this.element[0]),h=0,u=s.childNodes.length;h<u;h++)if(s.childNodes[h]&&s.childNodes[h].className&&-1!==s.childNodes[h].className.indexOf("jstree-children")){v=s.childNodes[h];break}v||((v=p.createElement("UL")).setAttribute("role","group"),v.className="jstree-children",s.appendChild(v)),a<(s=v).childNodes.length?s.insertBefore(t,s.childNodes[a]):s.appendChild(t),m&&(y=this.element[0].scrollTop,_=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=y,this.element[0].scrollLeft=_)}return o.state.opened&&!o.state.loaded&&(o.state.opened=!1,setTimeout(e.proxy((function(){this.open_node(o.id,!1,0)}),this),0)),t},open_node:function(n,r,i){var o,s,a,l;if(e.isArray(n)){for(o=0,s=(n=n.slice()).length;o<s;o++)this.open_node(n[o],r,i);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(i=i===t?this.settings.core.animation:i,this.is_closed(n)?this.is_loaded(n)?(a=this.get_node(n,!0),l=this,a.length&&(i&&a.children(".jstree-children").length&&a.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(a.children(".jstree-children")[0])&&this.draw_children(n),i?(this.trigger("before_open",{node:n}),a.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(i,(function(){this.style.display="",l.element&&l.trigger("after_open",{node:n})}))):(this.trigger("before_open",{node:n}),a[0].className=a[0].className.replace("jstree-closed","jstree-open"),a[0].childNodes[1].setAttribute("aria-expanded",!0))),n.state.opened=!0,r&&r.call(this,n,!0),a.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),i&&a.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy((function(){this.open_node(n,r,i)}),this),500):void this.load_node(n,(function(e,t){return t?this.open_node(e,r,i):!!r&&r.call(this,e,!1)})):(r&&r.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,r,i=t.parents;for(n=0,r=i.length;n<r;n+=1)n!==e.jstree.root&&this.open_node(i[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,r){var i,o,s,a;if(e.isArray(n)){for(i=0,o=(n=n.slice()).length;i<o;i++)this.close_node(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&!this.is_closed(n)&&(r=r===t?this.settings.core.animation:r,s=this,a=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(a.length?r?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(r,(function(){this.style.display="",a.children(".jstree-children").remove(),s.element&&s.trigger("after_close",{node:n})})):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.children(".jstree-anchor").attr("aria-expanded",!1),a.children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n})))},toggle_node:function(t){var n,r;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var i,o,s,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!a.length){for(i=0,o=t.children_d.length;i<o;i++)this.is_closed(this._model.data[t.children_d[i]])&&(this._model.data[t.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||a,s=this,(a=this.is_closed(t)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each((function(){s.open_node(this,(function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)}),n||0)})),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),s=this;for(o.length&&(o=this.is_open(t)?o.find(".jstree-open").addBack():o.find(".jstree-open"),e(o.get().reverse()).each((function(){s.close_node(this,n||0)}))),r=0,i=t.children_d.length;r<i;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,r;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,r;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var r,i;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.hide_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var r,i;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.show_node(t[r],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&!r[n].state.hidden&&(r[n].state.hidden=!0,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&r[n].state.hidden&&(r[n].state.hidden=!1,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var r,i,o=this.get_node(e).id,s=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(r=0,i=a.length;r<i;r+=1)a[r]===o&&(l=!l),a[r]===s&&(l=!l),this.is_disabled(a[r])||!l&&a[r]!==o&&a[r]!==s?this.deselect_node(a[r],!0,n):this.is_hidden(a[r])||this.select_node(a[r],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout((function(){n.attr("aria-activedescendant",e[0].id)}),0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,r,i){var o,s,a;if(e.isArray(t)){for(s=0,a=(t=t.slice()).length;s<a;s++)this.select_node(t[s],n,r,i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(o=this._open_to(t)),o&&o.length&&o.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:i}))},deselect_node:function(t,n,r){var i,o,s;if(e.isArray(t)){for(i=0,o=(t=t.slice()).length;i<o;i++)this.deselect_node(t[i],n,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),s.length&&s.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var n,r,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,r=this._data.core.selected.length;n<r;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy((function(e){return this.get_node(e)}),this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,r,i,o,s=this.get_selected(!0),a={};for(n=0,r=s.length;n<r;n++)a[s[n].id]=s[n];for(n=0,r=s.length;n<r;n++)for(i=0,o=s[n].children_d.length;i<o;i++)a[s[n].children_d[i]]&&delete a[s[n].children_d[i]];for(n in s=[],a)a.hasOwnProperty(n)&&s.push(n);return t?e.map(s,e.proxy((function(e){return this.get_node(e)}),this)):s},get_bottom_selected:function(t){var n,r,i=this.get_selected(!0),o=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||o.push(i[n].id);return t?e.map(o,e.proxy((function(e){return this.get_node(e)}),this)):o},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,r){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var i,o;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,(function(e){delete n.core.loaded,this.set_state(n,r)})):(delete n.core.loaded,this.set_state(n,r)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,(function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,r)})):(delete n.core.open,this.set_state(n,r)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,r),!1;if(n.core.selected)return i=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,(function(e,t){i.select_node(t,!1,!0)}))),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,r),!1;for(o in n)n.hasOwnProperty(o)&&"core"!==o&&-1===e.inArray(o,this.settings.plugins)&&delete n[o];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,r),!1}return!e.isEmptyObject(n)||(n=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,(function(t,n){n&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),(function(){this.trigger("refresh")}))),this._data.core.state=null}))},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],r=[],i=this._data.core.selected.concat([]);r.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each((function(){r.push(this.id),n.push(this.id)})),this._load_nodes(r,e.proxy((function(e){this.open_node(n,!1,0),this.select_node(i),this.trigger("refresh_node",{node:t,nodes:e})}),this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,i,o=this._model.data,s=t.id;for(n=n.toString(),o[t.parent].children[e.inArray(t.id,o[t.parent].children)]=n,r=0,i=t.parents.length;r<i;r++)o[t.parents[r]].children_d[e.inArray(t.id,o[t.parents[r]].children_d)]=n;for(r=0,i=t.children.length;r<i;r++)o[t.children[r]].parent=n;for(r=0,i=t.children_d.length;r<i;r++)o[t.children_d[r]].parents[e.inArray(t.id,o[t.children_d[r]].parents)]=n;return-1!==(r=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=n),(r=this.get_node(t.id,!0))&&(r.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete o[t.id],t.id=n,t.li_attr.id=n,o[n]=t,this.trigger("set_id",{node:t,new:t.id,old:s}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var r,i;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.set_text(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),0))},get_json:function(t,n,r){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!r&&(r=[]);var i,o,s={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?s.parent=t.parent:s.children=[],n&&n.no_state)delete s.state;else for(i in t.state)t.state.hasOwnProperty(i)&&(s.state[i]=t.state[i]);if(n&&n.no_li_attr&&delete s.li_attr,n&&n.no_a_attr&&delete s.a_attr,n&&n.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&r.push(s),!n||!n.no_children)for(i=0,o=t.children.length;i<o;i++)n&&n.flat?this.get_json(t.children[i],n,r):s.children.push(this.get_json(t.children[i],n));return n&&n.flat?r:t.id===e.jstree.root?s.children:s},create_node:function(n,r,i,o,s){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(i=i===t?"last":i).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return this.load_node(n,(function(){this.create_node(n,r,i,o,!0)}));var a,l,c,h;switch(r||(r={text:this.get_string("New node")}),(r="string"==typeof r?{text:r}:e.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":a=this.get_node(n.parent),i=e.inArray(n.id,a.children),n=a;break;case"after":a=this.get_node(n.parent),i=e.inArray(n.id,a.children)+1,n=a;break;case"inside":case"first":i=0;break;case"last":i=n.children.length;break;default:i||(i=0)}if(i>n.children.length&&(i=n.children.length),r.id||(r.id=!0),!this.check("create_node",r,n,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,n.id,n.parents.concat())))return!1;for(a=this.get_node(r),(l=[]).push(r),l=l.concat(a.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,h=n.parents.length;c<h;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(r=a,a=[],c=0,h=n.children.length;c<h;c++)a[c>=i?c+1:c]=n.children[c];return a[i]=r.id,n.children=a,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(r),parent:n.id,position:i}),o&&o.call(this,this.get_node(r)),r.id},rename_node:function(t,n){var r,i,o;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.rename_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root||(o=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:o}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(t){var n,r,i,o,s,a,l,c,h,u,d,f;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(i=this.get_node(t.parent),o=e.inArray(t.id,i.children),u=!1,!this.check("delete_node",t,i,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==o&&(i.children=e.vakata.array_remove(i.children,o)),(s=t.children_d.concat([])).push(t.id),a=0,l=t.parents.length;a<l;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,(function(t){return-1===e.inArray(t,s)}));for(c=0,h=s.length;c<h;c++)if(this._model.data[s[c]].state.selected){u=!0;break}for(u&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(t){return-1===e.inArray(t,s)}))),this.trigger("delete_node",{node:t,parent:i.id}),u&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),c=0,h=s.length;c<h;c++)delete this._model.data[s[c]];return-1!==e.inArray(this._data.core.focused,s)&&(this._data.core.focused=null,d=this.element[0].scrollTop,f=this.element[0].scrollLeft,i.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(i,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=d,this.element[0].scrollLeft=f),this.redraw_node(i,!0),!0},check:function(t,n,r,i,o){n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r);var s=t.match(/^move_node|copy_node|create_node$/i)?r:n,a=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(o&&o.is_multi||"move_node"!==t||e.inArray(n.id,r.children)!==i))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1;if(!(o&&o.is_multi||n.id!==r.id&&("move_node"!==t||e.inArray(n.id,r.children)!==i)&&-1===e.inArray(r.id,n.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1}return s&&s.data&&(s=s.data),s&&s.functions&&(!1===s.functions[t]||!0===s.functions[t])?(!1===s.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s.functions[t]):!(!1===a||e.isFunction(a)&&!1===a.call(this,t,n,r,i,o)||a&&!1===a[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,r,i,o,s,a,l){var c,h,u,d,f,p,g,m,v,y,_,b,w,x;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(r))return this.load_node(r,(function(){this.move_node(n,r,i,o,!0,!1,l)}));if(e.isArray(n)){if(1!==n.length){for(c=0,h=n.length;c<h;c++)(v=this.move_node(n[c],r,i,o,s,!1,l))&&(r=v,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(u=(n.parent||e.jstree.root).toString(),f=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,g=!(p=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!p._id||this._id!==p._id,d=p&&p._id&&u&&p._model.data[u]&&p._model.data[u].children?e.inArray(n.id,p._model.data[u].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return!!(v=this.copy_node(n,r,i,o,s,!1,l))&&(p&&p.delete_node(n),v);switch(r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,f.children);break;case"after":i=e.inArray(r.id,f.children)+1;break;case"inside":case"first":i=0;break;case"last":i=f.children.length;break;default:i||(i=0)}if(i>f.children.length&&(i=f.children.length),!this.check("move_node",n,f,i,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(m=f.children.concat(),-1!==(v=e.inArray(n.id,m))&&(m=e.vakata.array_remove(m,v),i>v&&i--),v=[],y=0,_=m.length;y<_;y++)v[y>=i?y+1:y]=m[y];v[i]=n.id,f.children=v,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for((v=n.children_d.concat()).push(n.id),y=0,_=n.parents.length;y<_;y++){for(m=[],b=0,w=(x=p._model.data[n.parents[y]].children_d).length;b<w;b++)-1===e.inArray(x[b],v)&&m.push(x[b]);p._model.data[n.parents[y]].children_d=m}for(p._model.data[u].children=e.vakata.array_remove_item(p._model.data[u].children,n.id),y=0,_=f.parents.length;y<_;y++)this._model.data[f.parents[y]].children_d=this._model.data[f.parents[y]].children_d.concat(v);for(m=[],y=0,_=f.children.length;y<_;y++)m[y>=i?y+1:y]=f.children[y];for(m[i]=n.id,f.children=m,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,(v=f.parents.concat()).unshift(f.id),x=n.parents.length,n.parents=v,v=v.concat(),y=0,_=n.children_d.length;y<_;y++)this._model.data[n.children_d[y]].parents=this._model.data[n.children_d[y]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[n.children_d[y]].parents,v);u!==e.jstree.root&&f.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(u),this._node_changed(f.id)),a||this.redraw()}return o&&o.call(this,n,f,i),this.trigger("move_node",{node:n,parent:f.id,position:i,old_parent:u,old_position:d,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,r,i,o,s,a,l){var c,h,u,d,f,p,g,m,v,y;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(r))return this.load_node(r,(function(){this.copy_node(n,r,i,o,!0,!1,l)}));if(e.isArray(n)){if(1!==n.length){for(c=0,h=n.length;c<h;c++)(d=this.copy_node(n[c],r,i,o,s,!0,l))&&(r=d,i="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(m=(n.parent||e.jstree.root).toString(),v=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,!(y=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!y._id||(this._id,y._id),y&&y._id&&(n=y._model.data[n.id]),r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,v.children);break;case"after":i=e.inArray(r.id,v.children)+1;break;case"inside":case"first":i=0;break;case"last":i=v.children.length;break;default:i||(i=0)}if(i>v.children.length&&(i=v.children.length),!this.check("copy_node",n,v,i,{core:!0,origin:l,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=y?y.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,v.id,v.parents.concat())))return!1;for(d=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(d.state.loaded=!1),(u=[]).push(g),u=u.concat(d.children_d),this.trigger("model",{nodes:u,parent:v.id}),f=0,p=v.parents.length;f<p;f++)this._model.data[v.parents[f]].children_d=this._model.data[v.parents[f]].children_d.concat(u);for(u=[],f=0,p=v.children.length;f<p;f++)u[f>=i?f+1:f]=v.children[f];return u[i]=d.id,v.children=u,v.children_d.push(d.id),v.children_d=v.children_d.concat(d.children_d),v.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(v.id),a||this.redraw(v.id===e.jstree.root),o&&o.call(this,d,v,i),this.trigger("copy_node",{node:d,original:n,parent:v.id,position:i,old_parent:m,old_position:y&&y._id&&m&&y._model.data[m]&&y._model.data[m].children?e.inArray(n.id,y._model.data[m].children):-1,is_multi:y&&y._id&&y._id!==this._id,is_foreign:!y||!y._id,old_instance:y,new_instance:this}),d.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,s,a,l=[];for(s=0,a=t.length;s<a;s++)(n=this.get_node(t[s]))&&n.id&&n.id!==e.jstree.root&&l.push(n);if(!l.length)return!1;r=l,o=this,i="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,s,a,l=[];for(s=0,a=t.length;s<a;s++)(n=this.get_node(t[s]))&&n.id&&n.id!==e.jstree.root&&l.push(n);if(!l.length)return!1;r=l,o=this,i="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:i,node:r,inst:o}},can_paste:function(){return!1!==i&&!1!==r},paste:function(e,t){if(!((e=this.get_node(e))&&i&&i.match(/^(copy_node|move_node)$/)&&r))return!1;this[i](r,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:r,mode:i}),r=!1,i=!1,o=!1},clear_buffer:function(){r=!1,i=!1,o=!1,this.trigger("clear_buffer")},edit:function(t,n,r){var i,o,s,a,c,h,u,d,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,i=this._data.core.rtl,o=this.element.width(),this._data.core.focused=f.id,s=t.children(".jstree-anchor").focus(),a=e("<span></span>"),c=n,h=e("<div></div>",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),u=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy((function(n){n.stopImmediatePropagation(),n.preventDefault();var i,o=a.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===o&&(o=c),h.remove(),a.replaceWith(s),a.remove(),c=l?c:e("<div></div>").append(e.parseHTML(c)).html(),t=this.get_node(t),this.set_text(t,c),(i=!!this.rename_node(t,l?e("<div></div>").text(o).text():e("<div></div>").append(e.parseHTML(o)).html()))||this.set_text(t,c),this._data.core.focused=f.id,setTimeout(e.proxy((function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())}),this),0),r&&r.call(this,f,i,p,o),u=null}),this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=c),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){u.width(Math.min(h.text("pW"+this.value).width(),o))},keypress:function(e){if(13===e.which)return!1}}),d={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},a.attr("class",s.attr("class")).append(s.contents().clone()).append(u),s.replaceWith(a),h.css(d),u.css(d).width(Math.min(h.text("pW"+u[0].value).width(),o))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",(function(t){u&&t.target!==u&&e(u).blur()}))):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),n=r+"/"+t+"/style.css"}n&&-1===e.inArray(n,s)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),s.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,r){var i,o,s,a;if(e.isArray(n)){for(i=0,o=(n=n.slice()).length;i<o;i++)this.set_icon(n[i],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root||(a=n.icon,n.icon=!0===r||null===r||r===t||""===r||r,s=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(s.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===r||null===r||r===t||""===r?(s.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),!1===a&&this.show_icon(n)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(s.removeClass(a).css("background",""),s.addClass(r+" jstree-themeicon-custom").attr("rel",r),!1===a&&this.show_icon(n)):(s.removeClass(a).css("background",""),s.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),!1===a&&this.show_icon(n)),0))},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,r;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(t){var n,r,i;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root||(i=this.get_node(t,!0),t.icon=!i.length||i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var r=n?{}:[];return t&&t.attributes&&e.each(t.attributes,(function(t,i){-1===e.inArray(i.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==i.value&&""!==e.vakata.trim(i.value)&&(n?r[i.name]=i.value:r.push(i.name))})),r},e.vakata.array_unique=function(e){var n,r,i=[],o={};for(n=0,r=e.length;n<r;n++)o[e[n]]===t&&(i.push(e[n]),o[e[n]]=!0);return i},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var r=e.inArray(n,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);for(i in r=[],e)~~i+""==i+""&&i>=0&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},e.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,r){var i,o;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var s={};for(i=0,o=n.length;i<o;i++)s[n[i]]=1;for(i=0,o=r.selected.length;i<o;i++)s[r.selected[i]]?s[r.selected[i]]=2:r.changed.selected.push(r.selected[i]);for(i=0,o=n.length;i<o;i++)1===s[n[i]]&&r.changed.deselected.push(n[i]);n=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return n=[],t.refresh.apply(this,arguments)}};var u,d,f=l.createElement("I");f.className="jstree-icon jstree-checkbox",f.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy((function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}),this)).on("loading.jstree",e.proxy((function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}),this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy((function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)}),this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy((function(e,t){var n,r,i=this._model.data,o=(i[t.parent],t.nodes);for(n=0,r=o.length;n<r;n++)i[o[n]].state.checked=i[o[n]].state.checked||i[o[n]].original&&i[o[n]].original.state&&i[o[n]].original.state.checked,i[o[n]].state.checked&&this._data.checkbox.selected.push(o[n])}),this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy((function(t,n){var r,i,o,s,a,l,c=this._model.data,h=c[n.parent],u=n.nodes,d=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(h.state[p?"selected":"checked"]){for(i=0,o=u.length;i<o;i++)c[u[i]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(u)}else for(i=0,o=u.length;i<o;i++)if(c[u[i]].state[p?"selected":"checked"]){for(s=0,a=c[u[i]].children_d.length;s<a;s++)c[c[u[i]].children_d[s]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[u[i]].children_d)}if(-1!==f.indexOf("up")){for(i=0,o=h.children_d.length;i<o;i++)c[h.children_d[i]].children.length||d.push(c[h.children_d[i]].parent);for(s=0,a=(d=e.vakata.array_unique(d)).length;s<a;s++)for(h=c[d[s]];h&&h.id!==e.jstree.root;){for(r=0,i=0,o=h.children.length;i<o;i++)r+=c[h.children[i]].state[p?"selected":"checked"];if(r!==o)break;h.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(h.id),(l=this.get_node(h,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),h=this.get_node(h.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)}),this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy((function(t,n){var r,i,o,s,a=n.node,l=this._model.data,c=this.get_node(a.parent),h=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection,d={},f=this._data[u?"core":"checkbox"].selected;for(r=0,i=f.length;r<i;r++)d[f[r]]=!0;if(-1!==h.indexOf("down")){var p=this._cascade_new_checked_state(a.id,!0),g=a.children_d.concat(a.id);for(r=0,i=g.length;r<i;r++)p.indexOf(g[r])>-1?d[g[r]]=!0:delete d[g[r]]}if(-1!==h.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(o=0,r=0,i=c.children.length;r<i;r++)o+=l[c.children[r]].state[u?"selected":"checked"];if(o!==i)break;c.state[u?"selected":"checked"]=!0,d[c.id]=!0,(s=this.get_node(c,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(r in f=[],d)d.hasOwnProperty(r)&&f.push(r);this._data[u?"core":"checkbox"].selected=f}),this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy((function(t,n){var r,i,o,s=this.get_node(e.jstree.root),a=this._model.data;for(r=0,i=s.children_d.length;r<i;r++)(o=a[s.children_d[r]])&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1)}),this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy((function(t,n){var r,i,o,s=n.node,a=(this.get_node(s,!0),this.settings.checkbox.cascade),l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,h=s.children_d.concat(s.id);if(-1!==a.indexOf("down")){var u=this._cascade_new_checked_state(s.id,!1);c=e.vakata.array_filter(c,(function(e){return-1===h.indexOf(e)||u.indexOf(e)>-1}))}if(-1!==a.indexOf("up")&&-1===c.indexOf(s.id)){for(r=0,i=s.parents.length;r<i;r++)(o=this._model.data[s.parents[r]]).state[l?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),(o=this.get_node(s.parents[r],!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked");c=e.vakata.array_filter(c,(function(e){return-1===s.parents.indexOf(e)}))}this._data[l?"core":"checkbox"].selected=c}),this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy((function(t,n){for(var r,i,o,s,a=this.get_node(n.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;a&&a.id!==e.jstree.root&&!a.state[c?"selected":"checked"];){for(o=0,r=0,i=a.children.length;r<i;r++)o+=l[a.children[r]].state[c?"selected":"checked"];if(!(i>0&&o===i))break;a.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(a.id),(s=this.get_node(a,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}}),this)).on("move_node.jstree",e.proxy((function(t,n){var r,i,o,s,a,l=n.is_multi,c=n.old_parent,h=this.get_node(n.parent),u=this._model.data,d=this.settings.checkbox.tie_selection;if(!l)for(r=this.get_node(c);r&&r.id!==e.jstree.root&&!r.state[d?"selected":"checked"];){for(i=0,o=0,s=r.children.length;o<s;o++)i+=u[r.children[o]].state[d?"selected":"checked"];if(!(s>0&&i===s))break;r.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(r.id),(a=this.get_node(r,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=h;r&&r.id!==e.jstree.root;){for(i=0,o=0,s=r.children.length;o<s;o++)i+=u[r.children[o]].state[d?"selected":"checked"];if(i===s)r.state[d?"selected":"checked"]||(r.state[d?"selected":"checked"]=!0,this._data[d?"core":"checkbox"].selected.push(r.id),(a=this.get_node(r,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"));else{if(!r.state[d?"selected":"checked"])break;r.state[d?"selected":"checked"]=!1,this._data[d?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[d?"core":"checkbox"].selected,r.id),(a=this.get_node(r,!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(d?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}}),this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var r,i,o,s,a={},l=this._model.data,c=this.settings.checkbox.tie_selection,h=this._data[c?"core":"checkbox"].selected,u=[],d=this,f=[];for(r=0,i=h.length;r<i;r++)if(l[h[r]]&&l[h[r]].parents)for(o=0,s=l[h[r]].parents.length;o<s&&a[l[h[r]].parents[o]]===t;o++)l[h[r]].parents[o]!==e.jstree.root&&(a[l[h[r]].parents[o]]=!0,u.push(l[h[r]].parents[o]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each((function(){var n,c=d.get_node(this);if(c)if(c.state.loaded){for(r=0,i=c.children_d.length;r<i;r++)if(!(n=l[c.children_d[r]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(a[n.id]===t&&n.id!==e.jstree.root&&(a[n.id]=!0,u.push(n.id)),o=0,s=n.parents.length;o<s;o++)a[n.parents[o]]===t&&n.parents[o]!==e.jstree.root&&(a[n.parents[o]]=!0,u.push(n.parents[o]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(a[c.id]===t&&c.id!==e.jstree.root&&(a[c.id]=!0,u.push(c.id)),o=0,s=c.parents.length;o<s;o++)a[c.parents[o]]===t&&c.parents[o]!==e.jstree.root&&(a[c.parents[o]]=!0,u.push(c.parents[o]))})),r=0,i=u.length;r<i;r++)l[u[r]].state[c?"selected":"checked"]||f.push(n?l[u[r]]:u[r]);return f},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,i,o){if(t=r.redraw_node.apply(this,arguments)){var s,a,l=null,c=null;for(s=0,a=t.childNodes.length;s<a;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),c=f.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),l.insertBefore(c,l.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,r,i=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,s=this._data[o?"core":"checkbox"].selected,a=this._model.data;if(!t||!0===t.state[o?"selected":"checked"]||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,r=t.children_d.length;n<r;n++)if(-1!==e.inArray(t.children_d[n],s)||!a[t.children_d[n]].state.loaded&&a[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(n=0,r=(t=t.slice()).length;n<r;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,r,i,o=this.settings.checkbox.tie_selection,s=this._model.data[e],a=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&s.state.disabled||!this.settings.checkbox.cascade_to_hidden&&s.state.hidden)i=this.get_checked_descendants(e),s.state[o?"selected":"checked"]&&i.push(s.id),a=a.concat(i);else{if(s.children)for(n=0,r=s.children.length;n<r;n++){var c=s.children[n];i=this._cascade_new_checked_state(c,t),a=a.concat(i),i.indexOf(c)>-1&&l.push(c)}var h=this.get_node(s,!0),u=l.length>0&&l.length<s.children.length;s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=u),u?(s.state[o?"selected":"checked"]=!1,h.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked")):t&&l.length===s.children.length?(s.state[o?"selected":"checked"]=t,a.push(s.id),h.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked")):(s.state[o?"selected":"checked"]=!1,h.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked"))}return a},this.get_checked_descendants=function(t){var n=this,r=n.settings.checkbox.tie_selection,i=n._model.data[t];return e.vakata.array_filter(i.children_d,(function(e){return n._model.data[e].state[r?"selected":"checked"]}))},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var r,i,o;if(e.isArray(t)){for(i=0,o=(t=t.slice()).length;i<o;i++)this.check_node(t[i],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var r,i,o;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.uncheck_node(t[r],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy((function(e){return this.get_node(e)}),this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,r,i,o,s=this.get_checked(!0),a={};for(n=0,r=s.length;n<r;n++)a[s[n].id]=s[n];for(n=0,r=s.length;n<r;n++)for(i=0,o=s[n].children_d.length;i<o;i++)a[s[n].children_d[i]]&&delete a[s[n].children_d[i]];for(n in s=[],a)a.hasOwnProperty(n)&&s.push(n);return t?e.map(s,e.proxy((function(e){return this.get_node(e)}),this)):s},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,r,i=this.get_checked(!0),o=[];for(n=0,r=i.length;n<r;n++)i[n].children.length||o.push(i[n].id);return t?e.map(o,e.proxy((function(e){return this.get_node(e)}),this)):o},this.load_node=function(t,n){var i,o,s;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(s=this.get_node(t))&&s.state.loaded)for(i=0,o=s.children_d.length;i<o;i++)this._model.data[s.children_d[i]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,s.children_d[i]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(t,n){var i=r.set_state.apply(this,arguments);if(i&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var o=this;e.each(t.checkbox,(function(e,t){o.check_node(t)}))}return delete t.checkbox,this.set_state(t,n),!1}return i},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.create_node(r,{},"last",(function(e){try{n.edit(e)}catch(t){setTimeout((function(){n.edit(e)}),0)}}))}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.delete_node(n.get_selected()):n.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.cut(n.get_top_selected()):n.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.copy(n.get_top_selected()):n.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(n,r){this.bind=function(){r.bind.call(this);var t,n,i=0,o=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy((function(){this.get_container_ul().addClass("jstree-contextmenu")}),this)).on("contextmenu.jstree",".jstree-anchor",e.proxy((function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),i=e.ctrlKey?+new Date:0,(t||o)&&(i=+new Date+1e4),o&&clearTimeout(o),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))}),this)).on("click.jstree",".jstree-anchor",e.proxy((function(t){this._data.contextmenu.visible&&(!i||+new Date-i>250)&&e.vakata.context.hide(),i=0}),this)).on("touchstart.jstree",".jstree-anchor",(function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.originalEvent.changedTouches[0].clientX,n=r.originalEvent.changedTouches[0].clientY,o=setTimeout((function(){e(r.currentTarget).trigger("contextmenu",!0)}),750))})).on("touchmove.vakata.jstree",(function(r){o&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(Math.abs(t-r.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-r.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(o),e.vakata.context.hide())})).on("touchend.vakata.jstree",(function(e){o&&clearTimeout(o)})),e(l).on("context_hide.vakata.jstree",e.proxy((function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")}),this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(n,r,i,o){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var s=this.settings.contextmenu,a=this.get_node(n,!0).children(".jstree-anchor"),l=!1,c=!1;(s.show_at_node||r===t||i===t)&&(l=a.offset(),r=l.left,i=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,o),c=s.items,e.isFunction(c)&&(c=c.call(this,n,e.proxy((function(e){this._show_contextmenu(n,r,i,e)}),this))),e.isPlainObject(c)&&this._show_contextmenu(n,r,i,c)},this._show_contextmenu=function(t,n,r,i){var o=this.get_node(t,!0).children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy((function(t,n){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(r),o.addClass("jstree-context")}),this)),this._data.contextmenu.visible=!0,e.vakata.context.show(o,{x:n,y:r},i),this.trigger("show_contextmenu",{node:t,x:n,y:r})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,r){if(!t)return!1;r||(n.html="",n.items=[]);var i,o="",s=!1;return r&&(o+="<ul>"),e.each(t,(function(t,r){if(!r)return!0;n.items.push(r),!s&&r.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),s=!1,o+="<li class='"+(r._class||"")+(!0===r._disabled||e.isFunction(r._disabled)&&r._disabled({item:r,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(n.items.length-1)+"' "+(r.title?"title='"+r.title+"'":"")+">",e.vakata.context.settings.icons&&(o+="<i ",r.icon&&(-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?o+=" style='background:url(\""+r.icon+"\") center center no-repeat' ":o+=" class='"+r.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(r.label)?r.label({item:t,reference:n.reference,element:n.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(i=e.vakata.context._parse(r.submenu,!0))&&(o+=i),o+="</li>",r.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",s=!0)})),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(o+="</ul>"),r||(n.html=o,e.vakata.context._trigger("parse")),o.length>10&&o},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var r=n.children("ul"),i=n.offset().left,o=i+n.outerWidth(),s=n.offset().top,a=r.width(),l=r.height(),c=e(window).width()+e(window).scrollLeft(),h=e(window).height()+e(window).scrollTop();t?n[o-(a+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[o+a>c&&i>c-o?"addClass":"removeClass"]("vakata-context-right"),s+l+10>h&&r.css("bottom","-1px"),n.hasClass("vakata-context-right")?i<a&&r.css("margin-right",i-a):c-o<a&&r.css("margin-left",c-o-a),r.show()}},show:function(r,i,o){var s,a,c,h,u,d,f,p;switch(n.element&&n.element.length&&n.element.width(""),!0){case!i&&!r:return!1;case!!i&&!!r:n.reference=r,n.position_x=i.x,n.position_y=i.y;break;case!i&&!!r:n.reference=r,s=r.offset(),n.position_x=s.left+r.outerHeight(),n.position_y=s.top;break;case!!i&&!r:n.position_x=i.x,n.position_y=i.y}r&&!o&&e(r).data("vakata_contextmenu")&&(o=e(r).data("vakata_contextmenu")),e.vakata.context._parse(o)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(l.body),a=n.element,c=n.position_x,h=n.position_y,u=a.width(),d=a.height(),f=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&(c-=a.outerWidth()-e(r).outerWidth())<e(window).scrollLeft()+20&&(c=e(window).scrollLeft()+20),c+u+20>f&&(c=f-(u+20)),h+d+20>p&&(h=p-(d+20)),n.element.css({left:c,top:h}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e((function(){t="rtl"===e(l.body).css("direction");var r=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",(function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))})).on("mouseleave","li",(function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")})).on("mouseleave",(function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout((function(){e.vakata.context.hide()}),e.vakata.context.settings.hide_onmouseleave))})).on("click","a",(function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()})).on("keydown","a",(function(t){var r=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}})).on("keydown",(function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()})),e(l).on("mousedown.vakata.jstree",(function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()})).on("context_show.vakata.jstree",(function(e,r){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()}))}))}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy((function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),r=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(i=e.vakata.html.escape(i)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[n],t))){if(u={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:r>1?this.get_top_selected():[n.id]},d=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,u,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:d,data:u})}}),this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",(function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:u}),!1})).on("drop.jstree",e.proxy((function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:u}),!1}),this))},this.redraw_node=function(e,t,r,i){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var o,s,a=null;for(o=0,s=e.childNodes.length;o<s;o++)if(e.childNodes[o]&&e.childNodes[o].className&&-1!==e.childNodes[o].className.indexOf("jstree-anchor")){a=e.childNodes[o];break}a&&a.setAttribute("draggable",!0)}return e}},e((function(){var n=!1,r=!1,i=!1,o=!1,s=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",(function(t){d&&e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:u})})).on("drop.vakata.jstree",(function(t){d&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:u}),d=null,u=null)})).on("dnd_start.vakata.jstree",(function(e,t){n=!1,i=!1,t&&t.data&&t.data.jstree&&s.appendTo(l.body)})).on("dnd_move.vakata.jstree",(function(a,l){var c=l.event.target!==i.target;if(o&&(l.event&&"dragover"===l.event.type&&!c||clearTimeout(o)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){i=l.event;var h,u,d,f,p,g,m,v,y,_,b,w,x,k,j,S,E,O=e.jstree.reference(l.event.target),T=!1,C=!1,P=!1;if(O&&O._data&&O._data.dnd)if(s.attr("class","jstree-"+O.get_theme()+(O.settings.core.themes.responsive?" jstree-dnd-responsive":"")),j=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+O.get_theme()+" jstree-"+O.get_theme()+"-"+O.get_theme_variant()+" "+(O.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[j?"show":"hide"](),l.event.target!==O.element[0]&&l.event.target!==O.get_container_ul()[0]||0!==O.get_container_ul().children().length){if((T=O.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&T.length&&T.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(C=T.offset(),P=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-C.top,d=T.outerHeight(),g=P<d/3?["b","i","a"]:P>d-d/3?["a","i","b"]:P>d/2?["i","a","b"]:["i","b","a"],e.each(g,(function(t,i){switch(i){case"b":h=C.left-6,u=C.top,f=O.get_parent(T),p=T.parent().index(),E="jstree-below";break;case"i":x=O.settings.dnd.inside_pos,k=O.get_node(T.parent()),h=C.left-2,u=C.top+d/2+1,f=k.id,p="first"===x?0:"last"===x?k.children.length:Math.min(x,k.children.length),E="jstree-inside";break;case"a":h=C.left-6,u=C.top+d,f=O.get_parent(T),p=T.parent().index()+1,E="jstree-above"}for(m=!0,v=0,y=l.data.nodes.length;v<y;v++)if(_=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===_&&"a"===i&&l.data.origin&&l.data.origin===O&&f===O.get_parent(l.data.nodes[v])&&(w=O.get_node(f),b>e.inArray(l.data.nodes[v],w.children)&&(b-=1)),!(m=m&&(O&&O.settings&&O.settings.dnd&&!1===O.settings.dnd.check_while_dragging||O.check(_,l.data.origin&&l.data.origin!==O?l.data.origin.get_node(l.data.nodes[v]):l.data.nodes[v],f,b,{dnd:!0,ref:O.get_node(T.parent()),pos:i,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==O,is_foreign:!l.data.origin})))){O&&O.last_error&&(r=O.last_error());break}var a,P;if("i"===i&&T.parent().is(".jstree-closed")&&O.settings.dnd.open_timeout&&(l.event&&"dragover"===l.event.type&&!c||(o&&clearTimeout(o),o=setTimeout((a=O,P=T,function(){a.open_node(P)}),O.settings.dnd.open_timeout))),m)return(S=O.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),S.addClass("jstree-dnd-parent")),n={ins:O,par:f,pos:"i"!==i||"last"!==x||0!==p||O.is_loaded(k)?p:"last"},s.css({left:h+"px",top:u+"px"}).show(),s.removeClass("jstree-above jstree-inside jstree-below").addClass(E),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"),r={},g=!0,!1})),!0===g))return}else{for(m=!0,v=0,y=l.data.nodes.length;v<y&&(m=m&&O.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==O?l.data.origin.get_node(l.data.nodes[v]):l.data.nodes[v],e.jstree.root,"last",{dnd:!0,ref:O.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==O,is_foreign:!l.data.origin}));v++);if(m)return n={ins:O,par:e.jstree.root,pos:"last"},s.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,s.hide()}})).on("dnd_scroll.vakata.jstree",(function(e,t){t&&t.data&&t.data.jstree&&(s.hide(),n=!1,i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))})).on("dnd_stop.vakata.jstree",(function(t,a){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),o&&clearTimeout(o),a&&a.data&&a.data.jstree){s.hide().detach();var l,c,h=[];if(n){for(l=0,c=a.data.nodes.length;l<c;l++)h[l]=a.data.origin?a.data.origin.get_node(a.data.nodes[l]):a.data.nodes[l];n.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](h,n.par,n.pos,!1,!1,!1,a.data.origin)}else(l=e(a.event.target).closest(".jstree")).length&&r&&r.error&&"check"===r.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,r);i=!1,n=!1}})).on("keyup.jstree keydown.jstree",(function(t,a){(a=e.vakata.dnd._get())&&a.data&&a.data.jstree&&("keyup"===t.type&&27===t.which?(o&&clearTimeout(o),n=!1,r=!1,i=!1,o=!1,s.hide().detach(),e.vakata.dnd._clean()):(a.helper.find(".jstree-copy").first()[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),i&&(i.metaKey=t.metaKey,i.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",i))))}))})),function(e){e.vakata.html={div:e("<div></div>"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,r,i){i===t&&(i=e.vakata.dnd._get()),i.event=r,e(l).triggerHandler("dnd_"+n+".vakata",i)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},d=null,e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var r=n.scroll_e.scrollTop(),i=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(r+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(i+n.scroll_l*e.vakata.dnd.settings.scroll_speed),r===n.scroll_e.scrollTop()&&i===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,r,i){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=r,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==i&&(n.helper=e("<div id='vakata-dnd'></div>").html(i).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(l.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var r=!1,i=!1,o=!1,s=!1,a=!1,c=!1,h=!1,u=!1,d=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter((function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)})).each((function(){var r=e(this),i=r.offset();if(this.scrollHeight>this.offsetHeight&&(i.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-i.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(i.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-i.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1})),n.scroll_e||(r=e(l),i=e(window),o=r.height(),s=i.height(),a=r.width(),c=i.width(),h=r.scrollTop(),u=r.scrollLeft(),o>s&&t.pageY-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),o>s&&s-(t.pageY-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),a>c&&t.pageX-u<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),a>c&&c-(t.pageX-u)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=r)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(d=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),o&&d+25>o&&(d=o-50),a&&f+n.helper_w>a&&(f=a-(n.helper_w+2)),n.helper.css({left:f+"px",top:d+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var r=setTimeout((function(){e(t.target).click()}),100);e(t.target).one("click",(function(){r&&clearTimeout(r)}))}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,r,i,o){var s,a,l,c=this.settings.massload,h=[],u=this._model.data;if(!i){for(s=0,a=t.length;s<a;s++)u[t[s]]&&(u[t[s]].state.loaded||u[t[s]].state.failed)&&!o||(h.push(t[s]),(l=this.get_node(t[s],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},h.length){if(e.isFunction(c))return c.call(this,h,e.proxy((function(e){var s,a;if(e)for(s in e)e.hasOwnProperty(s)&&(this._data.massload[s]=e[s]);for(s=0,a=t.length;s<a;s++)(l=this.get_node(t[s],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,o)}),this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,h)),e.isFunction(c.data)&&(c.data=c.data.call(this,h)),e.ajax(c).done(e.proxy((function(e,s,a){var c,h;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,h=t.length;c<h;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,o)}),this)).fail(e.proxy((function(e){n._load_nodes.call(this,t,r,i,o)}),this))}}return n._load_nodes.call(this,t,r,i,o)},this._load_node=function(t,r){var i,o=this._data.massload[t.id],s=null;return o?(s=this["string"==typeof o?"_append_html_data":"_append_json_data"](t,"string"==typeof o?e(e.parseHTML(o)).filter((function(){return 3!==this.nodeType})):o,(function(e){r.call(this,e)})),(i=this.get_node(t.id,!0))&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],s):n._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy((function(t,n){if(this._data.search.som&&n.res.length){var r,i,o,s,a=this._model.data,l=[];for(r=0,i=n.res.length;r<i;r++)if(a[n.res[r]]&&!a[n.res[r]].state.hidden&&(l.push(n.res[r]),l=l.concat(a[n.res[r]].parents),this._data.search.smc))for(o=0,s=a[n.res[r]].children_d.length;o<s;o++)a[a[n.res[r]].children_d[o]]&&!a[a[n.res[r]].children_d[o]].state.hidden&&l.push(a[n.res[r]].children_d[o]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}}),this)).on("clear_search.jstree",e.proxy((function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}),this))},this.search=function(n,r,i,o,s,a){if(!1===n||""===e.vakata.trim(n.toString()))return this.clear_search();o=(o=this.get_node(o))&&o.id?o.id:null,n=n.toString();var l,c,h=this.settings.search,u=!!h.ajax&&h.ajax,d=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!s&&this.clear_search(),i===t&&(i=h.show_only_matches),a===t&&(a=h.show_only_matches_children),!r&&!1!==u)return e.isFunction(u)?u.call(this,n,e.proxy((function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],(function(){this.search(n,!0,i,o,s,a)}))}),this),o):((u=e.extend({},u)).data||(u.data={}),u.data.str=n,o&&(u.data.inside=o),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(u).fail(e.proxy((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(u)},this.settings.core.error.call(this,this._data.core.last_error)}),this)).done(e.proxy((function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],(function(){this.search(n,!0,i,o,s,a)}))}),this)),this._data.search.lastRequest);if(s||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=i,this._data.search.smc=a),f=new e.vakata.search(n,!0,{caseSensitive:h.case_sensitive,fuzzy:h.fuzzy}),e.each(d[o||e.jstree.root].children_d,(function(e,t){var r=d[t];r.text&&!r.state.hidden&&(!h.search_leaves_only||r.state.loaded&&0===r.children.length)&&(h.search_callback&&h.search_callback.call(this,n,r)||!h.search_callback&&f.search(r.text).isMatch)&&(p.push(t),g=g.concat(r.parents))})),p.length){for(l=0,c=(g=e.vakata.array_unique(g)).length;l<c;l++)g[l]!==e.jstree.root&&d[g[l]]&&!0===this.open_node(g[l],null,0)&&this._data.search.opn.push(g[l]);s?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:i})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,i,o){if((t=r.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var s,a,l=null;for(s=0,a=t.childNodes.length;s<a;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,r){r=r||{},!1!==(r=e.extend({},e.vakata.search.defaults,r)).fuzzy&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var i,o,s,a,l=r.location,c=r.distance,h=r.threshold,u=t.length;return u>32&&(r.fuzzy=!1),r.fuzzy&&(i=1<<u-1,o=function(){var e={},n=0;for(n=0;n<u;n++)e[t.charAt(n)]=0;for(n=0;n<u;n++)e[t.charAt(n)]|=1<<u-n-1;return e}(),s=function(e,t){var n=e/u,r=Math.abs(l-t);return c?n+r/c:r?1:n}),a=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var n,a,c,d,f,p,g,m,v,y=e.length,_=h,b=e.indexOf(t,l),w=u+y,x=1,k=[];for(-1!==b&&(_=Math.min(s(0,b),_),-1!==(b=e.lastIndexOf(t,l+u))&&(_=Math.min(s(0,b),_))),b=-1,n=0;n<u;n++){for(c=0,d=w;c<d;)s(n,l+d)<=_?c=d:w=d,d=Math.floor((w-c)/2+c);for(w=d,p=Math.max(1,l-d+1),g=Math.min(l+d,y)+u,(m=new Array(g+2))[g+1]=(1<<n)-1,a=g;a>=p;a--)if(v=o[e.charAt(a-1)],m[a]=0===n?(m[a+1]<<1|1)&v:(m[a+1]<<1|1)&v|(f[a+1]|f[a])<<1|1|f[a+1],m[a]&i&&(x=s(n,a-1))<=_){if(_=x,b=a-1,k.push(b),!(b>l))break;p=Math.max(1,2*l-b)}if(s(n+1,l)>_)break;f=m}return{isMatch:b>=0,score:x}},!0===n?{search:a}:a(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy((function(e,t){this.sort(t.parent,!0)}),this)).on("rename_node.jstree create_node.jstree",e.proxy((function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}),this)).on("move_node.jstree copy_node.jstree",e.proxy((function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}),this))},this.sort=function(t,n){var r,i;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(r=0,i=t.children_d.length;r<i;r++)this.sort(t.children_d[r],!1)}};var p=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy((function(){this.element.on(this.settings.state.events,e.proxy((function(){p&&clearTimeout(p),p=setTimeout(e.proxy((function(){this.save_state()}),this),100)}),this)),this.trigger("state_ready")}),this);this.element.on("ready.jstree",e.proxy((function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()}),this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl||(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!t||(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",(function(n,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})})),this.set_state(t),0)))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,r){this.init=function(n,i){var o,s;if(i&&i.types&&i.types.default)for(o in i.types)if("default"!==o&&o!==e.jstree.root&&i.types.hasOwnProperty(o))for(s in i.types.default)i.types.default.hasOwnProperty(s)&&i.types[o][s]===t&&(i.types[o][s]=i.types.default[s]);r.init.call(this,n,i),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){r.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy((function(n,r){var i,o,s,a=this._model.data,l=r.nodes,c=this.settings.types,h="default";for(i=0,o=l.length;i<o;i++){if(h="default",a[l[i]].original&&a[l[i]].original.type&&c[a[l[i]].original.type]&&(h=a[l[i]].original.type),a[l[i]].data&&a[l[i]].data.jstree&&a[l[i]].data.jstree.type&&c[a[l[i]].data.jstree.type]&&(h=a[l[i]].data.jstree.type),a[l[i]].type=h,!0===a[l[i]].icon&&c[h].icon!==t&&(a[l[i]].icon=c[h].icon),c[h].li_attr!==t&&"object"==typeof c[h].li_attr)for(s in c[h].li_attr)if(c[h].li_attr.hasOwnProperty(s)){if("id"===s)continue;a[l[i]].li_attr[s]===t?a[l[i]].li_attr[s]=c[h].li_attr[s]:"class"===s&&(a[l[i]].li_attr.class=c[h].li_attr.class+" "+a[l[i]].li_attr.class)}if(c[h].a_attr!==t&&"object"==typeof c[h].a_attr)for(s in c[h].a_attr)if(c[h].a_attr.hasOwnProperty(s)){if("id"===s)continue;a[l[i]].a_attr[s]===t?a[l[i]].a_attr[s]=c[h].a_attr[s]:"href"===s&&"#"===a[l[i]].a_attr[s]?a[l[i]].a_attr.href=c[h].a_attr.href:"class"===s&&(a[l[i]].a_attr.class=c[h].a_attr.class+" "+a[l[i]].a_attr.class)}}a[e.jstree.root].type=e.jstree.root}),this)),r.bind.call(this)},this.get_json=function(t,n,i){var o,s,a=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=r.get_json.call(this,t,l,i);if(!1===c)return!1;if(e.isArray(c))for(o=0,s=c.length;o<s;o++)c[o].type=c[o].id&&a[c[o].id]&&a[c[o].id].type?a[c[o].id].type:"default",n&&n.no_id&&(delete c[o].id,c[o].li_attr&&c[o].li_attr.id&&delete c[o].li_attr.id,c[o].a_attr&&c[o].a_attr.id&&delete c[o].a_attr.id);else c.type=c.id&&a[c.id]&&a[c.id].type?a[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,r=t.length;n<r;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,i,o,s,a){if(!1===r.check.call(this,n,i,o,s,a))return!1;i=i&&i.id?i:this.get_node(i),o=o&&o.id?o:this.get_node(o);var l,c,h,u,d=i&&i.id?a&&a.origin?a.origin:e.jstree.reference(i.id):null;switch(d=d&&d._model&&d._model.data?d._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(i.id,o.children)){if((l=this.get_rules(o)).max_children!==t&&-1!==l.max_children&&l.max_children===o.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(i.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})},!1;if(d&&i.children_d&&i.parents){for(c=0,h=0,u=i.children_d.length;h<u;h++)c=Math.max(c,d[i.children_d[h]].parents.length);c=c-i.parents.length+1}(c<=0||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})},!1;o=this.get_node(o.parent),l=this.get_rules(o),c++}while(o)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,r){var i,o,s,a,l,c,h,u,d=this._model.data;if(e.isArray(n)){for(o=0,s=(n=n.slice()).length;o<s;o++)this.set_type(n[o],r);return!0}if(i=this.settings.types,n=this.get_node(n),!i[r]||!n)return!1;if((h=this.get_node(n,!0))&&h.length&&(u=h.children(".jstree-anchor")),a=n.type,l=this.get_icon(n),n.type=r,(!0===l||!i[a]||i[a].icon!==t&&l===i[a].icon)&&this.set_icon(n,i[r].icon===t||i[r].icon),i[a]&&i[a].li_attr!==t&&"object"==typeof i[a].li_attr)for(c in i[a].li_attr)if(i[a].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(d[n.id].li_attr.class=(d[n.id].li_attr.class||"").replace(i[a].li_attr[c],""),h&&h.removeClass(i[a].li_attr[c])):d[n.id].li_attr[c]===i[a].li_attr[c]&&(d[n.id].li_attr[c]=null,h&&h.removeAttr(c))}if(i[a]&&i[a].a_attr!==t&&"object"==typeof i[a].a_attr)for(c in i[a].a_attr)if(i[a].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(d[n.id].a_attr.class=(d[n.id].a_attr.class||"").replace(i[a].a_attr[c],""),u&&u.removeClass(i[a].a_attr[c])):d[n.id].a_attr[c]===i[a].a_attr[c]&&("href"===c?(d[n.id].a_attr[c]="#",u&&u.attr("href","#")):(delete d[n.id].a_attr[c],u&&u.removeAttr(c)))}if(i[r].li_attr!==t&&"object"==typeof i[r].li_attr)for(c in i[r].li_attr)if(i[r].li_attr.hasOwnProperty(c)){if("id"===c)continue;d[n.id].li_attr[c]===t?(d[n.id].li_attr[c]=i[r].li_attr[c],h&&("class"===c?h.addClass(i[r].li_attr[c]):h.attr(c,i[r].li_attr[c]))):"class"===c&&(d[n.id].li_attr.class=i[r].li_attr[c]+" "+d[n.id].li_attr.class,h&&h.addClass(i[r].li_attr[c]))}if(i[r].a_attr!==t&&"object"==typeof i[r].a_attr)for(c in i[r].a_attr)if(i[r].a_attr.hasOwnProperty(c)){if("id"===c)continue;d[n.id].a_attr[c]===t?(d[n.id].a_attr[c]=i[r].a_attr[c],u&&("class"===c?u.addClass(i[r].a_attr[c]):u.attr(c,i[r].a_attr[c]))):"href"===c&&"#"===d[n.id].a_attr[c]?(d[n.id].a_attr.href=i[r].a_attr.href,u&&u.attr("href",i[r].a_attr.href)):"class"===c&&(d[n.id].a_attr.class=i[r].a_attr.class+" "+d[n.id].a_attr.class,u&&u.addClass(i[r].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,r){this.check=function(t,n,i,o,s){if(!1===r.check.call(this,t,n,i,o,s))return!1;if(n=n&&n.id?n:this.get_node(n),!(i=i&&i.id?i:this.get_node(i))||!i.children)return!0;var a,l,c,h="rename_node"===t?o:n.text,u=[],d=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(a=0,l=i.children.length;a<l;a++)c=p[i.children[a]].text,d||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),u.push(c);switch(d||(h=h.toLowerCase()),f&&(h=h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=n.text||"",d||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(a=-1===e.inArray(h,u)||n.text&&c===h)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a;case"create_node":return(a=-1===e.inArray(h,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a;case"copy_node":return(a=-1===e.inArray(h,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a;case"move_node":return(a=n.parent===i.id&&(!s||!s.is_multi)||-1===e.inArray(h,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+h+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a}return!0},this.create_node=function(n,i,o,s,a){if(!i||i.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return r.create_node.call(this,n,i,o,s,a);if(!(o=o===t?"last":o).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return r.create_node.call(this,n,i,o,s,a);i||(i={});var l,c,h,u,d,f,p=this._model.data,g=this.settings.unique.case_sensitive,m=this.settings.unique.trim_whitespace,v=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),h=[],u=0,d=n.children.length;u<d;u++)f=p[n.children[u]].text,g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(f);for(u=1,f=c,g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(f,h);)f=c=v.call(this,l,++u).toString(),g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));i.text=c}return r.create_node.call(this,n,i,o,s,a)}};var g=l.createElement("DIV");if(g.setAttribute("unselectable","on"),g.setAttribute("role","presentation"),g.className="jstree-wholerow",g.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy((function(){this.hide_dots()}),this)).on("init.jstree loading.jstree ready.jstree",e.proxy((function(){this.get_container_ul().addClass("jstree-wholerow-ul")}),this)).on("deselect_all.jstree",e.proxy((function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}),this)).on("changed.jstree",e.proxy((function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,r,i=!1;for(n=0,r=t.selected.length;n<r;n++)(i=this.get_node(t.selected[n],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}),this)).on("open_node.jstree",e.proxy((function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}),this)).on("hover_node.jstree dehover_node.jstree",e.proxy((function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}),this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy((function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}}),this)).on("click.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()})).on("dblclick.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()})).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy((function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}),this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy((function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1}),this)).on("mouseleave.jstree",".jstree-node",e.proxy((function(e){this.dehover_node(e.currentTarget)}),this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,i,o){if(t=n.redraw_node.apply(this,arguments)){var s=g.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(s.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(s.className+=" jstree-wholerow-hovered"),t.insertBefore(s,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var m=Object.create(HTMLElement.prototype);m.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",(function(){}),{prototype:m})}catch(e){}}}})?r.apply(t,i):r)||(e.exports=o)}()},424:(e,t,n)=>{var r;!function(){"use strict";function i(e,t,n){var r=t.x,i=t.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((e.x-r)*o+(e.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return(o=e.x-r)*o+(s=e.y-i)*s}function o(e,t,n,r,s){for(var a,l=r,c=t+1;c<n;c++){var h=i(e[c],e[t],e[n]);h>l&&(a=c,l=h)}l>r&&(a-t>1&&o(e,t,a,r,s),s.push(e[a]),n-a>1&&o(e,a,n,r,s))}function s(e,t){var n=e.length-1,r=[e[0]];return o(e,0,n,t,r),r.push(e[n]),r}function a(e,t,n){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return s(e=n?e:function(e,t){for(var n,r,i,o,s,a=e[0],l=[a],c=1,h=e.length;c<h;c++)i=a,void 0,void 0,(o=(r=n=e[c]).x-i.x)*o+(s=r.y-i.y)*s>t&&(l.push(n),a=n);return a!==n&&l.push(n),l}(e,r),r)}void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},873:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{afterMain:()=>hc,afterRead:()=>ac,afterWrite:()=>fc,applyStyles:()=>bc,arrow:()=>Hc,auto:()=>Vl,basePlacements:()=>Gl,beforeMain:()=>lc,beforeRead:()=>oc,beforeWrite:()=>uc,bottom:()=>Yl,clippingParents:()=>Zl,computeStyles:()=>zc,createPopper:()=>yh,createPopperBase:()=>vh,createPopperLite:()=>_h,detectOverflow:()=>rh,end:()=>Jl,eventListeners:()=>Wc,flip:()=>ih,hide:()=>ah,left:()=>Kl,main:()=>cc,modifierPhases:()=>pc,offset:()=>lh,placements:()=>ic,popper:()=>tc,popperGenerator:()=>mh,popperOffsets:()=>ch,preventOverflow:()=>hh,read:()=>sc,reference:()=>nc,right:()=>Ul,start:()=>Ql,top:()=>Xl,variationPlacements:()=>rc,viewport:()=>ec,write:()=>dc});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var s,a,l,c=function(e){return e&&e.Math==Math&&e},h=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof i&&i)||Function("return this")(),u=function(e){try{return!!e()}catch(e){return!0}},d=!u((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,g={f:p&&!f.call({1:2},1)?function(e){var t=p(this,e);return!!t&&t.enumerable}:f},m=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},v={}.toString,y=function(e){return v.call(e).slice(8,-1)},_="".split,b=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==y(e)?_.call(e,""):Object(e)}:Object,w=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},x=function(e){return b(w(e))},k=function(e){return"object"==typeof e?null!==e:"function"==typeof e},j=function(e,t){if(!k(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!k(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!k(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!k(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},S={}.hasOwnProperty,E=function(e,t){return S.call(e,t)},O=h.document,T=k(O)&&k(O.createElement),C=function(e){return T?O.createElement(e):{}},P=!d&&!u((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,L={f:d?A:function(e,t){if(e=x(e),t=j(t,!0),P)try{return A(e,t)}catch(e){}if(E(e,t))return m(!g.f.call(e,t),e[t])}},M=function(e){if(!k(e))throw TypeError(String(e)+" is not an object");return e},N=Object.defineProperty,I={f:d?N:function(e,t,n){if(M(e),t=j(t,!0),M(n),P)try{return N(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},R=d?function(e,t,n){return I.f(e,t,m(1,n))}:function(e,t,n){return e[t]=n,e},D=function(e,t){try{R(h,e,t)}catch(n){h[e]=t}return t},H="__core-js_shared__",q=h[H]||D(H,{}),F=o((function(e){(e.exports=function(e,t){return q[e]||(q[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.6",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),z=F("native-function-to-string",Function.toString),B=h.WeakMap,W="function"==typeof B&&/native code/.test(z.call(B)),$=0,X=Math.random(),Y=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++$+X).toString(36)},U=F("keys"),K=function(e){return U[e]||(U[e]=Y(e))},V={},G=h.WeakMap;if(W){var Q=new G,J=Q.get,Z=Q.has,ee=Q.set;s=function(e,t){return ee.call(Q,e,t),t},a=function(e){return J.call(Q,e)||{}},l=function(e){return Z.call(Q,e)}}else{var te=K("state");V[te]=!0,s=function(e,t){return R(e,te,t),t},a=function(e){return E(e,te)?e[te]:{}},l=function(e){return E(e,te)}}var ne,re,ie={set:s,get:a,has:l,enforce:function(e){return l(e)?a(e):s(e,{})},getterFor:function(e){return function(t){var n;if(!k(t)||(n=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},oe=o((function(e){var t=ie.get,n=ie.enforce,r=String(z).split("toString");F("inspectSource",(function(e){return z.call(e)})),(e.exports=function(e,t,i,o){var s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||E(i,"name")||R(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==h?(s?!l&&e[t]&&(a=!0):delete e[t],a?e[t]=i:R(e,t,i)):a?e[t]=i:D(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||z.call(this)}))})),se=h,ae=function(e){return"function"==typeof e?e:void 0},le=function(e,t){return arguments.length<2?ae(se[e])||ae(h[e]):se[e]&&se[e][t]||h[e]&&h[e][t]},ce=Math.ceil,he=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?he:ce)(e)},de=Math.min,fe=function(e){return e>0?de(ue(e),9007199254740991):0},pe=Math.max,ge=Math.min,me=function(e,t){var n=ue(e);return n<0?pe(n+t,0):ge(n,t)},ve=function(e){return function(t,n,r){var i,o=x(t),s=fe(o.length),a=me(r,s);if(e&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},ye={includes:ve(!0),indexOf:ve(!1)},_e=ye.indexOf,be=function(e,t){var n,r=x(e),i=0,o=[];for(n in r)!E(V,n)&&E(r,n)&&o.push(n);for(;t.length>i;)E(r,n=t[i++])&&(~_e(o,n)||o.push(n));return o},we=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xe=we.concat("length","prototype"),ke={f:Object.getOwnPropertyNames||function(e){return be(e,xe)}},je={f:Object.getOwnPropertySymbols},Se=le("Reflect","ownKeys")||function(e){var t=ke.f(M(e)),n=je.f;return n?t.concat(n(e)):t},Ee=function(e,t){for(var n=Se(t),r=I.f,i=L.f,o=0;o<n.length;o++){var s=n[o];E(e,s)||r(e,s,i(t,s))}},Oe=/#|\.prototype\./,Te=function(e,t){var n=Pe[Ce(e)];return n==Le||n!=Ae&&("function"==typeof t?u(t):!!t)},Ce=Te.normalize=function(e){return String(e).replace(Oe,".").toLowerCase()},Pe=Te.data={},Ae=Te.NATIVE="N",Le=Te.POLYFILL="P",Me=Te,Ne=L.f,Ie=function(e,t){var n,r,i,o,s,a=e.target,l=e.global,c=e.stat;if(n=l?h:c?h[a]||D(a,{}):(h[a]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(s=Ne(n,r))&&s.value:n[r],!Me(l?r:a+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ee(o,i)}(e.sham||i&&i.sham)&&R(o,"sham",!0),oe(n,r,o,e)}},Re=Array.isArray||function(e){return"Array"==y(e)},De=function(e,t,n){var r=j(t);r in e?I.f(e,r,m(0,n)):e[r]=n},He=!!Object.getOwnPropertySymbols&&!u((function(){return!String(Symbol())})),qe=h.Symbol,Fe=F("wks"),ze=function(e){return Fe[e]||(Fe[e]=He&&qe[e]||(He?qe:Y)("Symbol."+e))},Be=le("navigator","userAgent")||"",We=h.process,$e=We&&We.versions,Xe=$e&&$e.v8;Xe?re=(ne=Xe.split("."))[0]+ne[1]:Be&&(!(ne=Be.match(/Edge\/(\d+)/))||ne[1]>=74)&&(ne=Be.match(/Chrome\/(\d+)/))&&(re=ne[1]);var Ye=re&&+re,Ue=ze("species"),Ke=function(e){return Ye>=51||!u((function(){var t=[];return(t.constructor={})[Ue]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ve=ze("species"),Ge=[].slice,Qe=Math.max;Ie({target:"Array",proto:!0,forced:!Ke("slice")},{slice:function(e,t){var n,r,i,o=x(this),s=fe(o.length),a=me(e,s),l=me(void 0===t?s:t,s);if(Re(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Re(n.prototype)?k(n)&&null===(n=n[Ve])&&(n=void 0):n=void 0,n===Array||void 0===n))return Ge.call(o,a,l);for(r=new(void 0===n?Array:n)(Qe(l-a,0)),i=0;a<l;a++,i++)a in o&&De(r,i,o[a]);return r.length=i,r}});var Je=I.f,Ze=Function.prototype,et=Ze.toString,tt=/^\s*function ([^ (]*)/,nt="name";d&&!(nt in Ze)&&Je(Ze,nt,{configurable:!0,get:function(){try{return et.call(this).match(tt)[1]}catch(e){return""}}});var rt=ke.f,it={}.toString,ot="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],st={f:function(e){return ot&&"[object Window]"==it.call(e)?function(e){try{return rt(e)}catch(e){return ot.slice()}}(e):rt(x(e))}},at=st.f,lt=u((function(){return!Object.getOwnPropertyNames(1)}));function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e){return(ht="function"==typeof Symbol&&"symbol"===ct(Symbol.iterator)?function(e){return ct(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ct(e)})(e)}Ie({target:"Object",stat:!0,forced:lt},{getOwnPropertyNames:at});var ut=function(e){return Object(w(e))},dt=Object.keys||function(e){return be(e,we)},ft=d?Object.defineProperties:function(e,t){M(e);for(var n,r=dt(t),i=r.length,o=0;i>o;)I.f(e,n=r[o++],t[n]);return e},pt=le("document","documentElement"),gt=K("IE_PROTO"),mt=function(){},vt=function(){var e,t=C("iframe"),n=we.length;for(t.style.display="none",pt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),vt=e.F;n--;)delete vt.prototype[we[n]];return vt()},yt=Object.create||function(e,t){var n;return null!==e?(mt.prototype=M(e),n=new mt,mt.prototype=null,n[gt]=e):n=vt(),void 0===t?n:ft(n,t)};V[gt]=!0;var _t={f:ze},bt=I.f,wt=function(e){var t=se.Symbol||(se.Symbol={});E(t,e)||bt(t,e,{value:_t.f(e)})},xt=I.f,kt=ze("toStringTag"),jt=function(e,t,n){e&&!E(e=n?e:e.prototype,kt)&&xt(e,kt,{configurable:!0,value:t})},St=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Et=function(e,t,n){if(St(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Ot=ze("species"),Tt=function(e,t){var n;return Re(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Re(n.prototype)?k(n)&&null===(n=n[Ot])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Ct=[].push,Pt=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,s=5==e||o;return function(a,l,c,h){for(var u,d,f=ut(a),p=b(f),g=Et(l,c,3),m=fe(p.length),v=0,y=h||Tt,_=t?y(a,m):n?y(a,0):void 0;m>v;v++)if((s||v in p)&&(d=g(u=p[v],v,f),e))if(t)_[v]=d;else if(d)switch(e){case 3:return!0;case 5:return u;case 6:return v;case 2:Ct.call(_,u)}else if(i)return!1;return o?-1:r||i?i:_}},At={forEach:Pt(0),map:Pt(1),filter:Pt(2),some:Pt(3),every:Pt(4),find:Pt(5),findIndex:Pt(6)},Lt=At.forEach,Mt=K("hidden"),Nt="Symbol",It=ze("toPrimitive"),Rt=ie.set,Dt=ie.getterFor(Nt),Ht=Object.prototype,qt=h.Symbol,Ft=h.JSON,zt=Ft&&Ft.stringify,Bt=L.f,Wt=I.f,$t=st.f,Xt=g.f,Yt=F("symbols"),Ut=F("op-symbols"),Kt=F("string-to-symbol-registry"),Vt=F("symbol-to-string-registry"),Gt=F("wks"),Qt=h.QObject,Jt=!Qt||!Qt.prototype||!Qt.prototype.findChild,Zt=d&&u((function(){return 7!=yt(Wt({},"a",{get:function(){return Wt(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Bt(Ht,t);r&&delete Ht[t],Wt(e,t,n),r&&e!==Ht&&Wt(Ht,t,r)}:Wt,en=function(e,t){var n=Yt[e]=yt(qt.prototype);return Rt(n,{type:Nt,tag:e,description:t}),d||(n.description=t),n},tn=He&&"symbol"==typeof qt.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof qt},nn=function(e,t,n){e===Ht&&nn(Ut,t,n),M(e);var r=j(t,!0);return M(n),E(Yt,r)?(n.enumerable?(E(e,Mt)&&e[Mt][r]&&(e[Mt][r]=!1),n=yt(n,{enumerable:m(0,!1)})):(E(e,Mt)||Wt(e,Mt,m(1,{})),e[Mt][r]=!0),Zt(e,r,n)):Wt(e,r,n)},rn=function(e,t){M(e);var n=x(t),r=dt(n).concat(ln(n));return Lt(r,(function(t){d&&!on.call(n,t)||nn(e,t,n[t])})),e},on=function(e){var t=j(e,!0),n=Xt.call(this,t);return!(this===Ht&&E(Yt,t)&&!E(Ut,t))&&(!(n||!E(this,t)||!E(Yt,t)||E(this,Mt)&&this[Mt][t])||n)},sn=function(e,t){var n=x(e),r=j(t,!0);if(n!==Ht||!E(Yt,r)||E(Ut,r)){var i=Bt(n,r);return!i||!E(Yt,r)||E(n,Mt)&&n[Mt][r]||(i.enumerable=!0),i}},an=function(e){var t=$t(x(e)),n=[];return Lt(t,(function(e){E(Yt,e)||E(V,e)||n.push(e)})),n},ln=function(e){var t=e===Ht,n=$t(t?Ut:x(e)),r=[];return Lt(n,(function(e){!E(Yt,e)||t&&!E(Ht,e)||r.push(Yt[e])})),r};He||(oe((qt=function(){if(this instanceof qt)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Y(e),n=function(e){this===Ht&&n.call(Ut,e),E(this,Mt)&&E(this[Mt],t)&&(this[Mt][t]=!1),Zt(this,t,m(1,e))};return d&&Jt&&Zt(Ht,t,{configurable:!0,set:n}),en(t,e)}).prototype,"toString",(function(){return Dt(this).tag})),g.f=on,I.f=nn,L.f=sn,ke.f=st.f=an,je.f=ln,d&&(Wt(qt.prototype,"description",{configurable:!0,get:function(){return Dt(this).description}}),oe(Ht,"propertyIsEnumerable",on,{unsafe:!0})),_t.f=function(e){return en(ze(e),e)}),Ie({global:!0,wrap:!0,forced:!He,sham:!He},{Symbol:qt}),Lt(dt(Gt),(function(e){wt(e)})),Ie({target:Nt,stat:!0,forced:!He},{for:function(e){var t=String(e);if(E(Kt,t))return Kt[t];var n=qt(t);return Kt[t]=n,Vt[n]=t,n},keyFor:function(e){if(!tn(e))throw TypeError(e+" is not a symbol");if(E(Vt,e))return Vt[e]},useSetter:function(){Jt=!0},useSimple:function(){Jt=!1}}),Ie({target:"Object",stat:!0,forced:!He,sham:!d},{create:function(e,t){return void 0===t?yt(e):rn(yt(e),t)},defineProperty:nn,defineProperties:rn,getOwnPropertyDescriptor:sn}),Ie({target:"Object",stat:!0,forced:!He},{getOwnPropertyNames:an,getOwnPropertySymbols:ln}),Ie({target:"Object",stat:!0,forced:u((function(){je.f(1)}))},{getOwnPropertySymbols:function(e){return je.f(ut(e))}}),Ft&&Ie({target:"JSON",stat:!0,forced:!He||u((function(){var e=qt();return"[null]"!=zt([e])||"{}"!=zt({a:e})||"{}"!=zt(Object(e))}))},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(k(t)||void 0!==e)&&!tn(e))return Re(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!tn(t))return t}),r[1]=t,zt.apply(Ft,r)}}),qt.prototype[It]||R(qt.prototype,It,qt.prototype.valueOf),jt(qt,Nt),V[Mt]=!0;var cn=I.f,hn=h.Symbol;if(d&&"function"==typeof hn&&(!("description"in hn.prototype)||void 0!==hn().description)){var un={},dn=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof dn?new hn(e):void 0===e?hn():hn(e);return""===e&&(un[t]=!0),t};Ee(dn,hn);var fn=dn.prototype=hn.prototype;fn.constructor=dn;var pn=fn.toString,gn="Symbol(test)"==String(hn("test")),mn=/^Symbol\((.*)\)[^)]+$/;cn(fn,"description",{configurable:!0,get:function(){var e=k(this)?this.valueOf():this,t=pn.call(e);if(E(un,e))return"";var n=gn?t.slice(7,-1):t.replace(mn,"$1");return""===n?void 0:n}}),Ie({global:!0,forced:!0},{Symbol:dn})}wt("iterator");var vn=ze("unscopables"),yn=Array.prototype;null==yn[vn]&&R(yn,vn,yt(null));var _n,bn,wn,xn=function(e){yn[vn][e]=!0},kn={},jn=!u((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Sn=K("IE_PROTO"),En=Object.prototype,On=jn?Object.getPrototypeOf:function(e){return e=ut(e),E(e,Sn)?e[Sn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?En:null},Tn=ze("iterator"),Cn=!1;[].keys&&("next"in(wn=[].keys())?(bn=On(On(wn)))!==Object.prototype&&(_n=bn):Cn=!0),null==_n&&(_n={}),E(_n,Tn)||R(_n,Tn,(function(){return this}));var Pn={IteratorPrototype:_n,BUGGY_SAFARI_ITERATORS:Cn},An=Pn.IteratorPrototype,Ln=function(){return this},Mn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return M(n),function(e){if(!k(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Nn=Pn.IteratorPrototype,In=Pn.BUGGY_SAFARI_ITERATORS,Rn=ze("iterator"),Dn="keys",Hn="values",qn="entries",Fn=function(){return this},zn=function(e,t,n,r,i,o,s){!function(e,t,n){var r=t+" Iterator";e.prototype=yt(An,{next:m(1,n)}),jt(e,r,!1),kn[r]=Ln}(n,t,r);var a,l,c,h=function(e){if(e===i&&g)return g;if(!In&&e in f)return f[e];switch(e){case Dn:case Hn:case qn:return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",d=!1,f=e.prototype,p=f[Rn]||f["@@iterator"]||i&&f[i],g=!In&&p||h(i),v="Array"==t&&f.entries||p;if(v&&(a=On(v.call(new e)),Nn!==Object.prototype&&a.next&&(On(a)!==Nn&&(Mn?Mn(a,Nn):"function"!=typeof a[Rn]&&R(a,Rn,Fn)),jt(a,u,!0))),i==Hn&&p&&p.name!==Hn&&(d=!0,g=function(){return p.call(this)}),f[Rn]!==g&&R(f,Rn,g),kn[t]=g,i)if(l={values:h(Hn),keys:o?g:h(Dn),entries:h(qn)},s)for(c in l)(In||d||!(c in f))&&oe(f,c,l[c]);else Ie({target:t,proto:!0,forced:In||d},l);return l},Bn="Array Iterator",Wn=ie.set,$n=ie.getterFor(Bn),Xn=zn(Array,"Array",(function(e,t){Wn(this,{type:Bn,target:x(e),index:0,kind:t})}),(function(){var e=$n(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");kn.Arguments=kn.Array,xn("keys"),xn("values"),xn("entries");var Yn=Object.assign,Un=!Yn||u((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Yn({},e)[n]||dt(Yn({},t)).join("")!=r}))?function(e,t){for(var n=ut(e),r=arguments.length,i=1,o=je.f,s=g.f;r>i;)for(var a,l=b(arguments[i++]),c=o?dt(l).concat(o(l)):dt(l),h=c.length,u=0;h>u;)a=c[u++],d&&!s.call(l,a)||(n[a]=l[a]);return n}:Yn;Ie({target:"Object",stat:!0,forced:Object.assign!==Un},{assign:Un});var Kn=ze("toStringTag"),Vn="Arguments"==y(function(){return arguments}()),Gn=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Kn))?n:Vn?y(t):"Object"==(r=y(t))&&"function"==typeof t.callee?"Arguments":r},Qn={};Qn[ze("toStringTag")]="z";var Jn="[object z]"!==String(Qn)?function(){return"[object "+Gn(this)+"]"}:Qn.toString,Zn=Object.prototype;Jn!==Zn.toString&&oe(Zn,"toString",Jn,{unsafe:!0});var er=!u((function(){return Object.isExtensible(Object.preventExtensions({}))})),tr=o((function(e){var t=I.f,n=Y("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!k(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!E(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return er&&s.REQUIRED&&i(e)&&!E(e,n)&&o(e),e}};V[n]=!0})),nr=ze("iterator"),rr=Array.prototype,ir=ze("iterator"),or=function(e,t,n,r){try{return r?t(M(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&M(i.call(e)),t}},sr=o((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var s,a,l,c,h,u,d,f,p=Et(n,r,i?2:1);if(o)s=e;else{if("function"!=typeof(a=function(e){if(null!=e)return e[ir]||e["@@iterator"]||kn[Gn(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(f=a)&&(kn.Array===f||rr[nr]===f)){for(l=0,c=fe(e.length);c>l;l++)if((h=i?p(M(d=e[l])[0],d[1]):p(e[l]))&&h instanceof t)return h;return new t(!1)}s=a.call(e)}for(u=s.next;!(d=u.call(s)).done;)if("object"==typeof(h=or(s,p,d.value,i))&&h&&h instanceof t)return h;return new t(!1)}).stop=function(e){return new t(!0,e)}})),ar=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},lr=ze("iterator"),cr=!1;try{var hr=0,ur={next:function(){return{done:!!hr++}},return:function(){cr=!0}};ur[lr]=function(){return this},Array.from(ur,(function(){throw 2}))}catch(e){}var dr=function(e,t,n){var r,i;return Mn&&"function"==typeof(r=t.constructor)&&r!==n&&k(i=r.prototype)&&i!==n.prototype&&Mn(e,i),e},fr=function(e,t,n){for(var r in t)oe(e,r,t[r],n);return e},pr=ze("species"),gr=I.f,mr=tr.fastKey,vr=ie.set,yr=ie.getterFor,_r=(function(e,t,n,r,i){var o=h.Set,s=o&&o.prototype,a=o,l="add",c={},d=function(e){var t=s[e];oe(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e||"get"==e||"has"==e?function(e){return t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Me(e,"function"!=typeof o||!(s.forEach&&!u((function(){(new o).entries().next()})))))a=n.getConstructor(t,e,r,l),tr.REQUIRED=!0;else if(Me(e,!0)){var f=new a,p=f.add(-0,1)!=f,g=u((function(){f.has(1)})),m=function(e,t){if(!cr)return!1;var n=!1;try{var r={};r[lr]=function(){return{next:function(){return{done:n=!0}}}},new o(r)}catch(e){}return n}(),v=u((function(){for(var e=new o,t=5;t--;)e.add(t,t);return!e.has(-0)}));m||((a=t((function(t,n){ar(t,a,e);var i=dr(new o,t,a);return null!=n&&sr(n,i.add,i,r),i}))).prototype=s,s.constructor=a),(g||v)&&(d("delete"),d("has")),(v||p)&&d(l)}c.Set=a,Ie({global:!0,forced:a!=o},c),jt(a,e),n.setStrong(a,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var i=e((function(e,o){ar(e,i,t),vr(e,{type:t,index:yt(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=o&&sr(o,e[r],e,n)})),o=yr(t),s=function(e,t,n){var r,i,s=o(e),l=a(e,t);return l?l.value=n:(s.last=l={index:i=mr(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=l),r&&(r.next=l),d?s.size++:e.size++,"F"!==i&&(s.index[i]=l)),e},a=function(e,t){var n,r=o(e),i=mr(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return fr(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=a(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),d?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=Et(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),fr(i.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),d&&gr(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=yr(t),o=yr(r);zn(e,t,(function(e,t){vr(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=le(e),n=I.f;d&&t&&!t[pr]&&n(t,pr,{configurable:!0,get:function(){return this}})}(t)}}),function(e){return function(t,n){var r,i,o=String(w(t)),s=ue(n),a=o.length;return s<0||s>=a?e?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?e?o.charAt(s):r:e?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}}),br={codeAt:_r(!1),charAt:_r(!0)},wr=br.charAt,xr="String Iterator",kr=ie.set,jr=ie.getterFor(xr);zn(String,"String",(function(e){kr(this,{type:xr,string:String(e),index:0})}),(function(){var e,t=jr(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=wr(n,r),t.index+=e.length,{value:e,done:!1})}));var Sr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Er=ze("iterator"),Or=ze("toStringTag"),Tr=Xn.values;for(var Cr in Sr){var Pr=h[Cr],Ar=Pr&&Pr.prototype;if(Ar){if(Ar[Er]!==Tr)try{R(Ar,Er,Tr)}catch(e){Ar[Er]=Tr}if(Ar[Or]||R(Ar,Or,Cr),Sr[Cr])for(var Lr in Xn)if(Ar[Lr]!==Xn[Lr])try{R(Ar,Lr,Xn[Lr])}catch(e){Ar[Lr]=Xn[Lr]}}}function Mr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Nr={},Ir=[];function Rr(e,t){if(Array.isArray(e)){var n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)Rr(o.value,t)}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}else if("object"!==ht(e))Hr(Object.getOwnPropertyNames(t)),Nr[e]=Object.assign(Nr[e]||{},t);else for(var a in e)Rr(a,e[a])}function Dr(e){return Nr[e]||{}}function Hr(e){Ir.push.apply(Ir,Mr(e))}var qr=ye.includes;Ie({target:"Array",proto:!0},{includes:function(e){return qr(this,e,arguments.length>1?arguments[1]:void 0)}}),xn("includes");var Fr,zr,Br=function(){var e=M(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Wr=RegExp.prototype.exec,$r=String.prototype.replace,Xr=Wr,Yr=(Fr=/a/,zr=/b*/g,Wr.call(Fr,"a"),Wr.call(zr,"a"),0!==Fr.lastIndex||0!==zr.lastIndex),Ur=void 0!==/()??/.exec("")[1];(Yr||Ur)&&(Xr=function(e){var t,n,r,i,o=this;return Ur&&(n=new RegExp("^"+o.source+"$(?!\\s)",Br.call(o))),Yr&&(t=o.lastIndex),r=Wr.call(o,e),Yr&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),Ur&&r&&r.length>1&&$r.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Kr=Xr;Ie({target:"RegExp",proto:!0,forced:/./.exec!==Kr},{exec:Kr});var Vr=ze("match"),Gr=function(e){var t;return k(e)&&(void 0!==(t=e[Vr])?!!t:"RegExp"==y(e))},Qr=function(e){if(Gr(e))throw TypeError("The method doesn't accept regular expressions");return e},Jr=ze("match");Ie({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./".includes(t)}catch(e){try{return t[Jr]=!1,"/./".includes(t)}catch(e){}}return!1}()},{includes:function(e){return!!~String(w(this)).indexOf(Qr(e),arguments.length>1?arguments[1]:void 0)}});var Zr=ze("species"),ei=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),ti=!u((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),ni=function(e,t,n,r){var i=ze(e),o=!u((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),s=o&&!u((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Zr]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!s||"replace"===e&&!ei||"split"===e&&!ti){var a=/./[i],l=n(i,""[e],(function(e,t,n,r,i){return t.exec===Kr?o&&!i?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),c=l[0],h=l[1];oe(String.prototype,e,c),oe(RegExp.prototype,i,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}),r&&R(RegExp.prototype[i],"sham",!0)}},ri=br.charAt,ii=function(e,t,n){return t+(n?ri(e,t).length:1)},oi=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==y(e))throw TypeError("RegExp#exec called on incompatible receiver");return Kr.call(e,t)},si=Math.max,ai=Math.min,li=Math.floor,ci=/\$([$&'`]|\d\d?|<[^>]*>)/g,hi=/\$([$&'`]|\d\d?)/g;ni("replace",2,(function(e,t,n){return[function(n,r){var i=w(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,i){var o=n(t,e,this,i);if(o.done)return o.value;var s=M(e),a=String(this),l="function"==typeof i;l||(i=String(i));var c=s.global;if(c){var h=s.unicode;s.lastIndex=0}for(var u=[];;){var d=oi(s,a);if(null===d)break;if(u.push(d),!c)break;""===String(d[0])&&(s.lastIndex=ii(a,fe(s.lastIndex),h))}for(var f,p="",g=0,m=0;m<u.length;m++){d=u[m];for(var v=String(d[0]),y=si(ai(ue(d.index),a.length),0),_=[],b=1;b<d.length;b++)_.push(void 0===(f=d[b])?f:String(f));var w=d.groups;if(l){var x=[v].concat(_,y,a);void 0!==w&&x.push(w);var k=String(i.apply(void 0,x))}else k=r(v,a,y,_,w,i);y>=g&&(p+=a.slice(g,y)+k,g=y+v.length)}return p+a.slice(g)}];function r(e,n,r,i,o,s){var a=r+e.length,l=i.length,c=hi;return void 0!==o&&(o=ut(o),c=ci),t.call(s,c,(function(t,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":c=o[s.slice(1,-1)];break;default:var h=+s;if(0===h)return t;if(h>l){var u=li(h/10);return 0===u?t:u<=l?void 0===i[u-1]?s.charAt(1):i[u-1]+s.charAt(1):t}c=i[h-1]}return void 0===c?"":c}))}}));var ui="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",di="["+ui+"]",fi=RegExp("^"+di+di+"*"),pi=RegExp(di+di+"*$"),gi=function(e){return function(t){var n=String(w(t));return 1&e&&(n=n.replace(fi,"")),2&e&&(n=n.replace(pi,"")),n}},mi={start:gi(1),end:gi(2),trim:gi(3)},vi=mi.trim;function yi(e,t){var n,r=e.length,i=[];for(n=0;n<r;n++)i.push(t(e[n]));return i}function _i(e){return e%360*Math.PI/180}function bi(e){return e.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function wi(e){return e.charAt(0).toUpperCase()+e.slice(1)}function xi(e,t,n,r){return null!=t&&null!=n||(r=r||e.bbox(),null==t?t=r.width/r.height*n:null==n&&(n=r.height/r.width*t)),{width:t,height:n}}function ki(e,t){var n,r,i=e.origin;if("string"==typeof i||null==i){var o=(i||"center").toLowerCase().trim(),s=t.bbox(),a=s.height,l=s.width,c=s.x,h=s.y,u=o.includes("left")?c:o.includes("right")?c+l:c+l/2,d=o.includes("top")?h:o.includes("bottom")?h+a:h+a/2;n=null!=e.ox?e.ox:u,r=null!=e.oy?e.oy:d}else n=i[0],r=i[1];return[n,r]}Ie({target:"String",proto:!0,forced:function(e){return u((function(){return!!ui.trim()||"âÂá "!="âÂá ".trim()||ui.trim.name!==e}))}("trim")},{trim:function(){return vi(this)}});var ji="http://www.w3.org/2000/svg",Si="http://www.w3.org/2000/xmlns/",Ei="http://www.w3.org/1999/xlink",Oi={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};function Ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ci=function e(){Ti(this,e)},Pi={},Ai="___SYMBOL___ROOT___";function Li(e){return Oi.document.createElementNS(ji,e)}function Mi(e){if(e instanceof Ci)return e;if("object"===ht(e))return Ri(e);if(null==e)return new Pi[Ai];if("string"==typeof e&&"<"!==e.charAt(0))return Ri(Oi.document.querySelector(e));var t=Li("svg");return t.innerHTML=e,Ri(t.firstChild)}function Ni(e,t){return t instanceof Oi.window.Node?t:Li(e)}function Ii(e){if(!e)return null;if(e.instance instanceof Ci)return e.instance;var t=wi(e.nodeName||"Dom");return"LinearGradient"===t||"RadialGradient"===t?t="Gradient":Pi[t]||(t="Dom"),new Pi[t](e)}var Ri=Ii;function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Pi[t]=e,n&&(Pi[Ai]=e),Hr(Object.getOwnPropertyNames(e.prototype)),e}var Hi=1e3;function qi(e){return"Svgjs"+wi(e)+Hi++}function Fi(e){for(var t=e.children.length-1;t>=0;t--)Fi(e.children[t]);return e.id?Ii(e).id(qi(e.nodeName)):Ii(e)}function zi(e,t,n){var r,i;for(i=(e=Array.isArray(e)?e:[e]).length-1;i>=0;i--)for(r in t){var o=t[r];n&&(o=Bi(t[r])),e[i].prototype[r]=o}}function Bi(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[n.length-1];return!i||i.constructor!==Object||i instanceof Array?e.apply(this,n):e.apply(this,n.slice(0,-1)).attr(i)}}Rr("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){var e=this.position()+1,t=this.parent();return t.removeElement(this).add(this,e),"function"==typeof t.isRoot&&t.isRoot()&&t.node.appendChild(t.defs().node),this},backward:function(){var e=this.position();return e>0&&this.parent().removeElement(this).add(this,e-1),this},front:function(){var e=this.parent();return e.node.appendChild(this.node),"function"==typeof e.isRoot&&e.isRoot()&&e.node.appendChild(e.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(e){(e=Mi(e)).remove();var t=this.position();return this.parent().add(e,t),this},after:function(e){(e=Mi(e)).remove();var t=this.position();return this.parent().add(e,t+1),this},insertBefore:function(e){return(e=Mi(e)).before(this),this},insertAfter:function(e){return(e=Mi(e)).after(this),this}});var Wi=At.filter;Ie({target:"Array",proto:!0,forced:!Ke("filter")},{filter:function(e){return Wi(this,e,arguments.length>1?arguments[1]:void 0)}});var $i=function(e,t){var n=[][e];return!n||!u((function(){n.call(null,t||function(){throw 1},1)}))},Xi=ye.indexOf,Yi=[].indexOf,Ui=!!Yi&&1/[1].indexOf(1,-0)<0,Ki=$i("indexOf");Ie({target:"Array",proto:!0,forced:Ui||Ki},{indexOf:function(e){return Ui?Yi.apply(this,arguments)||0:Xi(this,e,arguments.length>1?arguments[1]:void 0)}});var Vi=[].join,Gi=b!=Object,Qi=$i("join",",");Ie({target:"Array",proto:!0,forced:Gi||Qi},{join:function(e){return Vi.call(x(this),void 0===e?",":e)}});var Ji=ze("species"),Zi=[].push,eo=Math.min,to=4294967295,no=!u((function(){return!RegExp(to,"y")}));ni("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(w(this)),i=void 0===n?to:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!Gr(e))return t.call(r,e,i);for(var o,s,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,u=new RegExp(e.source,c+"g");(o=Kr.call(u,r))&&!((s=u.lastIndex)>h&&(l.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&Zi.apply(l,o.slice(1)),a=o[0].length,h=s,l.length>=i));)u.lastIndex===o.index&&u.lastIndex++;return h===r.length?!a&&u.test("")||l.push(""):l.push(r.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=w(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var s=M(e),a=String(this),l=function(e,t){var n,r=M(e).constructor;return void 0===r||null==(n=M(r)[Ji])?t:St(n)}(s,RegExp),c=s.unicode,h=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(no?"y":"g"),u=new l(no?s:"^(?:"+s.source+")",h),d=void 0===i?to:i>>>0;if(0===d)return[];if(0===a.length)return null===oi(u,a)?[a]:[];for(var f=0,p=0,g=[];p<a.length;){u.lastIndex=no?p:0;var m,v=oi(u,no?a:a.slice(p));if(null===v||(m=eo(fe(u.lastIndex+(no?0:p)),a.length))===f)p=ii(a,p,c);else{if(g.push(a.slice(f,p)),g.length===d)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===d)return g;p=f=m}}return g.push(a.slice(f)),g}]}),!no);var ro=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,io=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oo=/rgb\((\d+),(\d+),(\d+)\)/,so=/(#[a-z0-9\-_]+)/i,ao=/\)\s*,?\s*/,lo=/\s/g,co=/^#[a-f0-9]{3,6}$/i,ho=/^rgb\(/,uo=/^(\s+)?$/,fo=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,po=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,go=/[\s,]+/,mo=/([^e])-/gi,vo=/[MLHVCSQTAZ]/gi,yo=/[MLHVCSQTAZ]/i,_o=/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,bo=/\./g;Rr("Dom",{classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(go)},hasClass:function(e){return-1!==this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter((function(t){return t!==e})).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}});var wo=At.forEach,xo=$i("forEach")?function(e){return wo(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach;for(var ko in Ie({target:"Array",proto:!0,forced:[].forEach!=xo},{forEach:xo}),Sr){var jo=h[ko],So=jo&&jo.prototype;if(So&&So.forEach!==xo)try{R(So,"forEach",xo)}catch(e){So.forEach=xo}}Rr("Dom",{css:function(e,t){var n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(e){return!!e.length})).forEach((function(e){var t=e.split(/\s*:\s*/);n[t[0]]=t[1]})),n;if(arguments.length<2){if(Array.isArray(e)){var r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value,c=bi(l);n[c]=this.node.style[c]}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}if("string"==typeof e)return this.node.style[bi(e)];if("object"===ht(e))for(var h in e)this.node.style[bi(h)]=null==e[h]||uo.test(e[h])?"":e[h]}return 2===arguments.length&&(this.node.style[bi(e)]=null==t||uo.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),Rr("Dom",{data:function(e,t,n){if("object"===ht(e))for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch(t){return this.attr("data-"+e)}else this.attr("data-"+e,null===t?null:!0===n||"string"==typeof t||"number"==typeof t?t:JSON.stringify(t));return this}}),Rr("Dom",{remember:function(e,t){if("object"===ht(arguments[0]))for(var n in e)this.remember(n,e[n]);else{if(1===arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0===arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory=this._memory||{}}});var Eo=function(e){return function(t,n,r,i){St(n);var o=ut(t),s=b(o),a=fe(o.length),l=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=c)l in s&&(i=n(i,s[l],l,o));return i}},Oo=[Eo(!1),Eo(!0)][0];Ie({target:"Array",proto:!0,forced:$i("reduce")},{reduce:function(e){return Oo(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var To=0,Co={};function Po(e){var t=e.getEventHolder();return t===Oi.window&&(t=Co),t.events||(t.events={}),t.events}function Ao(e){return e.getEventTarget()}function Lo(e,t,n,r,i){var o=n.bind(r||e),s=Mi(e),a=Po(s),l=Ao(s);t=Array.isArray(t)?t:t.split(go),n._svgjsListenerId||(n._svgjsListenerId=++To),t.forEach((function(e){var t=e.split(".")[0],r=e.split(".")[1]||"*";a[t]=a[t]||{},a[t][r]=a[t][r]||{},a[t][r][n._svgjsListenerId]=o,l.addEventListener(t,o,i||!1)}))}function Mo(e,t,n,r){var i=Mi(e),o=Po(i),s=Ao(i);("function"!=typeof n||(n=n._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(go)).forEach((function(e){var t,a,l=e&&e.split(".")[0],c=e&&e.split(".")[1];if(n)o[l]&&o[l][c||"*"]&&(s.removeEventListener(l,o[l][c||"*"][n],r||!1),delete o[l][c||"*"][n]);else if(l&&c){if(o[l]&&o[l][c]){for(a in o[l][c])Mo(s,[l,c].join("."),a);delete o[l][c]}}else if(c)for(e in o)for(t in o[e])c===t&&Mo(s,[e,c].join("."));else if(l){if(o[l]){for(t in o[l])Mo(s,[l,t].join("."));delete o[l]}}else{for(e in o)Mo(s,e);!function(e){var t=e.getEventHolder();t.events&&(t.events={})}(i)}}))}var No=ze("isConcatSpreadable"),Io=9007199254740991,Ro="Maximum allowed index exceeded",Do=Ye>=51||!u((function(){var e=[];return e[No]=!1,e.concat()[0]!==e})),Ho=Ke("concat"),qo=function(e){if(!k(e))return!1;var t=e[No];return void 0!==t?!!t:Re(e)};Ie({target:"Array",proto:!0,forced:!Do||!Ho},{concat:function(e){var t,n,r,i,o,s=ut(this),a=Tt(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(qo(o=-1===t?s:arguments[t])){if(l+(i=fe(o.length))>Io)throw TypeError(Ro);for(n=0;n<i;n++,l++)n in o&&De(a,l,o[n])}else{if(l>=Io)throw TypeError(Ro);De(a,l++,o)}return a.length=l,a}});var Fo=At.map;Ie({target:"Array",proto:!0,forced:!Ke("map")},{map:function(e){return Fo(this,e,arguments.length>1?arguments[1]:void 0)}});var zo=Date.prototype,Bo="Invalid Date",Wo=zo.toString,$o=zo.getTime;new Date(NaN)+""!=Bo&&oe(zo,"toString",(function(){var e=$o.call(this);return e==e?Wo.call(this):Bo}));var Xo=mi.trim,Yo=h.parseInt,Uo=/^[+-]?0[Xx]/,Ko=8!==Yo(ui+"08")||22!==Yo(ui+"0x16")?function(e,t){var n=Xo(String(e));return Yo(n,t>>>0||(Uo.test(n)?16:10))}:Yo;Ie({global:!0,forced:parseInt!=Ko},{parseInt:Ko});var Vo="toString",Go=RegExp.prototype,Qo=Go.toString,Jo=u((function(){return"/a/b"!=Qo.call({source:"a",flags:"b"})})),Zo=Qo.name!=Vo;function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t,n){return t&&ts(e.prototype,t),n&&ts(e,n),e}function rs(e){return 4===e.length?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function is(e){var t=Math.round(e),n=Math.max(0,Math.min(255,t)).toString(16);return 1===n.length?"0"+n:n}function os(e,t){for(var n=t.length;n--;)if(null==e[t[n]])return!1;return!0}function ss(e,t){var n=os(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,space:"rgb"}:os(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:os(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:os(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:os(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:os(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function as(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}(Jo||Zo)&&oe(RegExp.prototype,Vo,(function(){var e=M(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Go)?Br.call(e):n)}),{unsafe:!0});var ls=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if(e=e||0,this.space)for(var o in this.space)delete this[this.space[o]];if("number"==typeof e)i="string"==typeof r?r:i,r="string"==typeof r?0:r,Object.assign(this,{_a:e,_b:t,_c:n,_d:r,space:i});else if(e instanceof Array)this.space=t||("string"==typeof e[3]?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){var s=ss(e,t);Object.assign(this,s)}else if("string"==typeof e)if(ho.test(e)){var a=e.replace(lo,""),l=oo.exec(a).slice(1,4).map((function(e){return parseInt(e)})),c=es(l,3),h=c[0],u=c[1],d=c[2];Object.assign(this,{_a:h,_b:u,_c:d,_d:0,space:"rgb"})}else{if(!co.test(e))throw Error("Unsupported string format, can't construct Color");var f=function(e){return parseInt(e,16)},p=io.exec(rs(e)).map(f),g=es(p,4),m=g[1],v=g[2],y=g[3];Object.assign(this,{_a:m,_b:v,_c:y,_d:0,space:"rgb"})}var _=this._a,b=this._b,w=this._c,x=this._d,k="rgb"===this.space?{r:_,g:b,b:w}:"xyz"===this.space?{x:_,y:b,z:w}:"hsl"===this.space?{h:_,s:b,l:w}:"lab"===this.space?{l:_,a:b,b:w}:"lch"===this.space?{l:_,c:b,h:w}:"cmyk"===this.space?{c:_,m:b,y:w,k:x}:{};Object.assign(this,k)}},{key:"rgb",value:function(){if("rgb"===this.space)return this;if("lab"===(P=this.space)||"xyz"===P||"lch"===P){var t=this.x,n=this.y,r=this.z;if("lab"===this.space||"lch"===this.space){var i=this.l,o=this.a,s=this.b;if("lch"===this.space){var a=this.c,l=this.h,c=Math.PI/180;o=a*Math.cos(c*l),s=a*Math.sin(c*l)}var h=(i+16)/116,u=o/500+h,d=h-s/200,f=16/116,p=.008856,g=7.787;t=.95047*(Math.pow(u,3)>p?Math.pow(u,3):(u-f)/g),n=1*(Math.pow(h,3)>p?Math.pow(h,3):(h-f)/g),r=1.08883*(Math.pow(d,3)>p?Math.pow(d,3):(d-f)/g)}var m=3.2406*t+-1.5372*n+-.4986*r,v=-.9689*t+1.8758*n+.0415*r,y=.0557*t+-.204*n+1.057*r,_=Math.pow,b=.0031308;return new e(255*(m>b?1.055*_(m,1/2.4)-.055:12.92*m),255*(v>b?1.055*_(v,1/2.4)-.055:12.92*v),255*(y>b?1.055*_(y,1/2.4)-.055:12.92*y))}if("hsl"===this.space){var w=this.h,x=this.s,k=this.l;if(w/=360,k/=100,0==(x/=100))return new e(k*=255,k,k);var j=k<.5?k*(1+x):k+x-k*x,S=2*k-j;return new e(255*as(S,j,w+1/3),255*as(S,j,w),255*as(S,j,w-1/3))}if("cmyk"===this.space){var E=this.c,O=this.m,T=this.y,C=this.k;return new e(255*(1-Math.min(1,E*(1-C)+C)),255*(1-Math.min(1,O*(1-C)+C)),255*(1-Math.min(1,T*(1-C)+C)))}return this;var P}},{key:"lab",value:function(){var t=this.xyz(),n=t.x,r=t.y;return new e(116*r-16,500*(n-r),200*(r-t.z),"lab")}},{key:"xyz",value:function(){var t=this.rgb(),n=es([t._a,t._b,t._c].map((function(e){return e/255})),3),r=n[0],i=n[1],o=n[2],s=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,c=(.4124*s+.3576*a+.1805*l)/.95047,h=(.2126*s+.7152*a+.0722*l)/1,u=(.0193*s+.1192*a+.9505*l)/1.08883;return new e(c>.008856?Math.pow(c,1/3):7.787*c+16/116,h>.008856?Math.pow(h,1/3):7.787*h+16/116,u>.008856?Math.pow(u,1/3):7.787*u+16/116,"xyz")}},{key:"lch",value:function(){var t=this.lab(),n=t.l,r=t.a,i=t.b,o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),s=180*Math.atan2(i,r)/Math.PI;return s<0&&(s=360-(s*=-1)),new e(n,o,s,"lch")}},{key:"hsl",value:function(){var t=this.rgb(),n=es([t._a,t._b,t._c].map((function(e){return e/255})),3),r=n[0],i=n[1],o=n[2],s=Math.max(r,i,o),a=Math.min(r,i,o),l=(s+a)/2,c=s===a,h=s-a;return new e(360*(c?0:s===r?((i-o)/h+(i<o?6:0))/6:s===i?((o-r)/h+2)/6:s===o?((r-i)/h+4)/6:0),100*(c?0:l>.5?h/(2-s-a):h/(s+a)),100*l,"hsl")}},{key:"cmyk",value:function(){var t=this.rgb(),n=es([t._a,t._b,t._c].map((function(e){return e/255})),3),r=n[0],i=n[1],o=n[2],s=Math.min(1-r,1-i,1-o);return 1===s?new e(0,0,0,1,"cmyk"):new e((1-r-s)/(1-s),(1-i-s)/(1-s),(1-o-s)/(1-s),s,"cmyk")}},{key:"_clamped",value:function(){var e=this.rgb(),t=e._a,n=e._b,r=e._c,i=Math.max,o=Math.min,s=Math.round;return[t,n,r].map((function(e){return i(0,o(s(e),255))}))}},{key:"toHex",value:function(){var e=es(this._clamped().map(is),3),t=e[0],n=e[1],r=e[2];return"#".concat(t).concat(n).concat(r)}},{key:"toString",value:function(){return this.toHex()}},{key:"toRgb",value:function(){var e=es(this._clamped(),3),t=e[0],n=e[1],r=e[2];return"rgb(".concat(t,",").concat(n,",").concat(r,")")}},{key:"toArray",value:function(){return[this._a,this._b,this._c,this._d,this.space]}}],[{key:"random",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vibrant",n=arguments.length>1?arguments[1]:void 0,r=Math.random,i=Math.round,o=Math.sin,s=Math.PI;if("vibrant"===t){var a=24*r()+57,l=38*r()+45,c=360*r(),h=new e(a,l,c,"lch");return h}if("sine"===t){var u=i(80*o(2*s*(n=null==n?r():n)/.5+.01)+150),d=i(50*o(2*s*n/.5+4.6)+200),f=i(100*o(2*s*n/.5+2.3)+150),p=new e(u,d,f);return p}if("pastel"===t){var g=8*r()+86,m=17*r()+9,v=360*r(),y=new e(g,m,v,"lch");return y}if("dark"===t){var _=10+10*r(),b=50*r()+86,w=360*r(),x=new e(_,b,w,"lch");return x}if("rgb"===t){var k=255*r(),j=255*r(),S=255*r(),E=new e(k,j,S);return E}if("lab"===t){var O=100*r(),T=256*r()-128,C=256*r()-128,P=new e(O,T,C,"lab");return P}if("grey"===t){var A=255*r(),L=new e(A,A,A);return L}}},{key:"test",value:function(e){return"string"==typeof e&&(co.test(e)||ho.test(e))}},{key:"isRgb",value:function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b}},{key:"isColor",value:function(t){return t&&(t instanceof e||this.isRgb(t)||this.test(t))}}]),e}(),cs=u((function(){dt(1)}));function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function us(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?hs(e):t}function ds(e){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fs(e,t,n){return(fs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ds(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ps(e,t){return(ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ps(e,t)}Ie({target:"Object",stat:!0,forced:cs},{keys:function(e){return dt(ut(e))}}),ni("match",1,(function(e,t,n){return[function(t){var n=w(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=M(e),o=String(this);if(!i.global)return oi(i,o);var s=i.unicode;i.lastIndex=0;for(var a,l=[],c=0;null!==(a=oi(i,o));){var h=String(a[0]);l[c]=h,""===h&&(i.lastIndex=ii(o,fe(i.lastIndex),s)),c++}return 0===c?null:l}]}));var ms=ke.f,vs=L.f,ys=I.f,_s=mi.trim,bs="Number",ws=h.Number,xs=ws.prototype,ks=y(yt(xs))==bs,js=function(e){var t,n,r,i,o,s,a,l,c=j(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=_s(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(s=(o=c.slice(2)).length,a=0;a<s;a++)if((l=o.charCodeAt(a))<48||l>i)return NaN;return parseInt(o,r)}return+c};if(Me(bs,!ws(" 0o1")||!ws("0b1")||ws("+0x1"))){for(var Ss,Es=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Es&&(ks?u((function(){xs.valueOf.call(n)})):y(n)!=bs)?dr(new ws(js(t)),n,Es):js(t)},Os=d?ms(ws):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ts=0;Os.length>Ts;Ts++)E(ws,Ss=Os[Ts])&&!E(Es,Ss)&&ys(Es,Ss,vs(ws,Ss));Es.prototype=xs,xs.constructor=Es,oe(h,bs,Es)}var Cs=mi.trim,Ps=h.parseFloat,As=1/Ps(ui+"-0")!=-1/0?function(e){var t=Cs(String(e)),n=Ps(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Ps;Ie({global:!0,forced:parseFloat!=As},{parseFloat:As});var Ls=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(e,t){var n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===ht(e)?{x:e.x,y:e.y}:{x:e,y:t};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}},{key:"clone",value:function(){return new e(this)}},{key:"transform",value:function(e){return this.clone().transformO(e)}},{key:"transformO",value:function(e){Ns.isMatrixLike(e)||(e=new Ns(e));var t=this.x,n=this.y;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}},{key:"toArray",value:function(){return[this.x,this.y]}}]),e}();function Ms(e,t,n){return Math.abs(t-e)<(n||1e-6)}var Ns=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(t){var n=e.fromArray([1,0,0,1,0,0]);return t=t instanceof Zs?t.matrixify():"string"==typeof t?e.fromArray(t.split(go).map(parseFloat)):Array.isArray(t)?e.fromArray(t):"object"===ht(t)&&e.isMatrixLike(t)?t:"object"===ht(t)?(new e).transform(t):6===arguments.length?e.fromArray([].slice.call(arguments)):n,this.a=null!=t.a?t.a:n.a,this.b=null!=t.b?t.b:n.b,this.c=null!=t.c?t.c:n.c,this.d=null!=t.d?t.d:n.d,this.e=null!=t.e?t.e:n.e,this.f=null!=t.f?t.f:n.f,this}},{key:"clone",value:function(){return new e(this)}},{key:"transform",value:function(t){if(e.isMatrixLike(t))return new e(t).multiplyO(this);var n=e.formatTransforms(t),r=new Ls(n.ox,n.oy).transform(this),i=r.x,o=r.y,s=(new e).translateO(n.rx,n.ry).lmultiplyO(this).translateO(-i,-o).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,o);if(isFinite(n.px)||isFinite(n.py)){var a=new Ls(i,o).transform(s),l=n.px?n.px-a.x:0,c=n.py?n.py-a.y:0;s.translateO(l,c)}return s.translateO(n.tx,n.ty),s}},{key:"compose",value:function(t){t.origin&&(t.originX=t.origin[0],t.originY=t.origin[1]);var n=t.originX||0,r=t.originY||0,i=t.scaleX||1,o=t.scaleY||1,s=t.shear||0,a=t.rotate||0,l=t.translateX||0,c=t.translateY||0;return(new e).translateO(-n,-r).scaleO(i,o).shearO(s).rotateO(a).translateO(l,c).lmultiplyO(this).translateO(n,r)}},{key:"decompose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.a,r=this.b,i=this.c,o=this.d,s=this.e,a=this.f,l=n*o-r*i,c=l>0?1:-1,h=c*Math.sqrt(n*n+r*r),u=Math.atan2(c*r,c*n),d=180/Math.PI*u,f=Math.cos(u),p=Math.sin(u),g=(n*i+r*o)/l,m=i*h/(g*n-r)||o*h/(g*r+n),v=s-e+e*f*h+t*(g*f*h-p*m),y=a-t+e*p*h+t*(g*p*h+f*m);return{scaleX:h,scaleY:m,shear:g,rotate:d,translateX:v,translateY:y,originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}},{key:"multiply",value:function(e){return this.clone().multiplyO(e)}},{key:"multiplyO",value:function(t){var n=t instanceof e?t:new e(t);return e.matrixMultiply(this,n,this)}},{key:"lmultiply",value:function(e){return this.clone().lmultiplyO(e)}},{key:"lmultiplyO",value:function(t){var n=t instanceof e?t:new e(t);return e.matrixMultiply(n,this,this)}},{key:"inverseO",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.e,o=this.f,s=e*r-t*n;if(!s)throw new Error("Cannot invert "+this);var a=r/s,l=-t/s,c=-n/s,h=e/s,u=-(a*i+c*o),d=-(l*i+h*o);return this.a=a,this.b=l,this.c=c,this.d=h,this.e=u,this.f=d,this}},{key:"inverse",value:function(){return this.clone().inverseO()}},{key:"translate",value:function(e,t){return this.clone().translateO(e,t)}},{key:"translateO",value:function(e,t){return this.e+=e||0,this.f+=t||0,this}},{key:"scale",value:function(e,t,n,r){var i;return(i=this.clone()).scaleO.apply(i,arguments)}},{key:"scaleO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(r=n,n=t,t=e);var i=this.a,o=this.b,s=this.c,a=this.d,l=this.e,c=this.f;return this.a=i*e,this.b=o*t,this.c=s*e,this.d=a*t,this.e=l*e-n*e+n,this.f=c*t-r*t+r,this}},{key:"rotate",value:function(e,t,n){return this.clone().rotateO(e,t,n)}},{key:"rotateO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=_i(e);var r=Math.cos(e),i=Math.sin(e),o=this.a,s=this.b,a=this.c,l=this.d,c=this.e,h=this.f;return this.a=o*r-s*i,this.b=s*r+o*i,this.c=a*r-l*i,this.d=l*r+a*i,this.e=c*r-h*i+n*i-t*r+t,this.f=h*r+c*i-t*i-n*r+n,this}},{key:"flip",value:function(e,t){return this.clone().flipO(e,t)}},{key:"flipO",value:function(e,t){return"x"===e?this.scaleO(-1,1,t,0):"y"===e?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}},{key:"shear",value:function(e,t,n){return this.clone().shearO(e,t,n)}},{key:"shearO",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.a,r=this.b,i=this.c,o=this.d,s=this.e,a=this.f;return this.a=n+r*e,this.c=i+o*e,this.e=s+a*e-t*e,this}},{key:"skew",value:function(e,t,n,r){var i;return(i=this.clone()).skewO.apply(i,arguments)}},{key:"skewO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;3===arguments.length&&(r=n,n=t,t=e),e=_i(e),t=_i(t);var i=Math.tan(e),o=Math.tan(t),s=this.a,a=this.b,l=this.c,c=this.d,h=this.e,u=this.f;return this.a=s+a*i,this.b=a+s*o,this.c=l+c*i,this.d=c+l*o,this.e=h+u*i-r*i,this.f=u+h*o-n*o,this}},{key:"skewX",value:function(e,t,n){return this.skew(e,0,t,n)}},{key:"skewXO",value:function(e,t,n){return this.skewO(e,0,t,n)}},{key:"skewY",value:function(e,t,n){return this.skew(0,e,t,n)}},{key:"skewYO",value:function(e,t,n){return this.skewO(0,e,t,n)}},{key:"aroundO",value:function(e,t,n){var r=e||0,i=t||0;return this.translateO(-r,-i).lmultiplyO(n).translateO(r,i)}},{key:"around",value:function(e,t,n){return this.clone().aroundO(e,t,n)}},{key:"equals",value:function(t){var n=new e(t);return Ms(this.a,n.a)&&Ms(this.b,n.b)&&Ms(this.c,n.c)&&Ms(this.d,n.d)&&Ms(this.e,n.e)&&Ms(this.f,n.f)}},{key:"toString",value:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}},{key:"valueOf",value:function(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}],[{key:"fromArray",value:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}},{key:"isMatrixLike",value:function(e){return null!=e.a||null!=e.b||null!=e.c||null!=e.d||null!=e.e||null!=e.f}},{key:"formatTransforms",value:function(e){var t="both"===e.flip||!0===e.flip,n=e.flip&&(t||"x"===e.flip)?-1:1,r=e.flip&&(t||"y"===e.flip)?-1:1,i=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,s=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,a=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,l=e.shear||0,c=e.rotate||e.theta||0,h=new Ls(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),u=h.x,d=h.y,f=new Ls(e.position||e.px||e.positionX,e.py||e.positionY),p=f.x,g=f.y,m=new Ls(e.translate||e.tx||e.translateX,e.ty||e.translateY),v=m.x,y=m.y,_=new Ls(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:s,scaleY:a,skewX:i,skewY:o,shear:l,theta:c,rx:_.x,ry:_.y,tx:v,ty:y,ox:u,oy:d,px:p,py:g}}},{key:"matrixMultiply",value:function(e,t,n){var r=e.a*t.a+e.c*t.b,i=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,s=e.b*t.c+e.d*t.d,a=e.e+e.a*t.e+e.c*t.f,l=e.f+e.b*t.e+e.d*t.f;return n.a=r,n.b=i,n.c=o,n.d=s,n.e=a,n.f=l,n}}]),e}();function Is(){if(!Is.nodes){var e=Mi().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");var t=e.path().node;Is.nodes={svg:e,path:t}}if(!Is.nodes.svg.node.parentNode){var n=Oi.document.body||Oi.document.documentElement;Is.nodes.svg.addTo(n)}return Is.nodes}function Rs(e){return!(e.width||e.height||e.x||e.y)}Di(Ns,"Matrix");var Ds=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(e){var t=[0,0,0,0];return e="string"==typeof e?e.split(go).map(parseFloat):Array.isArray(e)?e:"object"===ht(e)?[null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height]:4===arguments.length?[].slice.call(arguments):t,this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}},{key:"merge",value:function(t){var n=Math.min(this.x,t.x),r=Math.min(this.y,t.y);return new e(n,r,Math.max(this.x+this.width,t.x+t.width)-n,Math.max(this.y+this.height,t.y+t.height)-r)}},{key:"transform",value:function(t){t instanceof Ns||(t=new Ns(t));var n=1/0,r=-1/0,i=1/0,o=-1/0;return[new Ls(this.x,this.y),new Ls(this.x2,this.y),new Ls(this.x,this.y2),new Ls(this.x2,this.y2)].forEach((function(e){e=e.transform(t),n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y)})),new e(n,i,r-n,o-i)}},{key:"addOffset",value:function(){return this.x+=Oi.window.pageXOffset,this.y+=Oi.window.pageYOffset,this}},{key:"toString",value:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}},{key:"toArray",value:function(){return[this.x,this.y,this.width,this.height]}},{key:"isNulled",value:function(){return Rs(this)}}]),e}();function Hs(e,t){var n,r;try{if(Rs(n=e(this.node))&&(r=this.node)!==Oi.document&&!(Oi.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===Oi.document}).call(Oi.document.documentElement,r))throw new Error("Element not in the dom")}catch(e){n=t(this)}return n}Rr({viewbox:{viewbox:function(e,t,n,r){return null==e?new Ds(this.attr("viewBox")):this.attr("viewBox",new Ds(e,t,n,r))},zoom:function(e,t){var n=this.node.clientWidth,r=this.node.clientHeight,i=this.viewbox();if(!n&&!r){var o=window.getComputedStyle(this.node);n=parseFloat(o.getPropertyValue("width")),r=parseFloat(o.getPropertyValue("height"))}var s=n/i.width,a=r/i.height,l=Math.min(s,a);if(null==e)return l;var c=l/e;c===1/0&&(c=Number.MIN_VALUE),t=t||new Ls(n/2/s+i.x,r/2/a+i.y);var h=new Ds(i).transform(new Ns({scale:c,origin:t}));return this.viewbox(h)}}}),Di(Ds,"Box");var qs=function(){try{return Function("name","baseClass","_constructor",["baseClass = baseClass || Array","return {","  [name]: class extends baseClass {","    constructor (...args) {","      super(...args)","      _constructor && _constructor.apply(this, args)","    }","  }","}[name]"].join("\n"))}catch(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array,n=arguments.length>2?arguments[2]:void 0,r=function(){t.apply(this,arguments),n&&n.apply(this,arguments)};return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.map=function(e){var t=new r;return t.push.apply(t,Array.prototype.map.call(this,e)),t},r}}}(),Fs=qs("List",Array,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("number"==typeof e)return this;this.length=0,this.push.apply(this,Mr(e))}));zi(Fs,{each:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?this.map((function(t){return e.call(t,t)})):this.map((function(t){return t[e].apply(t,n)}))},toArray:function(){return Array.prototype.concat.apply([],this)}});var zs=["toArray","constructor","each"];function Bs(e,t){return new Fs(yi((t||Oi.document).querySelectorAll(e),(function(e){return Ii(e)})))}Fs.extend=function(e){e=e.reduce((function(e,t){return zs.includes(t)||"_"===t[0]||(e[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.each.apply(this,[t].concat(n))}),e}),{}),zi(Fs,e)};var Ws=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.events,i=void 0===r?{}:r;return Ti(this,t),(e=us(this,ds(t).call(this))).events=i,e}return gs(t,e),ns(t,[{key:"addEventListener",value:function(){}},{key:"dispatch",value:function(e,t){return function(e,t,n){var r=Ao(e);return t instanceof Oi.window.Event||(t=new Oi.window.CustomEvent(t,{detail:n,cancelable:!0})),r.dispatchEvent(t),t}(this,e,t)}},{key:"dispatchEvent",value:function(e){var t=this.getEventHolder().events;if(!t)return!0;var n=t[e.type];for(var r in n)for(var i in n[r])n[r][i](e);return!e.defaultPrevented}},{key:"fire",value:function(e,t){return this.dispatch(e,t),this}},{key:"getEventHolder",value:function(){return this}},{key:"getEventTarget",value:function(){return this}},{key:"off",value:function(e,t){return Mo(this,e,t),this}},{key:"on",value:function(e,t,n,r){return Lo(this,e,t,n,r),this}},{key:"removeEventListener",value:function(){}}]),t}(Ci);function $s(){}Di(Ws,"EventTarget");var Xs=400,Ys=">",Us=0,Ks={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"},Vs=qs("SVGArray",Array,(function(e){this.init(e)}));zi(Vs,{init:function(e){return"number"==typeof e||(this.length=0,this.push.apply(this,Mr(this.parse(e)))),this},toArray:function(){return Array.prototype.concat.apply([],this)},toString:function(){return this.join(" ")},valueOf:function(){var e=[];return e.push.apply(e,Mr(this)),e},parse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof Array?e:e.trim().split(go).map(parseFloat)},clone:function(){return new this.constructor(this)},toSet:function(){return new Set(this)}});var Gs=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(n=t.match(ro))&&(this.value=parseFloat(n[1]),"%"===n[5]?this.value/=100:"s"===n[5]&&(this.value*=1e3),this.unit=n[5]):t instanceof e&&(this.value=t.valueOf(),this.unit=t.unit),this}},{key:"toString",value:function(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}},{key:"toJSON",value:function(){return this.toString()}},{key:"toArray",value:function(){return[this.value,this.unit]}},{key:"valueOf",value:function(){return this.value}},{key:"plus",value:function(t){return t=new e(t),new e(this+t,this.unit||t.unit)}},{key:"minus",value:function(t){return t=new e(t),new e(this-t,this.unit||t.unit)}},{key:"times",value:function(t){return t=new e(t),new e(this*t,this.unit||t.unit)}},{key:"divide",value:function(t){return t=new e(t),new e(this/t,this.unit||t.unit)}},{key:"convert",value:function(t){return new e(this.value,t)}}]),e}(),Qs=[],Js=function(e){function t(e,n){var r;return Ti(this,t),(r=us(this,ds(t).call(this,e))).node=e,r.type=e.nodeName,n&&e!==n&&r.attr(n),r}return gs(t,e),ns(t,[{key:"add",value:function(e,t){return e=Mi(e),null==t?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}},{key:"addTo",value:function(e){return Mi(e).put(this)}},{key:"children",value:function(){return new Fs(yi(this.node.children,(function(e){return Ii(e)})))}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}},{key:"clone",value:function(){return this.writeDataToDom(),Fi(this.node.cloneNode(!0))}},{key:"each",value:function(e,t){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)e.apply(i[n],[n,i]),t&&i[n].each(e,t);return this}},{key:"element",value:function(e){return this.put(new t(Li(e)))}},{key:"first",value:function(){return Ii(this.node.firstChild)}},{key:"get",value:function(e){return Ii(this.node.childNodes[e])}},{key:"getEventHolder",value:function(){return this.node}},{key:"getEventTarget",value:function(){return this.node}},{key:"has",value:function(e){return this.index(e)>=0}},{key:"id",value:function(e){return void 0!==e||this.node.id||(this.node.id=qi(this.type)),this.attr("id",e)}},{key:"index",value:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}},{key:"last",value:function(){return Ii(this.node.lastChild)}},{key:"matches",value:function(e){var t=this.node;return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}},{key:"parent",value:function(e){var t=this;if(!t.node.parentNode)return null;if(t=Ii(t.node.parentNode),!e)return t;for(;t;){if("string"==typeof e?t.matches(e):t instanceof e)return t;if(!t.node.parentNode||"#document"===t.node.parentNode.nodeName||"#document-fragment"===t.node.parentNode.nodeName)return null;t=Ii(t.node.parentNode)}}},{key:"put",value:function(e,t){return this.add(e,t),e}},{key:"putIn",value:function(e){return Mi(e).add(this)}},{key:"remove",value:function(){return this.parent()&&this.parent().removeElement(this),this}},{key:"removeElement",value:function(e){return this.node.removeChild(e.node),this}},{key:"replace",value:function(e){return e=Mi(e),this.node.parentNode.replaceChild(e.node,this.node),e}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=Math.pow(10,e),r=this.attr();t||(t=Object.keys(r));var i={};return t.forEach((function(e){i[e]=Math.round(r[e]*n)/n})),this.attr(i),this}},{key:"toString",value:function(){return this.id()}},{key:"svg",value:function(e,t){var n,r,i;if(!1===e&&(t=!1,e=null),null==e||"function"==typeof e){t=null==t||t,this.writeDataToDom();var o=this;if(null!=e){if(o=Ii(o.node.cloneNode(!0)),t){var s=e(o);if(o=s||o,!1===s)return""}o.each((function(){var t=e(this),n=t||this;!1===t?this.remove():t&&this!==n&&this.replace(n)}),!0)}return t?o.node.outerHTML:o.node.innerHTML}for(t=null!=t&&t,n=Oi.document.createElementNS(ji,"svg"),i=Oi.document.createDocumentFragment(),n.innerHTML=e,r=n.children.length;r--;)i.appendChild(n.firstElementChild);var a=this.parent();return t?this.replace(i)&&a:this.add(i)}},{key:"words",value:function(e){return this.node.textContent=e,this}},{key:"writeDataToDom",value:function(){return this.each((function(){this.writeDataToDom()})),this}}]),t}(Ws);zi(Js,{attr:function(e,t,n){var r=this;if(null==e){e={},t=this.node.attributes;var i=!0,o=!1,s=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;e[c.nodeName]=fo.test(c.nodeValue)?parseFloat(c.nodeValue):c.nodeValue}}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return e}if(e instanceof Array)return e.reduce((function(e,t){return e[t]=r.attr(t),e}),{});if("object"===ht(e)&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?Ks[e]:fo.test(t)?parseFloat(t):t;"number"==typeof(t=Qs.reduce((function(t,n){return n(e,t,r)}),t))?t=new Gs(t):ls.isColor(t)?t=new ls(t):t.constructor===Array&&(t=new Vs(t)),"leading"===e?this.leading&&this.leading(t):"string"==typeof n?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!==e&&"x"!==e||this.rebuild()}return this},find:function(e){return Bs(e,this.node)},findOne:function(e){return Ii(this.node.querySelector(e))}}),Di(Js,"Dom");var Zs=function(e){function t(e,n){var r;return Ti(this,t),(r=us(this,ds(t).call(this,e,n))).dom={},r.node.instance=hs(r),e.hasAttribute("svgjs:data")&&r.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),r}return gs(t,e),ns(t,[{key:"center",value:function(e,t){return this.cx(e).cy(t)}},{key:"cx",value:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)}},{key:"cy",value:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)}},{key:"defs",value:function(){return this.root().defs()}},{key:"dmove",value:function(e,t){return this.dx(e).dy(t)}},{key:"dx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x(new Gs(e).plus(this.x()))}},{key:"dy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.y(new Gs(e).plus(this.y()))}},{key:"root",value:function(){var e=this.parent(Pi[Ai]);return e&&e.root()}},{key:"getEventHolder",value:function(){return this}},{key:"height",value:function(e){return this.attr("height",e)}},{key:"inside",value:function(e,t){var n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}},{key:"move",value:function(e,t){return this.x(e).y(t)}},{key:"parents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi.document;e=Mi(e);for(var t=new Fs,n=this;(n=n.parent())&&n.node!==e.node&&n.node!==Oi.document;)t.push(n);return t}},{key:"reference",value:function(e){if(!(e=this.attr(e)))return null;var t=e.match(so);return t?Mi(t[1]):null}},{key:"setData",value:function(e){return this.dom=e,this}},{key:"size",value:function(e,t){var n=xi(this,e,t);return this.width(new Gs(n.width)).height(new Gs(n.height))}},{key:"width",value:function(e){return this.attr("width",e)}},{key:"writeDataToDom",value:function(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),fs(ds(t.prototype),"writeDataToDom",this).call(this)}},{key:"x",value:function(e){return this.attr("x",e)}},{key:"y",value:function(e){return this.attr("y",e)}}]),t}(Js);zi(Zs,{bbox:function(){return new Ds(Hs.call(this,(function(e){return e.getBBox()}),(function(e){try{var t=e.clone().addTo(Is().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error('Getting bbox of element "'+e.node.nodeName+'" is not possible. '+t.toString())}})))},rbox:function(e){var t=new Ds(Hs.call(this,(function(e){return e.getBoundingClientRect()}),(function(e){throw new Error('Getting rbox of element "'+e.node.nodeName+'" is not possible')})));return e?t.transform(e.screenCTM().inverse()):t.addOffset()},point:function(e,t){return new Ls(e,t).transform(this.screenCTM().inverse())},ctm:function(){return new Ns(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new Ns(t)}return new Ns(this.node.getScreenCTM())}}),Di(Zs,"Element");var ea={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"===t?e:e+"-"+t}};["fill","stroke"].forEach((function(e){var t,n={};n[e]=function(n){if(void 0===n)return this.attr(e);if("string"==typeof n||n instanceof ls||ls.isRgb(n)||n instanceof Zs)this.attr(e,n);else for(t=ea[e].length-1;t>=0;t--)null!=n[ea[e][t]]&&this.attr(ea.prefix(e,ea[e][t]),n[ea[e][t]]);return this},Rr(["Element","Runner"],n)})),Rr(["Element","Runner"],{matrix:function(e,t,n,r,i,o){return null==e?new Ns(this):this.attr("transform",new Ns(e,t,n,r,i,o))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return 1===arguments.length||3===arguments.length?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return 1===arguments.length||3===arguments.length?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e,t){var n="string"==typeof e?e:(isFinite(e),"both"),r="both"===e&&isFinite(t)?[t,t]:"x"===e?[t,0]:"y"===e?[0,t]:isFinite(e)?[e,e]:[0,0];return this.transform({flip:n,origin:r},!0)},opacity:function(e){return this.attr("opacity",e)}}),Rr("radius",{radius:function(e,t){var n=(this._element||this).type;return"radialGradient"===n||"radialGradient"===n?this.attr("r",new Gs(e)):this.rx(e).ry(null==t?e:t)}}),Rr("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new Ls(this.node.getPointAtLength(e))}}),Rr(["Element","Runner"],{font:function(e,t){if("object"===ht(e)){for(t in e)this.font(t,e[t]);return this}return"leading"===e?this.leading(t):"anchor"===e?this.attr("text-anchor",t):"size"===e||"family"===e||"weight"===e||"stretch"===e||"variant"===e||"style"===e?this.attr("font-"+e,t):this.attr(e,t)}}),Rr("Text",{ax:function(e){return this.attr("x",e)},ay:function(e){return this.attr("y",e)},amove:function(e,t){return this.ax(e).ay(t)}}),Rr("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(e,t){return e[t]=function(e){return null===e?Mo(this,t):Lo(this,t,e),this},e}),{}));var ta=[].reverse,na=[1,2];Ie({target:"Array",proto:!0,forced:String(na)===String(na.reverse())},{reverse:function(){return Re(this)&&(this.length=this.length),ta.call(this)}}),Ie({target:"Object",stat:!0,forced:!d,sham:!d},{defineProperties:ft}),Ie({target:"Object",stat:!0,forced:!d,sham:!d},{defineProperty:I.f});var ra=L.f,ia=u((function(){ra(1)}));function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){return this.attr("rx",e)}function la(e){return this.attr("ry",e)}function ca(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())}function ha(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())}function ua(e){return null==e?this.attr("cx"):this.attr("cx",e)}function da(e){return null==e?this.attr("cy"):this.attr("cy",e)}function fa(e){return null==e?2*this.rx():this.rx(new Gs(e).divide(2))}function pa(e){return null==e?2*this.ry():this.ry(new Gs(e).divide(2))}Ie({target:"Object",stat:!0,forced:!d||ia,sham:!d},{getOwnPropertyDescriptor:function(e,t){return ra(x(e),t)}}),Ie({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(e){for(var t,n,r=x(e),i=L.f,o=Se(r),s={},a=0;o.length>a;)void 0!==(n=i(r,t=o[a++]))&&De(s,t,n);return s}}),Rr("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(ao).slice(0,-1).map((function(e){var t=e.trim().split("(");return[t[0],t[1].split(go).map((function(e){return parseFloat(e)}))]})).reverse().reduce((function(e,t){return"matrix"===t[0]?e.lmultiply(Ns.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Ns)},toParent:function(e){if(this===e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toRoot:function(){return this.toParent(this.root())},transform:function(e,t){if(null==e||"string"==typeof e){var n=new Ns(this).decompose();return null==e?n:n[e]}Ns.isMatrixLike(e)||(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(n,!0).forEach((function(t){oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{origin:ki(e,this)}));var r=new Ns(!0===t?this:t||!1).transform(e);return this.attr("transform",r)}});var ga={__proto__:null,rx:aa,ry:la,x:ca,y:ha,cx:ua,cy:da,width:fa,height:pa},ma=function(e){function t(){return Ti(this,t),us(this,ds(t).apply(this,arguments))}return gs(t,e),t}(Zs);Di(ma,"Shape");var va=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("circle",e),e))}return gs(t,e),ns(t,[{key:"radius",value:function(e){return this.attr("r",e)}},{key:"rx",value:function(e){return this.attr("r",e)}},{key:"ry",value:function(e){return this.rx(e)}},{key:"size",value:function(e){return this.radius(new Gs(e).divide(2))}}]),t}(ma);zi(va,{x:ca,y:ha,cx:ua,cy:da,width:fa,height:pa}),Rr({Container:{circle:Bi((function(e){return this.put(new va).size(e).move(0,0)}))}}),Di(va,"Circle");var ya=function(e){function t(){return Ti(this,t),us(this,ds(t).apply(this,arguments))}return gs(t,e),ns(t,[{key:"flatten",value:function(e){return this.each((function(){return this instanceof t?this.flatten(e).ungroup(e):this.toParent(e)})),this.node.firstElementChild||this.remove(),this}},{key:"ungroup",value:function(e){return e=e||this.parent(),this.each((function(){return this.toParent(e)})),this.remove(),this}}]),t}(Zs);Di(ya,"Container");var _a=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("defs",e),e))}return gs(t,e),ns(t,[{key:"flatten",value:function(){return this}},{key:"ungroup",value:function(){return this}}]),t}(ya);Di(_a,"Defs");var ba=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("ellipse",e),e))}return gs(t,e),ns(t,[{key:"size",value:function(e,t){var n=xi(this,e,t);return this.rx(new Gs(n.width).divide(2)).ry(new Gs(n.height).divide(2))}}]),t}(ma);zi(ba,ga),Rr("Container",{ellipse:Bi((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.put(new ba).size(e,t).move(0,0)}))}),Di(ba,"Ellipse");var wa=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("stop",e),e))}return gs(t,e),ns(t,[{key:"update",value:function(e){return("number"==typeof e||e instanceof Gs)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new Gs(e.offset)),this}}]),t}(Zs);function xa(e,t){return"radialGradient"===(this._element||this).type?this.attr({fx:new Gs(e),fy:new Gs(t)}):this.attr({x1:new Gs(e),y1:new Gs(t)})}function ka(e,t){return"radialGradient"===(this._element||this).type?this.attr({cx:new Gs(e),cy:new Gs(t)}):this.attr({x2:new Gs(e),y2:new Gs(t)})}Di(wa,"Stop");var ja={__proto__:null,from:xa,to:ka},Sa=function(e){function t(e,n){return Ti(this,t),us(this,ds(t).call(this,Ni(e+"Gradient","string"==typeof e?null:e),n))}return gs(t,e),ns(t,[{key:"stop",value:function(e,t,n){return this.put(new wa).update(e,t,n)}},{key:"update",value:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}},{key:"url",value:function(){return"url(#"+this.id()+")"}},{key:"toString",value:function(){return this.url()}},{key:"attr",value:function(e,n,r){return"transform"===e&&(e="gradientTransform"),fs(ds(t.prototype),"attr",this).call(this,e,n,r)}},{key:"targets",value:function(){return Bs('svg [fill*="'+this.id()+'"]')}},{key:"bbox",value:function(){return new Ds}}]),t}(ya);zi(Sa,ja),Rr({Container:{gradient:Bi((function(e,t){return this.defs().gradient(e,t)}))},Defs:{gradient:Bi((function(e,t){return this.put(new Sa(e)).update(t)}))}}),Di(Sa,"Gradient");var Ea=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("pattern",e),e))}return gs(t,e),ns(t,[{key:"url",value:function(){return"url(#"+this.id()+")"}},{key:"update",value:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}},{key:"toString",value:function(){return this.url()}},{key:"attr",value:function(e,n,r){return"transform"===e&&(e="patternTransform"),fs(ds(t.prototype),"attr",this).call(this,e,n,r)}},{key:"targets",value:function(){return Bs('svg [fill*="'+this.id()+'"]')}},{key:"bbox",value:function(){return new Ds}}]),t}(ya);Rr({Container:{pattern:function(){var e;return(e=this.defs()).pattern.apply(e,arguments)}},Defs:{pattern:Bi((function(e,t,n){return this.put(new Ea).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}))}}),Di(Ea,"Pattern");var Oa,Ta=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("image",e),e))}return gs(t,e),ns(t,[{key:"load",value:function(e,t){if(!e)return this;var n=new Oi.window.Image;return Lo(n,"load",(function(e){var r=this.parent(Ea);0===this.width()&&0===this.height()&&this.size(n.width,n.height),r instanceof Ea&&0===r.width()&&0===r.height()&&r.size(this.width(),this.height()),"function"==typeof t&&t.call(this,e)}),this),Lo(n,"load error",(function(){Mo(n)})),this.attr("href",n.src=e,Ei)}}]),t}(ma);Oa=function(e,t,n){return"fill"!==e&&"stroke"!==e||po.test(t)&&(t=n.root().defs().image(t)),t instanceof Ta&&(t=n.root().defs().pattern(0,0,(function(e){e.add(t)}))),t},Qs.push(Oa),Rr({Container:{image:Bi((function(e,t){return this.put(new Ta).size(0,0).load(e,t)}))}}),Di(Ta,"Image");var Ca=qs("PointArray",Vs);zi(Ca,{toString:function(){for(var e=0,t=this.length,n=[];e<t;e++)n.push(this[e].join(","));return n.join(" ")},toLine:function(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}},at:function(e){if(!this.destination)return this;for(var t=0,n=this.length,r=[];t<n;t++)r.push([this[t][0]+(this.destination[t][0]-this[t][0])*e,this[t][1]+(this.destination[t][1]-this[t][1])*e]);return new Ca(r)},parse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0]],t=[];if(e instanceof Array){if(e[0]instanceof Array)return e}else e=e.trim().split(go).map(parseFloat);e.length%2!=0&&e.pop();for(var n=0,r=e.length;n<r;n+=2)t.push([e[n],e[n+1]]);return t},transform:function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];t.push([e.a*r[0]+e.c*r[1]+e.e,e.b*r[0]+e.d*r[1]+e.f])}return new Ca(t)},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+t];return this},size:function(e,t){var n,r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*e/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*t/r.height+r.y);return this},bbox:function(){var e=-1/0,t=-1/0,n=1/0,r=1/0;return this.forEach((function(i){e=Math.max(i[0],e),t=Math.max(i[1],t),n=Math.min(i[0],n),r=Math.min(i[1],r)})),{x:n,y:r,width:e-n,height:t-r}}});var Pa={__proto__:null,MorphArray:Ca,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}},Aa=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("line",e),e))}return gs(t,e),ns(t,[{key:"array",value:function(){return new Ca([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}},{key:"plot",value:function(e,t,n,r){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:n,y2:r}:new Ca(e).toLine(),this.attr(e))}},{key:"move",value:function(e,t){return this.attr(this.array().move(e,t).toLine())}},{key:"size",value:function(e,t){var n=xi(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}}]),t}(ma);zi(Aa,Pa),Rr({Container:{line:Bi((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Aa.prototype.plot.apply(this.put(new Aa),null!=t[0]?t:[0,0,0,0])}))}}),Di(Aa,"Line");var La=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("marker",e),e))}return gs(t,e),ns(t,[{key:"width",value:function(e){return this.attr("markerWidth",e)}},{key:"height",value:function(e){return this.attr("markerHeight",e)}},{key:"ref",value:function(e,t){return this.attr("refX",e).attr("refY",t)}},{key:"update",value:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this}},{key:"toString",value:function(){return"url(#"+this.id()+")"}}]),t}(ya);Rr({Container:{marker:function(){var e;return(e=this.defs()).marker.apply(e,arguments)}},Defs:{marker:Bi((function(e,t,n){return this.put(new La).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)}))},marker:{marker:function(e,t,n,r){var i=["marker"];return"all"!==e&&i.push(e),i=i.join("-"),e=arguments[1]instanceof La?arguments[1]:this.defs().marker(t,n,r),this.attr(i,e)}}}),Di(La,"Marker");var Ma=[].sort,Na=[1,2,3],Ia=u((function(){Na.sort(void 0)})),Ra=u((function(){Na.sort(null)})),Da=$i("sort");function Ha(e,t){return function(n){return null==n?this[n]:(this[e]=n,t&&t.call(this),this)}}Ie({target:"Array",proto:!0,forced:Ia||!Ra||Da},{sort:function(e){return void 0===e?Ma.call(ut(this)):Ma.call(ut(this),St(e))}});var qa={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)},bezier:function(e,t,n,r){return function(i){return i<0?e>0?t/e*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):e<1?(1-t)/(1-e)*i+(t-e)/(1-e):1:3*i*Math.pow(1-i,2)*t+3*Math.pow(i,2)*(1-i)*r+Math.pow(i,3)}},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";t=t.split("-").reverse()[0];var n=e;return"none"===t?--n:"both"===t&&++n,function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Math.floor(r*e),s=r*o%1==0;return"start"!==t&&"both"!==t||++o,i&&s&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}},Fa=function(){function e(){Ti(this,e)}return ns(e,[{key:"done",value:function(){return!1}}]),e}(),za=function(e){function t(e){var n;return Ti(this,t),(n=us(this,ds(t).call(this))).ease=qa[e||Ys]||e,n}return gs(t,e),ns(t,[{key:"step",value:function(e,t,n){return"number"!=typeof e?n<1?e:t:e+(t-e)*this.ease(n)}}]),t}(Fa),Ba=function(e){function t(e){var n;return Ti(this,t),(n=us(this,ds(t).call(this))).stepper=e,n}return gs(t,e),ns(t,[{key:"step",value:function(e,t,n,r){return this.stepper(e,t,n,r)}},{key:"done",value:function(e){return e.done}}]),t}(Fa);function Wa(){var e=(this._duration||500)/1e3,t=this._overshoot||0,n=Math.PI,r=Math.log(t/100+1e-10),i=-r/Math.sqrt(n*n+r*r),o=3.9/(i*e);this.d=2*i*o,this.k=o*o}zi(function(e){function t(e,n){var r;return Ti(this,t),(r=us(this,ds(t).call(this))).duration(e||500).overshoot(n||0),r}return gs(t,e),ns(t,[{key:"step",value:function(e,t,n,r){if("string"==typeof e)return e;if(r.done=n===1/0,n===1/0)return t;if(0===n)return e;n>100&&(n=16),n/=1e3;var i=r.velocity||0,o=-this.d*i-this.k*(e-t),s=e+i*n+o*n*n/2;return r.velocity=i+o*n,r.done=Math.abs(t-s)+Math.abs(i)<.002,r.done?t:s}}]),t}(Ba),{duration:Ha("_duration",Wa),overshoot:Ha("_overshoot",Wa)}),zi(function(e){function t(e,n,r,i){var o;return Ti(this,t),e=null==e?.1:e,n=null==n?.01:n,r=null==r?0:r,i=null==i?1e3:i,(o=us(this,ds(t).call(this))).p(e).i(n).d(r).windup(i),o}return gs(t,e),ns(t,[{key:"step",value:function(e,t,n,r){if("string"==typeof e)return e;if(r.done=n===1/0,n===1/0)return t;if(0===n)return e;var i=t-e,o=(r.integral||0)+i*n,s=(i-(r.error||0))/n,a=this.windup;return!1!==a&&(o=Math.max(-a,Math.min(o,a))),r.error=i,r.integral=o,r.done=Math.abs(i)<.001,r.done?t:e+(this.P*i+this.I*o+this.D*s)}}]),t}(Ba),{windup:Ha("windup"),p:Ha("P"),i:Ha("I"),d:Ha("D")});var $a=qs("PathArray",Vs);function Xa(e,t,n,r){return n+r.replace(bo," .")}for(var Ya={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Ua="mlhvqtcsaz".split(""),Ka=0,Va=Ua.length;Ka<Va;++Ka)Ya[Ua[Ka]]=function(e){return function(t,n,r){if("H"===e)t[0]=t[0]+n.x;else if("V"===e)t[0]=t[0]+n.y;else if("A"===e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var i=0,o=t.length;i<o;++i)t[i]=t[i]+(i%2?n.y:n.x);return Ya[e](t,n,r)}}(Ua[Ka].toUpperCase());zi($a,{toString:function(){return function(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t][0],null!=e[t][1]&&(r+=e[t][1],null!=e[t][2]&&(r+=" ",r+=e[t][2],null!=e[t][3]&&(r+=" ",r+=e[t][3],r+=" ",r+=e[t][4],null!=e[t][5]&&(r+=" ",r+=e[t][5],r+=" ",r+=e[t][6],null!=e[t][7]&&(r+=" ",r+=e[t][7])))));return r+" "}(this)},move:function(e,t){var n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(var r,i=this.length-1;i>=0;i--)"M"===(r=this[i][0])||"L"===r||"T"===r?(this[i][1]+=e,this[i][2]+=t):"H"===r?this[i][1]+=e:"V"===r?this[i][1]+=t:"C"===r||"S"===r||"Q"===r?(this[i][1]+=e,this[i][2]+=t,this[i][3]+=e,this[i][4]+=t,"C"===r&&(this[i][5]+=e,this[i][6]+=t)):"A"===r&&(this[i][6]+=e,this[i][7]+=t);return this},size:function(e,t){var n,r,i=this.bbox();for(i.width=0===i.width?1:i.width,i.height=0===i.height?1:i.height,n=this.length-1;n>=0;n--)"M"===(r=this[n][0])||"L"===r||"T"===r?(this[n][1]=(this[n][1]-i.x)*e/i.width+i.x,this[n][2]=(this[n][2]-i.y)*t/i.height+i.y):"H"===r?this[n][1]=(this[n][1]-i.x)*e/i.width+i.x:"V"===r?this[n][1]=(this[n][1]-i.y)*t/i.height+i.y:"C"===r||"S"===r||"Q"===r?(this[n][1]=(this[n][1]-i.x)*e/i.width+i.x,this[n][2]=(this[n][2]-i.y)*t/i.height+i.y,this[n][3]=(this[n][3]-i.x)*e/i.width+i.x,this[n][4]=(this[n][4]-i.y)*t/i.height+i.y,"C"===r&&(this[n][5]=(this[n][5]-i.x)*e/i.width+i.x,this[n][6]=(this[n][6]-i.y)*t/i.height+i.y)):"A"===r&&(this[n][1]=this[n][1]*e/i.width,this[n][2]=this[n][2]*t/i.height,this[n][6]=(this[n][6]-i.x)*e/i.width+i.x,this[n][7]=(this[n][7]-i.y)*t/i.height+i.y);return this},equalCommands:function(e){var t,n,r;for(e=new $a(e),r=this.length===e.length,t=0,n=this.length;r&&t<n;t++)r=this[t][0]===e[t][0];return r},morph:function(e){return e=new $a(e),this.equalCommands(e)?this.destination=e:this.destination=null,this},at:function(e){if(!this.destination)return this;var t,n,r,i,o=this,s=this.destination.value,a=[],l=new $a;for(t=0,n=o.length;t<n;t++){for(a[t]=[o[t][0]],r=1,i=o[t].length;r<i;r++)a[t][r]=o[t][r]+(s[t][r]-o[t][r])*e;"A"===a[t][0]&&(a[t][4]=+(0!==a[t][4]),a[t][5]=+(0!==a[t][5]))}return l.value=a,l},parse:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[["M",0,0]];if(t instanceof $a)return t;var n={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(_o,Xa).replace(vo," $& ").replace(mo,"$1 -").trim().split(go):t.reduce((function(e,t){return[].concat.call(e,t)}),[]);var r=[],i=new Ls,o=new Ls,s=0,a=t.length;do{yo.test(t[s])?(e=t[s],++s):"M"===e?e="L":"m"===e&&(e="l"),r.push(Ya[e].call(null,t.slice(s,s+=n[e.toUpperCase()]).map(parseFloat),i,o))}while(a>s);return r},bbox:function(){return Is().path.setAttribute("d",this.toString()),Is.nodes.path.getBBox()}});var Ga=function(){function e(t){Ti(this,e),this._stepper=t||new za("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}return ns(e,[{key:"from",value:function(e){return null==e?this._from:(this._from=this._set(e),this)}},{key:"to",value:function(e){return null==e?this._to:(this._to=this._set(e),this)}},{key:"type",value:function(e){return null==e?this._type:(this._type=e,this)}},{key:"_set",value:function(e){if(!this._type){var t=ht(e);"number"===t?this.type(Gs):"string"===t?ls.isColor(e)?this.type(ls):go.test(e)?this.type(vo.test(e)?$a:Vs):ro.test(e)?this.type(Gs):this.type(Qa):el.indexOf(e.constructor)>-1?this.type(e.constructor):Array.isArray(e)?this.type(Vs):"object"===t?this.type(Za):this.type(Qa)}var n=new this._type(e);return this._type===ls&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),n=n.toArray(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map((function(e){return e.done=!0,e})),n}},{key:"stepper",value:function(e){return null==e?this._stepper:(this._stepper=e,this)}},{key:"done",value:function(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}},{key:"at",value:function(e){var t=this;return this._morphObj.fromArray(this._from.map((function(n,r){return t._stepper.step(n,t._to[r],e,t._context[r],t._context)})))}}]),e}(),Qa=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}},{key:"valueOf",value:function(){return this.value}},{key:"toArray",value:function(){return[this.value]}}]),e}(),Ja=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,e.defaults,t),this}},{key:"toArray",value:function(){var e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}]),e}();Ja.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};var Za=function(){function e(){Ti(this,e),this.init.apply(this,arguments)}return ns(e,[{key:"init",value:function(e){if(this.values=[],!Array.isArray(e)){e=e||{};var t=[];for(var n in e)t.push([n,e[n]]);return t.sort((function(e,t){return e[0]-t[0]})),this.values=t.reduce((function(e,t){return e.concat(t)}),[]),this}this.values=e}},{key:"valueOf",value:function(){for(var e={},t=this.values,n=0,r=t.length;n<r;n+=2)e[t[n]]=t[n+1];return e}},{key:"toArray",value:function(){return this.values}}]),e}(),el=[Qa,Ja,Za],tl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("path",e),e))}return gs(t,e),ns(t,[{key:"array",value:function(){return this._array||(this._array=new $a(this.attr("d")))}},{key:"plot",value:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new $a(e))}},{key:"clear",value:function(){return delete this._array,this}},{key:"move",value:function(e,t){return this.attr("d",this.array().move(e,t))}},{key:"x",value:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)}},{key:"y",value:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)}},{key:"size",value:function(e,t){var n=xi(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}},{key:"width",value:function(e){return null==e?this.bbox().width:this.size(e,this.bbox().height)}},{key:"height",value:function(e){return null==e?this.bbox().height:this.size(this.bbox().width,e)}},{key:"targets",value:function(){return Bs('svg textpath [href*="'+this.id()+'"]')}}]),t}(ma);tl.prototype.MorphArray=$a,Rr({Container:{path:Bi((function(e){return this.put(new tl).plot(e||new $a)}))}}),Di(tl,"Path");var nl={__proto__:null,array:function(){return this._array||(this._array=new Ca(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new Ca(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=xi(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}},rl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("polygon",e),e))}return gs(t,e),t}(ma);Rr({Container:{polygon:Bi((function(e){return this.put(new rl).plot(e||new Ca)}))}}),zi(rl,Pa),zi(rl,nl),Di(rl,"Polygon");var il=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("polyline",e),e))}return gs(t,e),t}(ma);Rr({Container:{polyline:Bi((function(e){return this.put(new il).plot(e||new Ca)}))}}),zi(il,Pa),zi(il,nl),Di(il,"Polyline");var ol=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("rect",e),e))}return gs(t,e),t}(ma);zi(ol,{rx:aa,ry:la}),Rr({Container:{rect:Bi((function(e,t){return this.put(new ol).size(e,t)}))}}),Di(ol,"Rect");var sl=Math.max,al=Math.min,ll=9007199254740991,cl="Maximum allowed length exceeded";Ie({target:"Array",proto:!0,forced:!Ke("splice")},{splice:function(e,t){var n,r,i,o,s,a,l=ut(this),c=fe(l.length),h=me(e,c),u=arguments.length;if(0===u?n=r=0:1===u?(n=0,r=c-h):(n=u-2,r=al(sl(ue(t),0),c-h)),c+n-r>ll)throw TypeError(cl);for(i=Tt(l,r),o=0;o<r;o++)(s=h+o)in l&&De(i,o,l[s]);if(i.length=r,n<r){for(o=h;o<c-r;o++)a=o+n,(s=o+r)in l?l[a]=l[s]:delete l[a];for(o=c;o>c-r+n;o--)delete l[o-1]}else if(n>r)for(o=c-r;o>h;o--)a=o+n-1,(s=o+r-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+h]=arguments[o+2];return l.length=c-r+n,i}});var hl=function(){function e(){Ti(this,e),this._first=null,this._last=null}return ns(e,[{key:"push",value:function(e){var t=e.next?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}},{key:"shift",value:function(){var e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}},{key:"first",value:function(){return this._first&&this._first.value}},{key:"last",value:function(){return this._last&&this._last.value}},{key:"remove",value:function(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}}]),e}(),ul={nextDraw:null,frames:new hl,timeouts:new hl,immediates:new hl,timer:function(){return Oi.window.performance||Oi.window.Date},transforms:[],frame:function(e){var t=ul.frames.push({run:e});return null===ul.nextDraw&&(ul.nextDraw=Oi.window.requestAnimationFrame(ul._draw)),t},timeout:function(e,t){t=t||0;var n=ul.timer().now()+t,r=ul.timeouts.push({run:e,time:n});return null===ul.nextDraw&&(ul.nextDraw=Oi.window.requestAnimationFrame(ul._draw)),r},immediate:function(e){var t=ul.immediates.push(e);return null===ul.nextDraw&&(ul.nextDraw=Oi.window.requestAnimationFrame(ul._draw)),t},cancelFrame:function(e){null!=e&&ul.frames.remove(e)},clearTimeout:function(e){null!=e&&ul.timeouts.remove(e)},cancelImmediate:function(e){null!=e&&ul.immediates.remove(e)},_draw:function(e){for(var t=null,n=ul.timeouts.last();(t=ul.timeouts.shift())&&(e>=t.time?t.run():ul.timeouts.push(t),t!==n););for(var r=null,i=ul.frames.last();r!==i&&(r=ul.frames.shift());)r.run(e);for(var o=null;o=ul.immediates.shift();)o();ul.nextDraw=ul.timeouts.first()||ul.frames.first()?Oi.window.requestAnimationFrame(ul._draw):null}},dl=function(e){var t=e.start,n=e.runner.duration();return{start:t,duration:n,end:t+n,runner:e.runner}},fl=function(){var e=Oi.window;return(e.performance||e.Date).now()},pl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl;return Ti(this,t),(e=us(this,ds(t).call(this)))._timeSource=n,e._startTime=0,e._speed=1,e._persist=0,e._nextFrame=null,e._paused=!0,e._runners=[],e._runnerIds=[],e._lastRunnerId=-1,e._time=0,e._lastSourceTime=0,e._lastStepTime=0,e._step=e._stepFn.bind(hs(e),!1),e._stepImmediate=e._stepFn.bind(hs(e),!0),e}return gs(t,e),ns(t,[{key:"schedule",value:function(e,t,n){if(null==e)return this._runners.map(dl);var r=0,i=this.getEndTime();if(t=t||0,null==n||"last"===n||"after"===n)r=i;else if("absolute"===n||"start"===n)r=t,t=0;else if("now"===n)r=this._time;else{if("relative"!==n)throw new Error('Invalid value for the "when" parameter');var o=this._runners[e.id];o&&(r=o.start+t,t=0)}e.unschedule(),e.timeline(this);var s=e.persist(),a={persist:null===s?this._persist:s,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort((function(e,t){return e.start-t.start})),this._runnerIds=this._runners.map((function(e){return e.runner.id})),this.updateTime()._continue(),this}},{key:"unschedule",value:function(e){var t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}},{key:"getEndTime",value:function(){var e=this._runners[this._runnerIds.indexOf(this._lastRunnerId)],t=e?e.runner.duration():0;return(e?e.start:0)+t}},{key:"getEndTimeOfTimeline",value:function(){for(var e=0,t=0;t<this._runners.length;t++){var n=this._runners[t],r=n?n.runner.duration():0,i=(n?n.start:0)+r;i>e&&(e=i)}return e}},{key:"updateTime",value:function(){return this.active()||(this._lastSourceTime=this._timeSource()),this}},{key:"play",value:function(){return this._paused=!1,this.updateTime()._continue()}},{key:"pause",value:function(){return this._paused=!0,this._continue()}},{key:"stop",value:function(){return this.time(0),this.pause()}},{key:"finish",value:function(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}},{key:"speed",value:function(e){return null==e?this._speed:(this._speed=e,this)}},{key:"reverse",value:function(e){var t=this.speed();if(null==e)return this.speed(-t);var n=Math.abs(t);return this.speed(e?n:-n)}},{key:"seek",value:function(e){return this.time(this._time+e)}},{key:"time",value:function(e){return null==e?this._time:(this._time=e,this._continue(!0))}},{key:"persist",value:function(e){return null==e?this._persist:(this._persist=e,this)}},{key:"source",value:function(e){return null==e?this._timeSource:(this._timeSource=e,this)}},{key:"_stepFn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._timeSource(),n=t-this._lastSourceTime;e&&(n=0);var r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(var i=this._runners.length;i--;){var o=this._runners[i],s=o.runner,a=this._time-o.start;a<=0&&s.reset()}for(var l=!1,c=0,h=this._runners.length;c<h;c++){var u=this._runners[c],d=u.runner,f=r,p=this._time-u.start;if(p<=0)l=!0;else if(p<f&&(f=p),d.active()){var g=d.step(f).done;if(g){if(!0!==u.persist){var m=d.duration()-d.time()+this._time;m+u.persist<this._time&&(d.unschedule(),--c,--h)}}else l=!0}}return l&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}},{key:"_continue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ul.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=ul.frame(this._step)),this)}},{key:"active",value:function(){return!!this._nextFrame}}]),t}(Ws);function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(n,!0).forEach((function(t){oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Rr({Element:{timeline:function(e){return null==e?(this._timeline=this._timeline||new pl,this._timeline):(this._timeline=e,this)}}});var vl=function(e){function t(e){var n;return Ti(this,t),(n=us(this,ds(t).call(this))).id=t.id++,e="function"==typeof(e=null==e?Xs:e)?new Ba(e):e,n._element=null,n._timeline=null,n.done=!1,n._queue=[],n._duration="number"==typeof e&&e,n._isDeclarative=e instanceof Ba,n._stepper=n._isDeclarative?e:new za,n._history={},n.enabled=!0,n._time=0,n._lastTime=0,n._reseted=!0,n.transforms=new Ns,n.transformId=1,n._haveReversed=!1,n._reverse=!1,n._loopsDone=0,n._swing=!1,n._wait=0,n._times=1,n._frameId=null,n._persist=!!n._isDeclarative||null,n}return gs(t,e),ns(t,[{key:"element",value:function(e){return null==e?this._element:(this._element=e,e._prepareRunner(),this)}},{key:"timeline",value:function(e){return void 0===e?this._timeline:(this._timeline=e,this)}},{key:"animate",value:function(e,n,r){var i=t.sanitise(e,n,r),o=new t(i.duration);return this._timeline&&o.timeline(this._timeline),this._element&&o.element(this._element),o.loop(i).schedule(i.delay,i.when)}},{key:"schedule",value:function(e,t,n){if(e instanceof pl||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}},{key:"unschedule",value:function(){var e=this.timeline();return e&&e.unschedule(this),this}},{key:"loop",value:function(e,t,n){return"object"===ht(e)&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}},{key:"delay",value:function(e){return this.animate(0,e)}},{key:"queue",value:function(e,t,n,r){return this._queue.push({initialiser:e||$s,runner:t||$s,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}},{key:"during",value:function(e){return this.queue(null,e)}},{key:"after",value:function(e){return this.on("finished",e)}},{key:"time",value:function(e){if(null==e)return this._time;var t=e-this._time;return this.step(t),this}},{key:"duration",value:function(){return this._times*(this._wait+this._duration)-this._wait}},{key:"loops",value:function(e){var t=this._duration+this._wait;if(null==e){var n=Math.floor(this._time/t),r=(this._time-n*t)/this._duration;return Math.min(n+r,this._times)}var i=e%1,o=t*Math.floor(e)+this._duration*i;return this.time(o)}},{key:"persist",value:function(e){return null==e?this._persist:(this._persist=e,this)}},{key:"position",value:function(e){var t,n=this._time,r=this._duration,i=this._wait,o=this._times,s=this._swing,a=this._reverse;if(null==e){var l=function(e){var t=s*Math.floor(e%(2*(i+r))/(i+r)),n=t&&!a||!t&&a,o=Math.pow(-1,n)*(e%(i+r))/r+n;return Math.max(Math.min(o,1),0)},c=o*(i+r)-i;return t=n<=0?Math.round(l(1e-5)):n<c?l(n):Math.round(l(c-1e-5))}var h=Math.floor(this.loops()),u=s&&h%2==0;return t=h+(u&&!a||a&&u?e:1-e),this.loops(t)}},{key:"progress",value:function(e){return null==e?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}},{key:"step",value:function(e){if(!this.enabled)return this;e=null==e?16:e,this._time+=e;var t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;var r=this.duration(),i=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,i&&this.fire("start",this);var s=this._isDeclarative;if(this.done=!s&&!o&&this._time>=r,this._reseted=!1,n||s){this._initialise(n),this.transforms=new Ns;var a=this._run(s?e:t);this.fire("step",this)}return this.done=this.done||a&&s,o&&this.fire("finished",this),this}},{key:"reset",value:function(){return this._reseted||(this.time(0),this._reseted=!0),this}},{key:"finish",value:function(){return this.step(1/0)}},{key:"reverse",value:function(e){return this._reverse=null==e?!this._reverse:e,this}},{key:"ease",value:function(e){return this._stepper=new za(e),this}},{key:"active",value:function(e){return null==e?this.enabled:(this.enabled=e,this)}},{key:"_rememberMorpher",value:function(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){var n=this.timeline();n&&n.play()}}},{key:"_tryRetarget",value:function(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){var r=this._queue.indexOf(this._history[e].caller);return this._queue.splice(r,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget(t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;var i=this.timeline();return i&&i.play(),!0}return!1}},{key:"_initialise",value:function(e){if(e||this._isDeclarative)for(var t=0,n=this._queue.length;t<n;++t){var r=this._queue[t],i=this._isDeclarative||!r.initialised&&e;e=!r.finished,i&&e&&(r.initialiser.call(this),r.initialised=!0)}}},{key:"_run",value:function(e){for(var t=!0,n=0,r=this._queue.length;n<r;++n){var i=this._queue[n],o=i.runner.call(this,e);i.finished=i.finished||!0===o,t=t&&i.finished}return t}},{key:"addTransform",value:function(e,t){return this.transforms.lmultiplyO(e),this}},{key:"clearTransform",value:function(){return this.transforms=new Ns,this}},{key:"clearTransformsFromQueue",value:function(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((function(e){return!e.isTransform})))}}],[{key:"sanitise",value:function(e,t,n){var r=1,i=!1,o=0;return t=t||Us,n=n||"last","object"!==ht(e=e||Xs)||e instanceof Fa||(t=e.delay||t,n=e.when||n,i=e.swing||i,r=e.times||r,o=e.wait||o,e=e.duration||Xs),{duration:e,delay:t,swing:i,times:r,wait:o,when:n}}}]),t}(Ws);vl.id=0;var yl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ns,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ti(this,e),this.transforms=t,this.id=n,this.done=r}return ns(e,[{key:"clearTransformsFromQueue",value:function(){}}]),e}();zi([vl,yl],{mergeWith:function(e){return new yl(e.transforms.lmultiply(this.transforms),e.id)}});var _l=function(e,t){return e.lmultiplyO(t)},bl=function(e){return e.transforms};function wl(){var e=this._transformationRunners.runners.map(bl).reduce(_l,new Ns);this.transform(e),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}var xl=function(){function e(){Ti(this,e),this.runners=[],this.ids=[]}return ns(e,[{key:"add",value:function(e){if(!this.runners.includes(e)){var t=e.id+1;return this.runners.push(e),this.ids.push(t),this}}},{key:"getByID",value:function(e){return this.runners[this.ids.indexOf(e+1)]}},{key:"remove",value:function(e){var t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}},{key:"merge",value:function(){var e=this,t=null;return this.runners.forEach((function(n,r){t&&n.done&&t.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))&&(e.remove(n.id),e.edit(t.id,n.mergeWith(t))),t=n})),this}},{key:"edit",value:function(e,t){var n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}},{key:"length",value:function(){return this.ids.length}},{key:"clearBefore",value:function(e){var t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new yl).forEach((function(e){return e.clearTransformsFromQueue()})),this}}]),e}();Rr({Element:{animate:function(e,t,n){var r=vl.sanitise(e,t,n),i=this.timeline();return new vl(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay:function(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore:function(e){this._transformationRunners.clearBefore(e.id)},_currentTransform:function(e){return this._transformationRunners.runners.filter((function(t){return t.id<=e.id})).map(bl).reduce(_l,new Ns)},_addRunner:function(e){this._transformationRunners.add(e),ul.cancelImmediate(this._frameId),this._frameId=ul.immediate(wl.bind(this))},_prepareRunner:function(){null==this._frameId&&(this._transformationRunners=(new xl).add(new yl(new Ns(this))))}}}),zi(vl,{attr:function(e,t){return this.styleAttr("attr",e,t)},css:function(e,t){return this.styleAttr("css",e,t)},styleAttr:function(e,t,n){if("object"===ht(t)){for(var r in t)this.styleAttr(e,r,t[r]);return this}var i=new Ga(this._stepper).to(n);return this.queue((function(){i=i.from(this.element()[e](t))}),(function(n){return this.element()[e](t,i.at(n)),i.done()})),this},zoom:function(e,t){if(this._tryRetarget("zoom",ka,t))return this;var n=new Ga(this._stepper).to(new Gs(e));return this.queue((function(){n=n.from(this.element().zoom())}),(function(e){return this.element().zoom(n.at(e),t),n.done()}),(function(e,r){t=r,n.to(e)})),this._rememberMorpher("zoom",n),this},transform:function(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;var r=Ns.isMatrixLike(e);n=null!=e.affine?e.affine:null!=n?n:!r;var i,o,s,a,l,c=new Ga(this._stepper).type(n?Ja:Ns);return this.queue((function(){o=o||this.element(),i=i||ki(e,o),l=new Ns(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}),(function(h){t||this.clearTransform();var u=new Ls(i).transform(o._currentTransform(this)),d=u.x,f=u.y,p=new Ns(ml({},e,{origin:[d,f]})),g=this._isDeclarative&&s?s:l;if(n){p=p.decompose(d,f),g=g.decompose(d,f);var m=p.rotate,v=g.rotate,y=[m-360,m,m+360],_=y.map((function(e){return Math.abs(e-v)})),b=Math.min.apply(Math,Mr(_)),w=_.indexOf(b);p.rotate=y[w]}t&&(r||(p.rotate=e.rotate||0),this._isDeclarative&&a&&(g.rotate=a)),c.from(g),c.to(p);var x=c.at(h);return a=x.rotate,s=new Ns(x),this.addTransform(s),o._addRunner(this),c.done()}),(function(t){(t.origin||"center").toString()!==(e.origin||"center").toString()&&(i=ki(e,o)),e=ml({},t,{origin:i})}),!0),this._isDeclarative&&this._rememberMorpher("transform",c),this},x:function(e,t){return this._queueNumber("x",e)},y:function(e){return this._queueNumber("y",e)},dx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("x",e)},dy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._queueNumberDelta("y",e)},dmove:function(e,t){return this.dx(e).dy(t)},_queueNumberDelta:function(e,t){if(t=new Gs(t),this._tryRetarget(e,t))return this;var n=new Ga(this._stepper).to(t),r=null;return this.queue((function(){r=this.element()[e](),n.from(r),n.to(r+t)}),(function(t){return this.element()[e](n.at(t)),n.done()}),(function(e){n.to(r+new Gs(e))})),this._rememberMorpher(e,n),this},_queueObject:function(e,t){if(this._tryRetarget(e,t))return this;var n=new Ga(this._stepper).to(t);return this.queue((function(){n.from(this.element()[e]())}),(function(t){return this.element()[e](n.at(t)),n.done()})),this._rememberMorpher(e,n),this},_queueNumber:function(e,t){return this._queueObject(e,new Gs(t))},cx:function(e){return this._queueNumber("cx",e)},cy:function(e){return this._queueNumber("cy",e)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},size:function(e,t){var n;return e&&t||(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width:function(e){return this._queueNumber("width",e)},height:function(e){return this._queueNumber("height",e)},plot:function(e,t,n,r){if(4===arguments.length)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;var i=new Ga(this._stepper).type(this._element.MorphArray).to(e);return this.queue((function(){i.from(this._element.array())}),(function(e){return this._element.plot(i.at(e)),i.done()})),this._rememberMorpher("plot",i),this},leading:function(e){return this._queueNumber("leading",e)},viewbox:function(e,t,n,r){return this._queueObject("viewbox",new Ds(e,t,n,r))},update:function(e){return"object"!==ht(e)?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",e.offset),this)}}),zi(vl,{rx:aa,ry:la,from:xa,to:ka}),Di(vl,"Runner");var kl=function(e){function t(e){var n;return Ti(this,t),(n=us(this,ds(t).call(this,Ni("svg",e),e))).namespace(),n}return gs(t,e),ns(t,[{key:"isRoot",value:function(){return!(this.node.parentNode&&this.node.parentNode instanceof Oi.window.SVGElement&&"#document"!==this.node.parentNode.nodeName)}},{key:"root",value:function(){return this.isRoot()?this:fs(ds(t.prototype),"root",this).call(this)}},{key:"namespace",value:function(){return this.isRoot()?this.attr({xmlns:ji,version:"1.1"}).attr("xmlns:xlink",Ei,Si).attr("xmlns:svgjs","http://svgjs.com/svgjs",Si):this.root().namespace()}},{key:"defs",value:function(){return this.isRoot()?Ii(this.node.querySelector("defs"))||this.put(new _a):this.root().defs()}},{key:"parent",value:function(e){return this.isRoot()?"#document"===this.node.parentNode.nodeName?null:Ii(this.node.parentNode):fs(ds(t.prototype),"parent",this).call(this,e)}},{key:"clear",value:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this}}]),t}(ya);Rr({Container:{nested:Bi((function(){return this.put(new kl)}))}}),Di(kl,"Svg",!0);var jl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("symbol",e),e))}return gs(t,e),t}(ya);Rr({Container:{symbol:Bi((function(){return this.put(new jl)}))}}),Di(jl,"Symbol");var Sl={__proto__:null,plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(Oi.document.createTextNode(e)),this},length:function(){return this.node.getComputedTextLength()}},El=function(e){function t(e){var n;return Ti(this,t),(n=us(this,ds(t).call(this,Ni("text",e),e))).dom.leading=new Gs(1.3),n._rebuild=!0,n._build=!1,n}return gs(t,e),ns(t,[{key:"x",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.x:this.attr("x",this.attr("x")+e-t.x)}},{key:"y",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.y:this.attr("y",this.attr("y")+e-t.y)}},{key:"move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.x(e,n).y(t,n)}},{key:"cx",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.cx:this.attr("x",this.attr("x")+e-t.cx)}},{key:"cy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.cy:this.attr("y",this.attr("y")+e-t.cy)}},{key:"center",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox();return this.cx(e,n).cy(t,n)}},{key:"text",value:function(e){if(void 0===e){var t=this.node.childNodes,n=0;e="";for(var r=0,i=t.length;r<i;++r)"textPath"!==t[r].nodeName?(r!==n&&3!==t[r].nodeType&&!0===Ii(t[r]).dom.newLined&&(e+="\n"),e+=t[r].textContent):0===r&&(n=1);return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else for(var o=0,s=(e=e.split("\n")).length;o<s;o++)this.tspan(e[o]).newLine();return this.build(!1).rebuild()}},{key:"leading",value:function(e){return null==e?this.dom.leading:(this.dom.leading=new Gs(e),this.rebuild())}},{key:"rebuild",value:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,n=0,r=this.dom.leading;this.each((function(){var e=Oi.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=r*new Gs(e);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?n+=i:(this.attr("dy",i+n),n=0))})),this.fire("rebuild")}return this}},{key:"build",value:function(e){return this._build=!!e,this}},{key:"setData",value:function(e){return this.dom=e,this.dom.leading=new Gs(e.leading||1.3),this}}]),t}(ma);zi(El,Sl),Rr({Container:{text:Bi((function(e){return this.put(new El).text(e)})),plain:Bi((function(e){return this.put(new El).plain(e)}))}}),Di(El,"Text");var Ol=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("tspan",e),e))}return gs(t,e),ns(t,[{key:"text",value:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)}},{key:"dx",value:function(e){return this.attr("dx",e)}},{key:"dy",value:function(e){return this.attr("dy",e)}},{key:"x",value:function(e){return this.attr("x",e)}},{key:"y",value:function(e){return this.attr("x",e)}},{key:"move",value:function(e,t){return this.x(e).y(t)}},{key:"newLine",value:function(){var e=this.parent(El);this.dom.newLined=!0;var t=Oi.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=e.dom.leading*new Gs(t);return this.dy(n).attr("x",e.x())}}]),t}(El);zi(Ol,Sl),Rr({Tspan:{tspan:Bi((function(e){var t=new Ol;return this._build||this.clear(),this.node.appendChild(t.node),t.text(e)}))}}),Di(Ol,"Tspan");var Tl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("clipPath",e),e))}return gs(t,e),ns(t,[{key:"remove",value:function(){return this.targets().forEach((function(e){e.unclip()})),fs(ds(t.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return Bs('svg [clip-path*="'+this.id()+'"]')}}]),t}(ya);Rr({Container:{clip:Bi((function(){return this.defs().put(new Tl)}))},Element:{clipWith:function(e){var t=e instanceof Tl?e:this.parent().clip().add(e);return this.attr("clip-path",'url("#'+t.id()+'")')},unclip:function(){return this.attr("clip-path",null)},clipper:function(){return this.reference("clip-path")}}}),Di(Tl,"ClipPath");var Cl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("foreignObject",e),e))}return gs(t,e),t}(Zs);Rr({Container:{foreignObject:Bi((function(e,t){return this.put(new Cl).size(e,t)}))}}),Di(Cl,"ForeignObject");var Pl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("g",e),e))}return gs(t,e),ns(t,[{key:"x",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.x:this.move(e,t.y,t)}},{key:"y",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.y:this.move(t.x,e,t)}},{key:"move",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),r=e-n.x,i=t-n.y;return this.dmove(r,i)}},{key:"dx",value:function(e){return this.dmove(e,0)}},{key:"dy",value:function(e){return this.dmove(0,e)}},{key:"dmove",value:function(e,t){return this.children().forEach((function(n,r){var i=n.bbox(),o=new Ns(n),s=o.translate(e,t).transform(o.inverse()),a=new Ls(i.x,i.y).transform(s);n.move(a.x,a.y)})),this}},{key:"width",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.width:this.size(e,t.height,t)}},{key:"height",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.bbox();return null==e?t.height:this.size(t.width,e,t)}},{key:"size",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.bbox(),r=xi(this,e,t,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach((function(e,t){var r=new Ls(n).transform(new Ns(e).inverse());e.scale(i,o,r.x,r.y)})),this}}]),t}(ya);Rr({Container:{group:Bi((function(){return this.put(new Pl)}))}}),Di(Pl,"G");var Al=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("a",e),e))}return gs(t,e),ns(t,[{key:"to",value:function(e){return this.attr("href",e,Ei)}},{key:"target",value:function(e){return this.attr("target",e)}}]),t}(ya);Rr({Container:{link:Bi((function(e){return this.put(new Al).to(e)}))},Element:{linkTo:function(e){var t=new Al;return"function"==typeof e?e.call(t,t):t.to(e),this.parent().put(t).put(this)}}}),Di(Al,"A");var Ll=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("mask",e),e))}return gs(t,e),ns(t,[{key:"remove",value:function(){return this.targets().forEach((function(e){e.unmask()})),fs(ds(t.prototype),"remove",this).call(this)}},{key:"targets",value:function(){return Bs('svg [mask*="'+this.id()+'"]')}}]),t}(ya);function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(n,!0).forEach((function(t){oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Rr({Container:{mask:Bi((function(){return this.defs().put(new Ll)}))},Element:{maskWith:function(e){var t=e instanceof Ll?e:this.parent().mask().add(e);return this.attr("mask",'url("#'+t.id()+'")')},unmask:function(){return this.attr("mask",null)},masker:function(){return this.reference("mask")}}}),Di(Ll,"Mask");var Il=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("style",e),e))}return gs(t,e),ns(t,[{key:"addText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.node.textContent+=e,this}},{key:"font",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rule("@font-face",Nl({fontFamily:e,src:t},n))}},{key:"rule",value:function(e,t){return this.addText(function(e,t){if(!e)return"";if(!t)return e;var n=e+"{";for(var r in t)n+=r.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))+":"+t[r]+";";return n+"}"}(e,t))}}]),t}(Zs);Rr("Dom",{style:Bi((function(e,t){return this.put(new Il).rule(e,t)})),fontface:Bi((function(e,t,n){return this.put(new Il).font(e,t,n)}))}),Di(Il,"Style");var Rl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("textPath",e),e))}return gs(t,e),ns(t,[{key:"array",value:function(){var e=this.track();return e?e.array():null}},{key:"plot",value:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this}},{key:"track",value:function(){return this.reference("href")}}]),t}(El);Rr({Container:{textPath:Bi((function(e,t){return e instanceof El||(e=this.text(e)),e.path(t)}))},Text:{path:Bi((function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Rl;if(e instanceof tl||(e=this.defs().path(e)),r.attr("href","#"+e,Ei),n)for(;t=this.node.firstChild;)r.node.appendChild(t);return this.put(r)})),textPath:function(){return this.findOne("textPath")}},Path:{text:Bi((function(e){return e instanceof El||(e=(new El).addTo(this.parent()).text(e)),e.path(this)})),targets:function(){return Bs('svg [href*="'+this.id()+'"]')}}}),Rl.prototype.MorphArray=$a,Di(Rl,"TextPath");var Dl=function(e){function t(e){return Ti(this,t),us(this,ds(t).call(this,Ni("use",e),e))}return gs(t,e),ns(t,[{key:"element",value:function(e,t){return this.attr("href",(t||"")+"#"+e,Ei)}}]),t}(ma);Rr({Container:{use:Bi((function(e,t){return this.put(new Dl).element(e,t)}))}}),Di(Dl,"Use");var Hl=Mi;zi([kl,jl,Ta,Ea,La],Dr("viewbox")),zi([Aa,il,rl,tl],Dr("marker")),zi(El,Dr("Text")),zi(tl,Dr("Path")),zi(_a,Dr("Defs")),zi([El,Ol],Dr("Tspan")),zi([ol,ba,va,Sa],Dr("radius")),zi(Ws,Dr("EventTarget")),zi(Js,Dr("Dom")),zi(Zs,Dr("Element")),zi(ma,Dr("Shape")),zi(ya,Dr("Container")),zi(vl,Dr("Runner")),Fs.extend(Mr(new Set(Ir))),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];el.push.apply(el,Mr([].concat(e)))}([Gs,ls,Ds,Ns,Vs,Ca,$a]),zi(el,{to:function(e){return(new Ga).type(this.constructor).from(this.valueOf()).to(e)},fromArray:function(e){return this.init(e),this}});const ql=e=>(e.changedTouches&&(e=e.changedTouches[0]),{x:e.clientX,y:e.clientY});class Fl{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag)):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&1!==(e.which||e.buttons))return;if(this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(ql(e));const n=(t?"mouseup":"touchcancel.drag touchend")+".drag";Lo(window,(t?"mousemove":"touchmove")+".drag",this.drag),Lo(window,n,this.endDrag),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,r=this.el.point(ql(e)),i=t.x+(r.x-n.x),o=t.y+(r.y-n.y),s=new Ds(i,o,t.w,t.h);if(!this.el.dispatch("dragmove",{event:e,handler:this,box:s}).defaultPrevented)return this.move(i,o),s}move(e,t){"svg"===this.el.type?Pl.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){const t=this.drag(e);this.el.fire("dragend",{event:e,handler:this,box:t}),Mo(window,"mousemove.drag"),Mo(window,"touchmove.drag"),Mo(window,"mouseup.drag"),Mo(window,"touchend.drag"),this.init(!0)}}function zl(e,t){return function(n){n.preventDefault(),n.stopPropagation();var r=n.pageX||n.touches[0].pageX,i=n.pageY||n.touches[0].pageY;t.fire(e,{x:r,y:i,event:n})}}zi(Zs,{draggable(e=!0){return(this.remember("_draggable")||new Fl(this)).init(e),this}});class Bl{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Pl,this.order=this.getPointNames(),this.orginalPoints=[],this.points=[],this.mutationHandler=this.mutationHandler.bind(this),this.observer=new window.MutationObserver(this.mutationHandler)}init(){this.mountSelection(),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.createShearHandle(),this.updateShearHandle(),this.observer.observe(this.el.node,{attributes:!0})}getPointNames(){return["lt","t","rt","r","rb","b","lb","l","rot","shear"]}active(e){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init()}mountSelection(){this.el.root().put(this.selection)}createSelection(){this.selection.polygon(this.points.slice(0,this.order.indexOf("rot")).map((e=>[e.x,e.y]))).addClass("selection_border")}updateSelection(){this.selection.get(0).plot(this.points.slice(0,this.order.indexOf("rot")).map((e=>[e.x,e.y])))}createResizeHandles(){this.points.slice(0,this.order.indexOf("rot")).forEach(((e,t)=>{this.selection.circle(10).addClass("selection_handle_"+this.order[t]).on("mousedown.selection touchstart.selection",zl(this.order[t],this.el))}))}updateResizeHandles(){this.points.slice(0,this.order.indexOf("rot")).forEach(((e,t)=>{this.selection.get(t+1).center(e.x,e.y)}))}createRotationHandle(){const e=this.selection.group().addClass("selection_handle_rot").on("mousedown.selection touchstart.selection",zl("rot",this.el));e.line(),e.circle(5)}updateRotationHandle(){const e=this.order.indexOf("rot"),t=this.points[this.order.indexOf("t")],n=this.points[e],r=this.selection.get(e+1);r.get(0).plot(t.x,t.y,n.x,n.y),r.get(1).center(n.x,n.y)}createShearHandle(){this.selection.rect(20,5).addClass("selection_handle_shear").on("mousedown.selection touchstart.selection",zl("shear",this.el))}updateShearHandle(){const e=this.order.indexOf("shear"),t=this.points[e],n=this.points[e+1];this.selection.get(e+1).move(t.x,t.y).untransform().rotate(this.el.transform("rotate"),n.x,n.y)}updatePoints(){const e=this.selection.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.orginalPoints=this.getPoints(),this.points=this.orginalPoints.map((t=>t.transform(e)))}getPoints(){const{x:e,x2:t,y:n,y2:r,cx:i,cy:o}=this.el.bbox();return[new Ls(e,n),new Ls(i,n),new Ls(t,n),new Ls(t,o),new Ls(t,r),new Ls(i,r),new Ls(e,r),new Ls(e,o),new Ls(i,n-20),new Ls(t-20,n-5),new Ls(t,n-5)]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle(),this.updateShearHandle()}}zi(Zs,{selectize:function(e=!0){var t=this.remember("_selectHandler");return t||(e.prototype instanceof Bl?(t=new e(this),e=!0):t=new Bl(this),this.remember("_selectHandler",t)),t.active(e),this}});const Wl=e=>(e.changedTouches&&(e=e.changedTouches[0]),{x:e.clientX,y:e.clientY});class $l{constructor(e){this.el=e,this.lastCoordinates=null,this.eventType="",this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.shear=this.shear.bind(this)}active(e){this.el.off(".resize"),e&&this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","shear.resize"],this.handleResize)}handleResize(e){this.eventType=e.type;const{x:t,y:n,event:r}=e.detail,i=!r.type.indexOf("mouse");if(i&&1!==(r.which||r.buttons))return;if(this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(t,n);const o=(i?"mousemove":"touchmove")+".resize",s=(i?"mouseup":"touchcancel.resize touchend")+".resize";"rot"===e.type?Lo(window,o,this.rotate):"shear"===e.type?Lo(window,o,this.shear):Lo(window,o,this.resize),Lo(window,s,this.endResize)}resize(e){const t=this.el.point(Wl(e)),n=t.x-this.startPoint.x,r=t.y-this.startPoint.y,i=this.box.x+n,o=this.box.y+r,s=this.box.x2+n,a=this.box.y2+r,l=new Ds(this.box);this.eventType.includes("l")&&(l.x=Math.min(i,this.box.x2),l.x2=Math.max(i,this.box.x2)),this.eventType.includes("r")&&(l.x=Math.min(s,this.box.x),l.x2=Math.max(s,this.box.x)),this.eventType.includes("t")&&(l.y=Math.min(o,this.box.y2),l.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(l.y=Math.min(a,this.box.y),l.y2=Math.max(a,this.box.y)),l.width=l.x2-l.x,l.height=l.y2-l.y,this.el.dispatch("resize",{box:new Ds(l),angle:0,shear:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.move(l.x,l.y).size(l.width,l.height)}rotate(e){const t=this.el.point(Wl(e)),n=this.box.cx,r=this.box.cy,i=this.startPoint.x-n,o=this.startPoint.y-r,s=t.x-n,a=t.y-r,l=180/Math.PI,c=Math.atan2(i,o)-Math.atan2(s,a);this.el.dispatch("resize",{box:this.startBox,angle:c,shear:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.rotate(c*l)}shear(e){const t=this.el.point(Wl(e)),n=this.box.cx,r=this.box.cy,i=this.startPoint.x-n,o=this.startPoint.y-r,s=t.x-n,a=180/Math.PI,l=Math.atan2(i,o),c=Math.atan2(s,o)-l;this.el.dispatch("resize",{box:this.startBox,angle:0,shear:c,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.skew(a*c,0)}endResize(e){"rot"!==this.eventType&&"shear"!==this.eventType&&this.resize(e),this.eventType="",Mo(window,"mousemove.resize touchmove.resize"),Mo(window,"mouseup.resize touchend.resize")}snapToGrid(e,t,n=t){}}zi(Zs,{resize:function(e=!0){var t=this.remember("_resizeHandler");return t||(e.prototype instanceof $l?(t=new e(this),e=!0):t=new $l(this),this.remember("_resizeHandler",t)),t.active(e),this}}),n(111);var Xl="top",Yl="bottom",Ul="right",Kl="left",Vl="auto",Gl=[Xl,Yl,Ul,Kl],Ql="start",Jl="end",Zl="clippingParents",ec="viewport",tc="popper",nc="reference",rc=Gl.reduce((function(e,t){return e.concat([t+"-"+Ql,t+"-"+Jl])}),[]),ic=[].concat(Gl,[Vl]).reduce((function(e,t){return e.concat([t,t+"-"+Ql,t+"-"+Jl])}),[]),oc="beforeRead",sc="read",ac="afterRead",lc="beforeMain",cc="main",hc="afterMain",uc="beforeWrite",dc="write",fc="afterWrite",pc=[oc,sc,ac,lc,cc,hc,uc,dc,fc];function gc(e){return e?(e.nodeName||"").toLowerCase():null}function mc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vc(e){return e instanceof mc(e).Element||e instanceof Element}function yc(e){return e instanceof mc(e).HTMLElement||e instanceof HTMLElement}function _c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof mc(e).ShadowRoot||e instanceof ShadowRoot)}const bc={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];yc(i)&&gc(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});yc(r)&&gc(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function wc(e){return e.split("-")[0]}function xc(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function kc(e){var t=xc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function jc(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&_c(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Sc(e){return mc(e).getComputedStyle(e)}function Ec(e){return["table","td","th"].indexOf(gc(e))>=0}function Oc(e){return((vc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Tc(e){return"html"===gc(e)?e:e.assignedSlot||e.parentNode||(_c(e)?e.host:null)||Oc(e)}function Cc(e){return yc(e)&&"fixed"!==Sc(e).position?e.offsetParent:null}function Pc(e){for(var t=mc(e),n=Cc(e);n&&Ec(n)&&"static"===Sc(n).position;)n=Cc(n);return n&&("html"===gc(n)||"body"===gc(n)&&"static"===Sc(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&yc(e)&&"fixed"===Sc(e).position)return null;for(var n=Tc(e);yc(n)&&["html","body"].indexOf(gc(n))<0;){var r=Sc(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Ac(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var Lc=Math.max,Mc=Math.min,Nc=Math.round;function Ic(e,t,n){return Lc(e,Mc(t,n))}function Rc(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Dc(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Hc={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=wc(n.placement),l=Ac(a),c=[Kl,Ul].indexOf(a)>=0?"height":"width";if(o&&s){var h=function(e,t){return Rc("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Dc(e,Gl))}(i.padding,n),u=kc(o),d="y"===l?Xl:Kl,f="y"===l?Yl:Ul,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],g=s[l]-n.rects.reference[l],m=Pc(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=p/2-g/2,_=h[d],b=v-u[c]-h[f],w=v/2-u[c]/2+y,x=Ic(_,w,b),k=l;n.modifiersData[r]=((t={})[k]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&jc(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var qc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fc(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,s=e.position,a=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,h=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Nc(Nc(t*r)/r)||0,y:Nc(Nc(n*r)/r)||0}}(o):"function"==typeof c?c(o):o,u=h.x,d=void 0===u?0:u,f=h.y,p=void 0===f?0:f,g=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),v=Kl,y=Xl,_=window;if(l){var b=Pc(n),w="clientHeight",x="clientWidth";b===mc(n)&&"static"!==Sc(b=Oc(n)).position&&(w="scrollHeight",x="scrollWidth"),b=b,i===Xl&&(y=Yl,p-=b[w]-r.height,p*=a?1:-1),i===Kl&&(v=Ul,d-=b[x]-r.width,d*=a?1:-1)}var k,j=Object.assign({position:s},l&&qc);return a?Object.assign({},j,((k={})[y]=m?"0":"",k[v]=g?"0":"",k.transform=(_.devicePixelRatio||1)<2?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",k)):Object.assign({},j,((t={})[y]=m?p+"px":"",t[v]=g?d+"px":"",t.transform="",t))}const zc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:wc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Fc(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fc(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Bc={passive:!0};const Wc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=mc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Bc)})),a&&l.addEventListener("resize",n.update,Bc),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Bc)})),a&&l.removeEventListener("resize",n.update,Bc)}},data:{}};var $c={left:"right",right:"left",bottom:"top",top:"bottom"};function Xc(e){return e.replace(/left|right|bottom|top/g,(function(e){return $c[e]}))}var Yc={start:"end",end:"start"};function Uc(e){return e.replace(/start|end/g,(function(e){return Yc[e]}))}function Kc(e){var t=mc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Vc(e){return xc(Oc(e)).left+Kc(e).scrollLeft}function Gc(e){var t=Sc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Qc(e){return["html","body","#document"].indexOf(gc(e))>=0?e.ownerDocument.body:yc(e)&&Gc(e)?e:Qc(Tc(e))}function Jc(e,t){var n;void 0===t&&(t=[]);var r=Qc(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=mc(r),s=i?[o].concat(o.visualViewport||[],Gc(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Jc(Tc(s)))}function Zc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function eh(e,t){return t===ec?Zc(function(e){var t=mc(e),n=Oc(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+Vc(e),y:a}}(e)):yc(t)?function(e){var t=xc(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Zc(function(e){var t,n=Oc(e),r=Kc(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Lc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Lc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Vc(e),l=-r.scrollTop;return"rtl"===Sc(i||n).direction&&(a+=Lc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Oc(e)))}function th(e){return e.split("-")[1]}function nh(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?wc(i):null,s=i?th(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Xl:t={x:a,y:n.y-r.height};break;case Yl:t={x:a,y:n.y+n.height};break;case Ul:t={x:n.x+n.width,y:l};break;case Kl:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Ac(o):null;if(null!=c){var h="y"===c?"height":"width";switch(s){case Ql:t[c]=t[c]-(n[h]/2-r[h]/2);break;case Jl:t[c]=t[c]+(n[h]/2-r[h]/2)}}return t}function rh(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,s=void 0===o?Zl:o,a=n.rootBoundary,l=void 0===a?ec:a,c=n.elementContext,h=void 0===c?tc:c,u=n.altBoundary,d=void 0!==u&&u,f=n.padding,p=void 0===f?0:f,g=Rc("number"!=typeof p?p:Dc(p,Gl)),m=h===tc?nc:tc,v=e.elements.reference,y=e.rects.popper,_=e.elements[d?m:h],b=function(e,t,n){var r="clippingParents"===t?function(e){var t=Jc(Tc(e)),n=["absolute","fixed"].indexOf(Sc(e).position)>=0&&yc(e)?Pc(e):e;return vc(n)?t.filter((function(e){return vc(e)&&jc(e,n)&&"body"!==gc(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(t,n){var r=eh(e,n);return t.top=Lc(r.top,t.top),t.right=Mc(r.right,t.right),t.bottom=Mc(r.bottom,t.bottom),t.left=Lc(r.left,t.left),t}),eh(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(vc(_)?_:_.contextElement||Oc(e.elements.popper),s,l),w=xc(v),x=nh({reference:w,element:y,strategy:"absolute",placement:i}),k=Zc(Object.assign({},y,x)),j=h===tc?k:w,S={top:b.top-j.top+g.top,bottom:j.bottom-b.bottom+g.bottom,left:b.left-j.left+g.left,right:j.right-b.right+g.right},E=e.modifiersData.offset;if(h===tc&&E){var O=E[i];Object.keys(S).forEach((function(e){var t=[Ul,Yl].indexOf(e)>=0?1:-1,n=[Xl,Yl].indexOf(e)>=0?"y":"x";S[e]+=O[n]*t}))}return S}const ih={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,h=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,g=n.allowedAutoPlacements,m=t.options.placement,v=wc(m),y=l||(v!==m&&p?function(e){if(wc(e)===Vl)return[];var t=Xc(e);return[Uc(e),t,Uc(t)]}(m):[Xc(m)]),_=[m].concat(y).reduce((function(e,n){return e.concat(wc(n)===Vl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ic:l,h=th(r),u=h?a?rc:rc.filter((function(e){return th(e)===h})):Gl,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var f=d.reduce((function(t,n){return t[n]=rh(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[wc(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:h,rootBoundary:u,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,k=!0,j=_[0],S=0;S<_.length;S++){var E=_[S],O=wc(E),T=th(E)===Ql,C=[Xl,Yl].indexOf(O)>=0,P=C?"width":"height",A=rh(t,{placement:E,boundary:h,rootBoundary:u,altBoundary:d,padding:c}),L=C?T?Ul:Kl:T?Yl:Xl;b[P]>w[P]&&(L=Xc(L));var M=Xc(L),N=[];if(o&&N.push(A[O]<=0),a&&N.push(A[L]<=0,A[M]<=0),N.every((function(e){return e}))){j=E,k=!1;break}x.set(E,N)}if(k)for(var I=function(e){var t=_.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},R=p?3:1;R>0&&"break"!==I(R);R--);t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oh(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function sh(e){return[Xl,Ul,Yl,Kl].some((function(t){return e[t]>=0}))}const ah={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=rh(t,{elementContext:"reference"}),a=rh(t,{altBoundary:!0}),l=oh(s,r),c=oh(a,i,o),h=sh(l),u=sh(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}},lh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=ic.reduce((function(e,n){return e[n]=function(e,t,n){var r=wc(e),i=[Kl,Xl].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Kl,Ul].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}},ch={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=nh({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},hh={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,u=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,g=void 0===p?0:p,m=rh(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:h}),v=wc(t.placement),y=th(t.placement),_=!y,b=Ac(v),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,k=t.rects.reference,j=t.rects.popper,S="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,E={x:0,y:0};if(x){if(o||a){var O="y"===b?Xl:Kl,T="y"===b?Yl:Ul,C="y"===b?"height":"width",P=x[b],A=x[b]+m[O],L=x[b]-m[T],M=f?-j[C]/2:0,N=y===Ql?k[C]:j[C],I=y===Ql?-j[C]:-k[C],R=t.elements.arrow,D=f&&R?kc(R):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=H[O],F=H[T],z=Ic(0,k[C],D[C]),B=_?k[C]/2-M-z-q-S:N-z-q-S,W=_?-k[C]/2+M+z+F+S:I+z+F+S,$=t.elements.arrow&&Pc(t.elements.arrow),X=$?"y"===b?$.clientTop||0:$.clientLeft||0:0,Y=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,U=x[b]+B-Y-X,K=x[b]+W-Y;if(o){var V=Ic(f?Mc(A,U):A,P,f?Lc(L,K):L);x[b]=V,E[b]=V-P}if(a){var G="x"===b?Xl:Kl,Q="x"===b?Yl:Ul,J=x[w],Z=J+m[G],ee=J-m[Q],te=Ic(f?Mc(Z,U):Z,J,f?Lc(ee,K):ee);x[w]=te,E[w]=te-J}}t.modifiersData[r]=E}},requiresIfExists:["offset"]};function uh(e,t,n){void 0===n&&(n=!1);var r,i,o=Oc(t),s=xc(e),a=yc(t),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&(("body"!==gc(t)||Gc(o))&&(l=(r=t)!==mc(r)&&yc(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Kc(r)),yc(t)?((c=xc(t)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=Vc(o))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function dh(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function fh(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var ph={placement:"bottom",modifiers:[],strategy:"absolute"};function gh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function mh(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?ph:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ph,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){c(),i.options=Object.assign({},o,i.options,n),i.scrollParents={reference:vc(e)?Jc(e):e.contextElement?Jc(e.contextElement):[],popper:Jc(t)};var a,h,u=function(e){var t=dh(e);return pc.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,i.options.modifiers),h=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(h).map((function(e){return h[e]}))));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({state:i,name:t,instance:l,options:r});s.push(a||function(){})}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(gh(t,n)){i.rects={reference:uh(t,Pc(n),"fixed"===i.options.strategy),popper:kc(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,h=void 0===c?{}:c,u=o.name;"function"==typeof s&&(i=s({state:i,options:h,name:u,instance:l})||i)}else i.reset=!1,r=-1}}},update:fh((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!gh(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var vh=mh(),yh=mh({defaultModifiers:[Wc,ch,zc,bc,lh,ih,hh,Hc,ah]}),_h=mh({defaultModifiers:[Wc,ch,zc,bc]});const bh="transitionend",wh=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t},xh=e=>{const t=wh(e);return t&&document.querySelector(t)?t:null},kh=e=>{const t=wh(e);return t?document.querySelector(t):null},jh=e=>{e.dispatchEvent(new Event(bh))},Sh=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),Eh=e=>Sh(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,Oh=(e,t,n)=>{Object.keys(n).forEach((r=>{const i=n[r],o=t[r],s=o&&Sh(o)?"element":null==(a=o)?`${a}`:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();var a;if(!new RegExp(i).test(s))throw new TypeError(`${e.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}))},Th=e=>!(!Sh(e)||0===e.getClientRects().length)&&"visible"===getComputedStyle(e).getPropertyValue("visibility"),Ch=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),Ph=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ph(e.parentNode):null},Ah=()=>{},Lh=e=>{e.offsetHeight},Mh=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},Nh=[],Ih=()=>"rtl"===document.documentElement.dir,Rh=e=>{var t;t=()=>{const t=Mh();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(Nh.length||document.addEventListener("DOMContentLoaded",(()=>{Nh.forEach((e=>e()))})),Nh.push(t)):t()},Dh=e=>{"function"==typeof e&&e()},Hh=(e,t,n=!0)=>{if(!n)return void Dh(e);const r=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let i=!1;const o=({target:n})=>{n===t&&(i=!0,t.removeEventListener(bh,o),Dh(e))};t.addEventListener(bh,o),setTimeout((()=>{i||jh(t)}),r)},qh=(e,t,n,r)=>{let i=e.indexOf(t);if(-1===i)return e[!n&&r?e.length-1:0];const o=e.length;return i+=n?1:-1,r&&(i=(i+o)%o),e[Math.max(0,Math.min(i,o-1))]},Fh=/[^.]*(?=\..*)\.|.*/,zh=/\..*/,Bh=/::\d+$/,Wh={};let $h=1;const Xh={mouseenter:"mouseover",mouseleave:"mouseout"},Yh=/^(mouseenter|mouseleave)/i,Uh=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Kh(e,t){return t&&`${t}::${$h++}`||e.uidEvent||$h++}function Vh(e){const t=Kh(e);return e.uidEvent=t,Wh[t]=Wh[t]||{},Wh[t]}function Gh(e,t,n=null){const r=Object.keys(e);for(let i=0,o=r.length;i<o;i++){const o=e[r[i]];if(o.originalHandler===t&&o.delegationSelector===n)return o}return null}function Qh(e,t,n){const r="string"==typeof t,i=r?n:t;let o=eu(e);return Uh.has(o)||(o=e),[r,i,o]}function Jh(e,t,n,r,i){if("string"!=typeof t||!e)return;if(n||(n=r,r=null),Yh.test(t)){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};r?r=e(r):n=e(n)}const[o,s,a]=Qh(t,n,r),l=Vh(e),c=l[a]||(l[a]={}),h=Gh(c,s,o?n:null);if(h)return void(h.oneOff=h.oneOff&&i);const u=Kh(s,t.replace(Fh,"")),d=o?function(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&tu.off(e,i.type,t,n),n.apply(s,[i]);return null}}(e,n,r):function(e,t){return function n(r){return r.delegateTarget=e,n.oneOff&&tu.off(e,r.type,t),t.apply(e,[r])}}(e,n);d.delegationSelector=o?n:null,d.originalHandler=s,d.oneOff=i,d.uidEvent=u,c[u]=d,e.addEventListener(a,d,o)}function Zh(e,t,n,r,i){const o=Gh(t[n],r,i);o&&(e.removeEventListener(n,o,Boolean(i)),delete t[n][o.uidEvent])}function eu(e){return e=e.replace(zh,""),Xh[e]||e}const tu={on(e,t,n,r){Jh(e,t,n,r,!1)},one(e,t,n,r){Jh(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[i,o,s]=Qh(t,n,r),a=s!==t,l=Vh(e),c=t.startsWith(".");if(void 0!==o){if(!l||!l[s])return;return void Zh(e,l,s,o,i?n:null)}c&&Object.keys(l).forEach((n=>{!function(e,t,n,r){const i=t[n]||{};Object.keys(i).forEach((o=>{if(o.includes(r)){const r=i[o];Zh(e,t,n,r.originalHandler,r.delegationSelector)}}))}(e,l,n,t.slice(1))}));const h=l[s]||{};Object.keys(h).forEach((n=>{const r=n.replace(Bh,"");if(!a||t.includes(r)){const t=h[n];Zh(e,l,s,t.originalHandler,t.delegationSelector)}}))},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=Mh(),i=eu(t),o=t!==i,s=Uh.has(i);let a,l=!0,c=!0,h=!1,u=null;return o&&r&&(a=r.Event(t,n),r(e).trigger(a),l=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented()),s?(u=document.createEvent("HTMLEvents"),u.initEvent(i,l,!0)):u=new CustomEvent(t,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((e=>{Object.defineProperty(u,e,{get:()=>n[e]})})),h&&u.preventDefault(),c&&e.dispatchEvent(u),u.defaultPrevented&&void 0!==a&&a.preventDefault(),u}},nu=new Map;var ru={set(e,t,n){nu.has(e)||nu.set(e,new Map);const r=nu.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,t)=>nu.has(e)&&nu.get(e).get(t)||null,remove(e,t){if(!nu.has(e))return;const n=nu.get(e);n.delete(t),0===n.size&&nu.delete(e)}};class iu{constructor(e){(e=Eh(e))&&(this._element=e,ru.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ru.remove(this._element,this.constructor.DATA_KEY),tu.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((e=>{this[e]=null}))}_queueCallback(e,t,n=!0){Hh(e,t,n)}static getInstance(e){return ru.get(Eh(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.1.1"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const ou=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;tu.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ch(this))return;const i=kh(this)||this.closest(`.${r}`);e.getOrCreateInstance(i)[t]()}))};class su extends iu{static get NAME(){return"alert"}close(){if(tu.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),tu.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=su.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ou(su,"close"),Rh(su);const au='[data-bs-toggle="button"]';class lu extends iu{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=lu.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}function cu(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function hu(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}tu.on(document,"click.bs.button.data-api",au,(e=>{e.preventDefault();const t=e.target.closest(au);lu.getOrCreateInstance(t).toggle()})),Rh(lu);const uu={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${hu(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${hu(t)}`)},getDataAttributes(e){if(!e)return{};const t={};return Object.keys(e.dataset).filter((e=>e.startsWith("bs"))).forEach((n=>{let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=cu(e.dataset[n])})),t},getDataAttribute:(e,t)=>cu(e.getAttribute(`data-bs-${hu(t)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:e=>({top:e.offsetTop,left:e.offsetLeft})},du={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let r=e.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&n.push(r),r=r.parentNode;return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(", ");return this.find(t,e).filter((e=>!Ch(e)&&Th(e)))}},fu="carousel",pu={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},gu={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},mu="next",vu="prev",yu="left",_u="right",bu={ArrowLeft:_u,ArrowRight:yu},wu="slid.bs.carousel",xu="active",ku=".active.carousel-item";class ju extends iu{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=du.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return pu}static get NAME(){return fu}next(){this._slide(mu)}nextWhenVisible(){!document.hidden&&Th(this._element)&&this.next()}prev(){this._slide(vu)}pause(e){e||(this._isPaused=!0),du.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(jh(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=du.findOne(ku,this._element);const t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding)return void tu.one(this._element,wu,(()=>this.to(e)));if(t===e)return this.pause(),void this.cycle();const n=e>t?mu:vu;this._slide(n,this._items[e])}_getConfig(e){return e={...pu,...uu.getDataAttributes(this._element),..."object"==typeof e?e:{}},Oh(fu,e,gu),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=40)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?_u:yu)}_addEventListeners(){this._config.keyboard&&tu.on(this._element,"keydown.bs.carousel",(e=>this._keydown(e))),"hover"===this._config.pause&&(tu.on(this._element,"mouseenter.bs.carousel",(e=>this.pause(e))),tu.on(this._element,"mouseleave.bs.carousel",(e=>this.cycle(e)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const e=e=>this._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType),t=t=>{e(t)?this.touchStartX=t.clientX:this._pointerEvent||(this.touchStartX=t.touches[0].clientX)},n=e=>{this.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this.touchStartX},r=t=>{e(t)&&(this.touchDeltaX=t.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((e=>this.cycle(e)),500+this._config.interval))};du.find(".carousel-item img",this._element).forEach((e=>{tu.on(e,"dragstart.bs.carousel",(e=>e.preventDefault()))})),this._pointerEvent?(tu.on(this._element,"pointerdown.bs.carousel",(e=>t(e))),tu.on(this._element,"pointerup.bs.carousel",(e=>r(e))),this._element.classList.add("pointer-event")):(tu.on(this._element,"touchstart.bs.carousel",(e=>t(e))),tu.on(this._element,"touchmove.bs.carousel",(e=>n(e))),tu.on(this._element,"touchend.bs.carousel",(e=>r(e))))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=bu[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?du.find(".carousel-item",e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){const n=e===mu;return qh(this._items,t,n,this._config.wrap)}_triggerSlideEvent(e,t){const n=this._getItemIndex(e),r=this._getItemIndex(du.findOne(ku,this._element));return tu.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:r,to:n})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=du.findOne(".active",this._indicatorsElement);t.classList.remove(xu),t.removeAttribute("aria-current");const n=du.find("[data-bs-target]",this._indicatorsElement);for(let t=0;t<n.length;t++)if(Number.parseInt(n[t].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[t].classList.add(xu),n[t].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||du.findOne(ku,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const n=this._directionToOrder(e),r=du.findOne(ku,this._element),i=this._getItemIndex(r),o=t||this._getItemByOrder(n,r),s=this._getItemIndex(o),a=Boolean(this._interval),l=n===mu,c=l?"carousel-item-start":"carousel-item-end",h=l?"carousel-item-next":"carousel-item-prev",u=this._orderToDirection(n);if(o&&o.classList.contains(xu))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(o,u).defaultPrevented)return;if(!r||!o)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const d=()=>{tu.trigger(this._element,wu,{relatedTarget:o,direction:u,from:i,to:s})};if(this._element.classList.contains("slide")){o.classList.add(h),Lh(o),r.classList.add(c),o.classList.add(c);const e=()=>{o.classList.remove(c,h),o.classList.add(xu),r.classList.remove(xu,h,c),this._isSliding=!1,setTimeout(d,0)};this._queueCallback(e,r,!0)}else r.classList.remove(xu),o.classList.add(xu),this._isSliding=!1,d();a&&this.cycle()}_directionToOrder(e){return[_u,yu].includes(e)?Ih()?e===yu?vu:mu:e===yu?mu:vu:e}_orderToDirection(e){return[mu,vu].includes(e)?Ih()?e===vu?yu:_u:e===vu?_u:yu:e}static carouselInterface(e,t){const n=ju.getOrCreateInstance(e,t);let{_config:r}=n;"object"==typeof t&&(r={...r,...t});const i="string"==typeof t?t:r.slide;if("number"==typeof t)n.to(t);else if("string"==typeof i){if(void 0===n[i])throw new TypeError(`No method named "${i}"`);n[i]()}else r.interval&&r.ride&&(n.pause(),n.cycle())}static jQueryInterface(e){return this.each((function(){ju.carouselInterface(this,e)}))}static dataApiClickHandler(e){const t=kh(this);if(!t||!t.classList.contains("carousel"))return;const n={...uu.getDataAttributes(t),...uu.getDataAttributes(this)},r=this.getAttribute("data-bs-slide-to");r&&(n.interval=!1),ju.carouselInterface(t,n),r&&ju.getInstance(t).to(r),e.preventDefault()}}tu.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",ju.dataApiClickHandler),tu.on(window,"load.bs.carousel.data-api",(()=>{const e=du.find('[data-bs-ride="carousel"]');for(let t=0,n=e.length;t<n;t++)ju.carouselInterface(e[t],ju.getInstance(e[t]))})),Rh(ju);const Su="collapse",Eu={toggle:!0,parent:null},Ou={toggle:"boolean",parent:"(null|element)"},Tu="show",Cu="collapse",Pu="collapsing",Au="collapsed",Lu='[data-bs-toggle="collapse"]';class Mu extends iu{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const n=du.find(Lu);for(let e=0,t=n.length;e<t;e++){const t=n[e],r=xh(t),i=du.find(r).filter((e=>e===this._element));null!==r&&i.length&&(this._selector=r,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Eu}static get NAME(){return Su}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const e=du.find(".collapse .collapse",this._config.parent);t=du.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((t=>!e.includes(t)))}const n=du.findOne(this._selector);if(t.length){const r=t.find((e=>n!==e));if(e=r?Mu.getInstance(r):null,e&&e._isTransitioning)return}if(tu.trigger(this._element,"show.bs.collapse").defaultPrevented)return;t.forEach((t=>{n!==t&&Mu.getOrCreateInstance(t,{toggle:!1}).hide(),e||ru.set(t,"bs.collapse",null)}));const r=this._getDimension();this._element.classList.remove(Cu),this._element.classList.add(Pu),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Pu),this._element.classList.add(Cu,Tu),this._element.style[r]="",tu.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[r]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(tu.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Lh(this._element),this._element.classList.add(Pu),this._element.classList.remove(Cu,Tu);const t=this._triggerArray.length;for(let e=0;e<t;e++){const t=this._triggerArray[e],n=kh(t);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Pu),this._element.classList.add(Cu),tu.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Tu)}_getConfig(e){return(e={...Eu,...uu.getDataAttributes(this._element),...e}).toggle=Boolean(e.toggle),e.parent=Eh(e.parent),Oh(Su,e,Ou),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=du.find(".collapse .collapse",this._config.parent);du.find(Lu,this._config.parent).filter((t=>!e.includes(t))).forEach((e=>{const t=kh(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}))}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach((e=>{t?e.classList.remove(Au):e.classList.add(Au),e.setAttribute("aria-expanded",t)}))}static jQueryInterface(e){return this.each((function(){const t={};"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1);const n=Mu.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}tu.on(document,"click.bs.collapse.data-api",Lu,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=xh(this);du.find(t).forEach((e=>{Mu.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),Rh(Mu);const Nu="dropdown",Iu="Escape",Ru="Space",Du="ArrowUp",Hu="ArrowDown",qu=new RegExp("ArrowUp|ArrowDown|Escape"),Fu="click.bs.dropdown.data-api",zu="keydown.bs.dropdown.data-api",Bu="show",Wu='[data-bs-toggle="dropdown"]',$u=".dropdown-menu",Xu=Ih()?"top-end":"top-start",Yu=Ih()?"top-start":"top-end",Uu=Ih()?"bottom-end":"bottom-start",Ku=Ih()?"bottom-start":"bottom-end",Vu=Ih()?"left-start":"right-start",Gu=Ih()?"right-start":"left-start",Qu={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Ju={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class Zu extends iu{constructor(e,t){super(e),this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Qu}static get DefaultType(){return Ju}static get NAME(){return Nu}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ch(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(tu.trigger(this._element,"show.bs.dropdown",e).defaultPrevented)return;const t=Zu.getParentFromElement(this._element);this._inNavbar?uu.setDataAttribute(this._menu,"popper","none"):this._createPopper(t),"ontouchstart"in document.documentElement&&!t.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((e=>tu.on(e,"mouseover",Ah))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bu),this._element.classList.add(Bu),tu.trigger(this._element,"shown.bs.dropdown",e)}hide(){if(Ch(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){tu.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>tu.off(e,"mouseover",Ah))),this._popper&&this._popper.destroy(),this._menu.classList.remove(Bu),this._element.classList.remove(Bu),this._element.setAttribute("aria-expanded","false"),uu.removeDataAttribute(this._menu,"popper"),tu.trigger(this._element,"hidden.bs.dropdown",e))}_getConfig(e){if(e={...this.constructor.Default,...uu.getDataAttributes(this._element),...e},Oh(Nu,e,this.constructor.DefaultType),"object"==typeof e.reference&&!Sh(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Nu.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(void 0===r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=e:Sh(this._config.reference)?t=Eh(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const n=this._getPopperConfig(),i=n.modifiers.find((e=>"applyStyles"===e.name&&!1===e.enabled));this._popper=yh(t,this._menu,n),i&&uu.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(Bu)}_getMenuElement(){return du.next(this._element,$u)[0]}_getPlacement(){const e=this._element.parentNode;if(e.classList.contains("dropend"))return Vu;if(e.classList.contains("dropstart"))return Gu;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Yu:Xu:t?Ku:Uu}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const n=du.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Th);n.length&&qh(n,t,e===Hu,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Zu.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e&&(2===e.button||"keyup"===e.type&&"Tab"!==e.key))return;const t=du.find(Wu);for(let n=0,r=t.length;n<r;n++){const r=Zu.getInstance(t[n]);if(!r||!1===r._config.autoClose)continue;if(!r._isShown())continue;const i={relatedTarget:r._element};if(e){const t=e.composedPath(),n=t.includes(r._menu);if(t.includes(r._element)||"inside"===r._config.autoClose&&!n||"outside"===r._config.autoClose&&n)continue;if(r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;"click"===e.type&&(i.clickEvent=e)}r._completeHide(i)}}static getParentFromElement(e){return kh(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===Ru||e.key!==Iu&&(e.key!==Hu&&e.key!==Du||e.target.closest($u)):!qu.test(e.key))return;const t=this.classList.contains(Bu);if(!t&&e.key===Iu)return;if(e.preventDefault(),e.stopPropagation(),Ch(this))return;const n=this.matches(Wu)?this:du.prev(this,Wu)[0],r=Zu.getOrCreateInstance(n);if(e.key!==Iu)return e.key===Du||e.key===Hu?(t||r.show(),void r._selectMenuItem(e)):void(t&&e.key!==Ru||Zu.clearMenus());r.hide()}}tu.on(document,zu,Wu,Zu.dataApiKeydownHandler),tu.on(document,zu,$u,Zu.dataApiKeydownHandler),tu.on(document,Fu,Zu.clearMenus),tu.on(document,"keyup.bs.dropdown.data-api",Zu.clearMenus),tu.on(document,Fu,Wu,(function(e){e.preventDefault(),Zu.getOrCreateInstance(this).toggle()})),Rh(Zu);const ed=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",td=".sticky-top";class nd{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(t=>t+e)),this._setElementAttributes(ed,"paddingRight",(t=>t+e)),this._setElementAttributes(td,"marginRight",(t=>t-e))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e)[t];e.style[t]=`${n(Number.parseFloat(i))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(ed,"paddingRight"),this._resetElementAttributes(td,"marginRight")}_saveInitialAttribute(e,t){const n=e.style[t];n&&uu.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=uu.getDataAttribute(e,t);void 0===n?e.style.removeProperty(t):(uu.removeDataAttribute(e,t),e.style[t]=n)}))}_applyManipulationCallback(e,t){Sh(e)?t(e):du.find(e,this._element).forEach(t)}isOverflowing(){return this.getWidth()>0}}const rd={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},id={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},od="show",sd="mousedown.bs.backdrop";class ad{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){this._config.isVisible?(this._append(),this._config.isAnimated&&Lh(this._getElement()),this._getElement().classList.add(od),this._emulateAnimation((()=>{Dh(e)}))):Dh(e)}hide(e){this._config.isVisible?(this._getElement().classList.remove(od),this._emulateAnimation((()=>{this.dispose(),Dh(e)}))):Dh(e)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_getConfig(e){return(e={...rd,..."object"==typeof e?e:{}}).rootElement=Eh(e.rootElement),Oh("backdrop",e,id),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),tu.on(this._getElement(),sd,(()=>{Dh(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(tu.off(this._element,sd),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){Hh(e,this._getElement(),this._config.isAnimated)}}const ld={trapElement:null,autofocus:!0},cd={trapElement:"element",autofocus:"boolean"},hd=".bs.focustrap",ud="backward";class dd{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:e,autofocus:t}=this._config;this._isActive||(t&&e.focus(),tu.off(document,hd),tu.on(document,"focusin.bs.focustrap",(e=>this._handleFocusin(e))),tu.on(document,"keydown.tab.bs.focustrap",(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,tu.off(document,hd))}_handleFocusin(e){const{target:t}=e,{trapElement:n}=this._config;if(t===document||t===n||n.contains(t))return;const r=du.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===ud?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?ud:"forward")}_getConfig(e){return e={...ld,..."object"==typeof e?e:{}},Oh("focustrap",e,cd),e}}const fd="modal",pd="Escape",gd={backdrop:!0,keyboard:!0,focus:!0},md={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},vd="hidden.bs.modal",yd="show.bs.modal",_d="resize.bs.modal",bd="click.dismiss.bs.modal",wd="keydown.dismiss.bs.modal",xd="mousedown.dismiss.bs.modal",kd="modal-open",jd="show",Sd="modal-static";class Ed extends iu{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=du.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new nd}static get Default(){return gd}static get NAME(){return fd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||tu.trigger(this._element,yd,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(kd),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),tu.on(this._dialog,xd,(()=>{tu.one(this._element,"mouseup.dismiss.bs.modal",(e=>{e.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;if(tu.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(jd),tu.off(this._element,bd),tu.off(this._dialog,xd),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((e=>tu.off(e,".bs.modal"))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ad({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new dd({trapElement:this._element})}_getConfig(e){return e={...gd,...uu.getDataAttributes(this._element),..."object"==typeof e?e:{}},Oh(fd,e,md),e}_showElement(e){const t=this._isAnimated(),n=du.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),t&&Lh(this._element),this._element.classList.add(jd),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,tu.trigger(this._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,t)}_setEscapeEvent(){this._isShown?tu.on(this._element,wd,(e=>{this._config.keyboard&&e.key===pd?(e.preventDefault(),this.hide()):this._config.keyboard||e.key!==pd||this._triggerBackdropTransition()})):tu.off(this._element,wd)}_setResizeEvent(){this._isShown?tu.on(window,_d,(()=>this._adjustDialog())):tu.off(window,_d)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(kd),this._resetAdjustments(),this._scrollBar.reset(),tu.trigger(this._element,vd)}))}_showBackdrop(e){tu.on(this._element,bd,(e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(tu.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:e,scrollHeight:t,style:n}=this._element,r=t>document.documentElement.clientHeight;!r&&"hidden"===n.overflowY||e.contains(Sd)||(r||(n.overflowY="hidden"),e.add(Sd),this._queueCallback((()=>{e.remove(Sd),r||this._queueCallback((()=>{n.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;(!n&&e&&!Ih()||n&&!e&&Ih())&&(this._element.style.paddingLeft=`${t}px`),(n&&!e&&!Ih()||!n&&e&&Ih())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Ed.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}tu.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){const t=kh(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),tu.one(t,yd,(e=>{e.defaultPrevented||tu.one(t,vd,(()=>{Th(this)&&this.focus()}))}));const n=du.findOne(".modal.show");n&&Ed.getInstance(n).hide(),Ed.getOrCreateInstance(t).toggle(this)})),ou(Ed),Rh(Ed);const Od="offcanvas",Td={backdrop:!0,keyboard:!0,scroll:!1},Cd={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Pd="show",Ad=".offcanvas.show",Ld="hidden.bs.offcanvas";class Md extends iu{constructor(e,t){super(e),this._config=this._getConfig(t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Od}static get Default(){return Td}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||tu.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new nd).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Pd),this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),tu.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(tu.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Pd),this._backdrop.hide(),this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new nd).reset(),tu.trigger(this._element,Ld)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...Td,...uu.getDataAttributes(this._element),..."object"==typeof e?e:{}},Oh(Od,e,Cd),e}_initializeBackDrop(){return new ad({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new dd({trapElement:this._element})}_addEventListeners(){tu.on(this._element,"keydown.dismiss.bs.offcanvas",(e=>{this._config.keyboard&&"Escape"===e.key&&this.hide()}))}static jQueryInterface(e){return this.each((function(){const t=Md.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}tu.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){const t=kh(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ch(this))return;tu.one(t,Ld,(()=>{Th(this)&&this.focus()}));const n=du.findOne(Ad);n&&n!==t&&Md.getInstance(n).hide(),Md.getOrCreateInstance(t).toggle(this)})),tu.on(window,"load.bs.offcanvas.data-api",(()=>du.find(Ad).forEach((e=>Md.getOrCreateInstance(e).show())))),ou(Md),Rh(Md);const Nd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Id=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/i,Rd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Dd=(e,t)=>{const n=e.nodeName.toLowerCase();if(t.includes(n))return!Nd.has(n)||Boolean(Id.test(e.nodeValue)||Rd.test(e.nodeValue));const r=t.filter((e=>e instanceof RegExp));for(let e=0,t=r.length;e<t;e++)if(r[e].test(n))return!0;return!1};function Hd(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),o=[].concat(...r.body.querySelectorAll("*"));for(let e=0,n=o.length;e<n;e++){const n=o[e],r=n.nodeName.toLowerCase();if(!i.includes(r)){n.remove();continue}const s=[].concat(...n.attributes),a=[].concat(t["*"]||[],t[r]||[]);s.forEach((e=>{Dd(e,a)||n.removeAttribute(e.nodeName)}))}return r.body.innerHTML}const qd="tooltip",Fd=new Set(["sanitize","allowList","sanitizeFn"]),zd={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Bd={AUTO:"auto",TOP:"top",RIGHT:Ih()?"left":"right",BOTTOM:"bottom",LEFT:Ih()?"right":"left"},Wd={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},$d={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Xd="fade",Yd="show",Ud="show",Kd="out",Vd=".tooltip-inner",Gd=".modal",Qd="hide.bs.modal",Jd="hover",Zd="focus";class ef extends iu{constructor(e,t){if(void 0===r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(t),this.tip=null,this._setListeners()}static get Default(){return Wd}static get NAME(){return qd}static get Event(){return $d}static get DefaultType(){return zd}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(this.getTipElement().classList.contains(Yd))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),tu.off(this._element.closest(Gd),Qd,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const e=tu.trigger(this._element,this.constructor.Event.SHOW),t=Ph(this._element),n=null===t?this._element.ownerDocument.documentElement.contains(this._element):t.contains(this._element);if(e.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Vd).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const r=this.getTipElement(),i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME);r.setAttribute("id",i),this._element.setAttribute("aria-describedby",i),this._config.animation&&r.classList.add(Xd);const o="function"==typeof this._config.placement?this._config.placement.call(this,r,this._element):this._config.placement,s=this._getAttachment(o);this._addAttachmentClass(s);const{container:a}=this._config;ru.set(r,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(r),tu.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=yh(this._element,r,this._getPopperConfig(s)),r.classList.add(Yd);const l=this._resolvePossibleFunction(this._config.customClass);l&&r.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>{tu.on(e,"mouseover",Ah)}));const c=this.tip.classList.contains(Xd);this._queueCallback((()=>{const e=this._hoverState;this._hoverState=null,tu.trigger(this._element,this.constructor.Event.SHOWN),e===Kd&&this._leave(null,this)}),this.tip,c)}hide(){if(!this._popper)return;const e=this.getTipElement();if(tu.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(Yd),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((e=>tu.off(e,"mouseover",Ah))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const t=this.tip.classList.contains(Xd);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==Ud&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),tu.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,t),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const t=e.children[0];return this.setContent(t),t.classList.remove(Xd,Yd),this.tip=t,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),Vd)}_sanitizeAndSetContent(e,t,n){const r=du.findOne(n,e);t||!r?this.setElementContent(r,t):r.remove()}setElementContent(e,t){if(null!==e)return Sh(t)?(t=Eh(t),void(this._config.html?t.parentNode!==e&&(e.innerHTML="",e.append(t)):e.textContent=t.textContent)):void(this._config.html?(this._config.sanitize&&(t=Hd(t,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=t):e.textContent=t)}getTitle(){const e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return"right"===e?"end":"left"===e?"start":e}_initializeOnDelegatedTarget(e,t){return t||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:e=>this._handlePopperPlacementChange(e)}],onFirstUpdate:e=>{e.options.placement!==e.placement&&this._handlePopperPlacementChange(e)}};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return Bd[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((e=>{if("click"===e)tu.on(this._element,this.constructor.Event.CLICK,this._config.selector,(e=>this.toggle(e)));else if("manual"!==e){const t=e===Jd?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=e===Jd?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;tu.on(this._element,t,this._config.selector,(e=>this._enter(e))),tu.on(this._element,n,this._config.selector,(e=>this._leave(e)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},tu.on(this._element.closest(Gd),Qd,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");(e||"string"!==t)&&(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?Zd:Jd]=!0),t.getTipElement().classList.contains(Yd)||t._hoverState===Ud?t._hoverState=Ud:(clearTimeout(t._timeout),t._hoverState=Ud,t._config.delay&&t._config.delay.show?t._timeout=setTimeout((()=>{t._hoverState===Ud&&t.show()}),t._config.delay.show):t.show())}_leave(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?Zd:Jd]=t._element.contains(e.relatedTarget)),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=Kd,t._config.delay&&t._config.delay.hide?t._timeout=setTimeout((()=>{t._hoverState===Kd&&t.hide()}),t._config.delay.hide):t.hide())}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const t=uu.getDataAttributes(this._element);return Object.keys(t).forEach((e=>{Fd.has(e)&&delete t[e]})),(e={...this.constructor.Default,...t,..."object"==typeof e&&e?e:{}}).container=!1===e.container?document.body:Eh(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Oh(qd,e,this.constructor.DefaultType),e.sanitize&&(e.template=Hd(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_cleanTipClass(){const e=this.getTipElement(),t=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=e.getAttribute("class").match(t);null!==n&&n.length>0&&n.map((e=>e.trim())).forEach((t=>e.classList.remove(t)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(e){const{state:t}=e;t&&(this.tip=t.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each((function(){const t=ef.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Rh(ef);const tf={...ef.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},nf={...ef.DefaultType,content:"(string|element|function)"},rf={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class of extends ef{static get Default(){return tf}static get NAME(){return"popover"}static get Event(){return rf}static get DefaultType(){return nf}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(e,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(e){return this.each((function(){const t=of.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Rh(of);const sf="scrollspy",af={offset:10,method:"auto",target:""},lf={offset:"number",method:"string",target:"(string|element)"},cf="active",hf=".nav-link, .list-group-item, .dropdown-item",uf="position";class df extends iu{constructor(e,t){super(e),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(t),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,tu.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return af}static get NAME(){return sf}refresh(){const e=this._scrollElement===this._scrollElement.window?"offset":uf,t="auto"===this._config.method?e:this._config.method,n=t===uf?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),du.find(hf,this._config.target).map((e=>{const r=xh(e),i=r?du.findOne(r):null;if(i){const e=i.getBoundingClientRect();if(e.width||e.height)return[uu[t](i).top+n,r]}return null})).filter((e=>e)).sort(((e,t)=>e[0]-t[0])).forEach((e=>{this._offsets.push(e[0]),this._targets.push(e[1])}))}dispose(){tu.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(e){return(e={...af,...uu.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}}).target=Eh(e.target)||document.documentElement,Oh(sf,e,lf),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){const e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let t=this._offsets.length;t--;)this._activeTarget!==this._targets[t]&&e>=this._offsets[t]&&(void 0===this._offsets[t+1]||e<this._offsets[t+1])&&this._activate(this._targets[t])}}_activate(e){this._activeTarget=e,this._clear();const t=hf.split(",").map((t=>`${t}[data-bs-target="${e}"],${t}[href="${e}"]`)),n=du.findOne(t.join(","),this._config.target);n.classList.add(cf),n.classList.contains("dropdown-item")?du.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(cf):du.parents(n,".nav, .list-group").forEach((e=>{du.prev(e,".nav-link, .list-group-item").forEach((e=>e.classList.add(cf))),du.prev(e,".nav-item").forEach((e=>{du.children(e,".nav-link").forEach((e=>e.classList.add(cf)))}))})),tu.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:e})}_clear(){du.find(hf,this._config.target).filter((e=>e.classList.contains(cf))).forEach((e=>e.classList.remove(cf)))}static jQueryInterface(e){return this.each((function(){const t=df.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}tu.on(window,"load.bs.scrollspy.data-api",(()=>{du.find('[data-bs-spy="scroll"]').forEach((e=>new df(e)))})),Rh(df);const ff="active",pf="fade",gf="show",mf=".active",vf=":scope > li > .active";class yf extends iu{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(ff))return;let e;const t=kh(this._element),n=this._element.closest(".nav, .list-group");if(n){const t="UL"===n.nodeName||"OL"===n.nodeName?vf:mf;e=du.find(t,n),e=e[e.length-1]}const r=e?tu.trigger(e,"hide.bs.tab",{relatedTarget:this._element}):null;if(tu.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==r&&r.defaultPrevented)return;this._activate(this._element,n);const i=()=>{tu.trigger(e,"hidden.bs.tab",{relatedTarget:this._element}),tu.trigger(this._element,"shown.bs.tab",{relatedTarget:e})};t?this._activate(t,t.parentNode,i):i()}_activate(e,t,n){const r=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?du.children(t,mf):du.find(vf,t))[0],i=n&&r&&r.classList.contains(pf),o=()=>this._transitionComplete(e,r,n);r&&i?(r.classList.remove(gf),this._queueCallback(o,e,!0)):o()}_transitionComplete(e,t,n){if(t){t.classList.remove(ff);const e=du.findOne(":scope > .dropdown-menu .active",t.parentNode);e&&e.classList.remove(ff),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}e.classList.add(ff),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),Lh(e),e.classList.contains(pf)&&e.classList.add(gf);let r=e.parentNode;if(r&&"LI"===r.nodeName&&(r=r.parentNode),r&&r.classList.contains("dropdown-menu")){const t=e.closest(".dropdown");t&&du.find(".dropdown-toggle",t).forEach((e=>e.classList.add(ff))),e.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(e){return this.each((function(){const t=yf.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}tu.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ch(this)||yf.getOrCreateInstance(this).show()})),Rh(yf);const _f="toast",bf="hide",wf="show",xf="showing",kf={animation:"boolean",autohide:"boolean",delay:"number"},jf={animation:!0,autohide:!0,delay:5e3};class Sf extends iu{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return kf}static get Default(){return jf}static get NAME(){return _f}show(){tu.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(bf),Lh(this._element),this._element.classList.add(wf),this._element.classList.add(xf),this._queueCallback((()=>{this._element.classList.remove(xf),tu.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this._element.classList.contains(wf)&&(tu.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(xf),this._queueCallback((()=>{this._element.classList.add(bf),this._element.classList.remove(xf),this._element.classList.remove(wf),tu.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(wf)&&this._element.classList.remove(wf),super.dispose()}_getConfig(e){return e={...jf,...uu.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}},Oh(_f,e,this.constructor.DefaultType),e}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){tu.on(this._element,"mouseover.bs.toast",(e=>this._onInteraction(e,!0))),tu.on(this._element,"mouseout.bs.toast",(e=>this._onInteraction(e,!1))),tu.on(this._element,"focusin.bs.toast",(e=>this._onInteraction(e,!0))),tu.on(this._element,"focusout.bs.toast",(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Sf.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}function Ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ou(Sf),Rh(Sf);var Of=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.isNormalized=!1}var t,n;return t=e,(n=[{key:"magnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"normalize",value:function(){if(!this.isNormalized){var e=this.magnitude();this.x/=e,this.y/=e,this.isNormalized=!0}}},{key:"slope",value:function(){return this.y/this.x}},{key:"slopeAngle",value:function(){var e=this.toDegrees(Math.atan(this.slope()));return this.x<0?e+180:e}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}}])&&Ef(t.prototype,n),e}();function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Af(e,t,n){return t&&Pf(e.prototype,t),n&&Pf(e,n),e}function Lf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hf(e,t)}function Mf(e){var t=Df();return function(){var n,r=qf(e);if(t){var i=qf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nf(this,n)}}function Nf(e,t){return!t||"object"!==Tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function If(e){var t="function"==typeof Map?new Map:void 0;return(If=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Rf(e,arguments,qf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Hf(n,e)})(e)}function Rf(e,t,n){return(Rf=Df()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Hf(i,n.prototype),i}).apply(null,arguments)}function Df(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hf(e,t){return(Hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qf(e){return(qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ff=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0,cancelable:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-created"}}]),n}(If(Event)),zf=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-selected-in-hierarchy"}}]),n}(If(Event)),Bf=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-selected"}}]),n}(If(Event)),Wf=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-deselected"}}]),n}(If(Event)),$f=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-moved"}}]),n}(If(Event)),Xf=function(e){Lf(n,e);var t=Mf(n);function n(e,r){var i;return Cf(this,n),(i=t.call(this,n.name,{bubbles:!0})).instance=e,i.newParent=r,i}return Af(n,null,[{key:"name",get:function(){return"svg-element-parent-changed"}}]),n}(If(Event)),Yf=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-deleted"}}]),n}(If(Event)),Uf=function(e){Lf(n,e);var t=Mf(n);function n(e){var r;return Cf(this,n),(r=t.call(this,n.name,{bubbles:!0})).instance=e,r}return Af(n,null,[{key:"name",get:function(){return"svg-element-metadata-changed"}}]),n}(If(Event));function Kf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Kf(this,e),this.el=t,this.onChange=n,this.observerInst=null,this.isObserving=!1}var t,n;return t=e,(n=[{key:"addObserver",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||this.el?n||this.onChange?(this.el&&this.isObserving&&this.removeObserver(),t&&t!==this.el&&(this.el=t),n&&n!==this.onChange&&(this.onChange=n),MutationObserver?(this.observerInst=this.observerInst||new MutationObserver((function(){e.onChange()})),this.observerInst.observe(this.el.node,{attributes:!0})):(this.el.off("DOMAttrModified.select"),this.el.on("DOMAttrModified.select",(function(){e.onChange()}))),this.isObserving=!0):console.log("No onChange method given. Observer is not added."):console.log("Cannot add observer to null! An element needs to be defined.")}},{key:"removeObserver",value:function(){if(this.isObserving){if(MutationObserver)try{this.observerInst.disconnect(),delete this.observerInst}catch(e){console.log("Disconnecting observer failed!")}else this.el.off("DOMAttrModified.select");this.isObserving=!1}}}])&&Vf(t.prototype,n),e}();function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jf=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.owner=t,this.defaultTarget=n,this.attatchedListeners=new Map,this.attatchedListeners.set(this.defaultTarget,[]),this.targetsAddListenerFuncNames=new Map([[n,r]]),this.targetsRemoveListenerFuncNames=new Map([[n,i]])}var t,n;return t=e,(n=[{key:"addTarget",value:function(e,t,n){this.attatchedListeners.set(e,[]),this.targetsAddListenerFuncNames.set(e,t),this.targetsRemoveListenerFuncNames.set(e,n)}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultTarget,r=t.bind(this.owner);if(this.attatchedListeners.has(n)){var i=this.attatchedListeners.get(n);i.push({type:e,boundFunc:r}),this.attatchedListeners.set(n,i)}else this.attatchedListeners.set(n,[{type:e,boundFunc:r}]);if(!this.targetsAddListenerFuncNames.has(n))return console.log("Error: can not add listener, unknown target"),void console.trace();var o=this.targetsAddListenerFuncNames.get(n);n[o](e,r)}},{key:"removeListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultTarget,n=this.attatchedListeners.get(t),r=n.find((function(t){return e===t.type}));if(r){var i=r.type,o=r.boundFunc;if(!this.targetsRemoveListenerFuncNames.has(t))return void console.log("Error: can not remove listener, unknown target");var s=this.targetsRemoveListenerFuncNames.get(t);t[s](i,o);var a=n.indexOf(r);n.splice(a,1),this.attatchedListeners.set(t,n)}}},{key:"removeTarget",value:function(e){this.removeAllListenersOfTarget(e),this.attatchedListeners.delete(e),this.targetsAddListenerFuncNames.delete(e),this.targetsRemoveListenerFuncNames.delete(e)}},{key:"removeAllListeners",value:function(){var e=this;Array.from(this.attatchedListeners.keys()).forEach((function(t){e.removeAllListenersOfTarget(t)}))}},{key:"removeAllListenersOfTarget",value:function(e){var t=this.targetsRemoveListenerFuncNames.get(e),n=this.attatchedListeners.get(e);void 0!==n&&(n.forEach((function(n){var r=n.type,i=n.boundFunc;e[t](r,i)})),this.attatchedListeners.set(e,[]))}}])&&Qf(t.prototype,n),e}();function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tp=function(){function e(t,n,r,i,o,s,a,l){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.remember("_sem_repeatable",this),this.enabled=!1,this.el=t,this.directions=n,this.repeatSymmetrically=r,this.path=i,this.rotateAlongPath=o,this.amount=s,this.margin=a,this.testIntersections=l,this.clones=[],this.currentCoorSysRot=0,this.repeatMarker=null,this.observerHandler=new Gf(this.el,(function(){c.repeat(),c.updateMarker()})),this.semParent=null,this.prevParentWidth=null,this.prevParentHeight=null,this.parentObserverHandler=null,this.listenerHandler=new Jf(this,this.el.node,"addEventListener","removeEventListener")}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enabled=t,t?(this.repeat(),this.createMarker(),this.observerHandler.addObserver(),this.semParent=this.getSemParent(),this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.addObserverToParent(),this.listenerHandler.on(Xf.name,(function(t){t.instance===e.el&&e.onParentChange(t.newParent)})),this.listenerHandler.on(Yf.name,(function(t){t.instance===e.el&&(e.removeMarker(),e.path&&e.path.remove())}))):(this.listenerHandler.removeAllListeners(),this.removeClones(),this.removeMarker(),this.observerHandler.removeObserver(),this.parentObserverHandler&&this.parentObserverHandler.removeObserver())}},{key:"addObserverToParent",value:function(){var e=this;this.parentObserverHandler=new Gf(this.semParent,(function(){var t=e.semParent.width(),n=e.semParent.height();t===e.prevParentWidth&&n===e.prevParentHeight||(e.repeat(),e.prevParentWidth=t,e.prevParentHeight=n)})),this.parentObserverHandler.addObserver()}},{key:"getSemParent",value:function(){var e=this.el.parent();if(e instanceof kl&&e.isRoot())return e;var t=e.parent(),n=e.data("children-from-node-id");return Array.from(t.children()).find((function(e){return e.data("node-id")===n}))}},{key:"getParentBBox",value:function(){var e=this.getSemParent();if(e instanceof kl&&e.isRoot()){var t=e.node,n=t.clientWidth,r=t.clientHeight;return new Ds(0,0,n,r)}return e.bbox()}},{key:"onParentChange",value:function(e){this.parentObserverHandler&&this.parentObserverHandler.removeObserver(),this.semParent=e,this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.addObserverToParent()}},{key:"repeat",value:function(){if(this.removeClones(),this.path)this.buildClonesAlongPath(this.path,this.rotateAlongPath);else{if(this.directions.findIndex((function(e){return 0===e.x&&0===e.y}))>-1){var e=new Of(1,0),t=new Of(-1,0),n=new Of(0,-1),r=new Of(0,1),i=this.calcAmountInDirection(e),o=this.calcAmountInDirection(t),s=this.calcAmountInDirection(n),a=this.calcAmountInDirection(r);return this.repeatSymmetrically?void this.buildCloneGrid(i,i,s,s):void this.buildCloneGrid(i,o,s,a)}for(var l=0;l<this.directions.length;l++){var c=this.directions[l];if(0!==c.x||0!==c.y){var h=this.calcMaxPossibleAmountInParentInDirection(c),u=this.getKeyOfAmountInDirection(c);void 0!==u&&-1!==this.amount.get(u)&&(h=Math.min(this.amount.get(u),h)),this.buildClonesInDirection(h,c.x,c.y)}}}}},{key:"getKeyOfAmountInDirection",value:function(e){return Array.from(this.amount.keys()).find((function(t){return t.x===e.x&&t.y===e.y}))}},{key:"calcMaxPossibleAmountInParentInDirection",value:function(e){var t=this.getParentBBox(),n=this.el.bbox(),r=0;e.x>0?r=Math.floor((t.width-(n.x+n.width-t.x))/(n.width+this.margin)):e.x<0&&(r=Math.floor((n.x-t.x)/(n.width+this.margin)));var i=0;return e.y>0?i=Math.floor((t.height-(n.y+n.height-t.y))/(n.height+this.margin)):e.y<0&&(i=Math.floor((n.y-t.y)/(n.height+this.margin))),0===e.x&&0!==e.y?i:0!==e.x&&0===e.y?r:Math.min(r,i)}},{key:"calcAmountInDirection",value:function(e){var t=this.calcMaxPossibleAmountInParentInDirection(e),n=this.getKeyOfAmountInDirection(e);return-1===this.amount.get(n)?t:Math.min(this.amount.get(n),t)}},{key:"buildClonesInDirection",value:function(e,t,n){for(var r=this.el.bbox(),i=0;i<e;i++)this.buildClone(t*(r.width+this.margin)*(i+1),n*(r.height+this.margin)*(i+1))}},{key:"buildCloneGrid",value:function(e,t,n,r){this.buildCloneGridQuarterInDir(e,r,new Of(1,1)),this.buildCloneGridQuarterInDir(e,n,new Of(1,-1)),this.buildCloneGridQuarterInDir(t,r,new Of(-1,1)),this.buildCloneGridQuarterInDir(t,n,new Of(-1,-1))}},{key:"buildCloneGridQuarterInDir",value:function(e,t,n){for(var r=n.x<0,i=n.y<0,o=this.el.bbox(),s=e+1,a=t+1,l=0;l<s;l++)for(var c=0;c<a;c++)0===l&&0===c||r&&0===l||i&&0===c||this.buildClone(n.x*l*(o.width+this.margin),n.y*c*(o.height+this.margin))}},{key:"buildClonesAlongPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length(),r=this.el.bbox(),i=r.width+this.margin,o=Math.floor(n/i),s=0,a=e.pointAt(s),l=a.x,c=a.y;this.el.cx()===l&&this.el.cy()===c||this.el.center(l,c);var h=0;if(t){var u=e.pointAt(s+i);h=90-(h=this.calcGradientAngleBetweenPoints(a,u))}this.currentCoorSysRot=h;var d,f,p=-1*this.currentCoorSysRot;p+h!==0&&(this.el.rotate(p),this.el.rotate(h));for(var g=0;g<o;g++){s+=i,d=(a=e.pointAt(s)).x-l,f=a.y-c;var m=0;if(t){var v=e.pointAt(s-i);m=90-(m=this.calcGradientAngleBetweenPoints(v,a))}this.buildClone(d,f,m-h)}}},{key:"calcGradientAngleBetweenPoints",value:function(e,t){var n=t.x-e.x,r=e.y-t.y;return 180*Math.atan(r/n)/Math.PI}},{key:"buildClone",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(!this.testIntersections||this.isPointInsideParentBB(this.el.x()+e,this.el.y()+t)&&this.isPointInsideParentBB(this.el.x()+e+this.el.width(),this.el.y()+t+this.el.height()))&&this.clones.push(this.el.root().use(this.el).move(e,t).rotate(n))}},{key:"isPointInsideParentBB",value:function(e,t){var n=this.getParentBBox();return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height}},{key:"removeClones",value:function(){this.clones.map((function(e){return e.remove()})),this.clones=[]}},{key:"createMarker",value:function(){this.repeatMarker&&this.removeMarker(),this.repeatMarker=document.createElement("div"),this.repeatMarker.style.position="absolute",this.repeatMarker.style.pointerEvents="none",this.repeatMarker.innerHTML="\n                <span class=\"fas fa-clone\" style='color: lightgrey'></span>\n            ",document.querySelector("#sem-behaviour-marker").appendChild(this.repeatMarker),this.updateMarker()}},{key:"updateMarker",value:function(){if(this.repeatMarker){var e=this.el.node.getBoundingClientRect(),t=this.repeatMarker.getBoundingClientRect(),n=e.x+e.width-t.width-3+window.pageXOffset,r=e.y-t.height-3+window.pageYOffset;this.repeatMarker.style.top="".concat(r,"px"),this.repeatMarker.style.left="".concat(n,"px")}}},{key:"removeMarker",value:function(){this.repeatMarker&&(this.repeatMarker.remove(),this.repeatMarker=null)}}])&&ep(t.prototype,n),e}();function np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zi(Zs,{semRepeatable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Map([[new Of(-1,-1),-1],[new Of(0,-1),-1],[new Of(1,-1),-1],[new Of(-1,0),-1],[new Of(1,0),-1],[new Of(-1,1),-1],[new Of(0,1),-1],[new Of(1,1),-1]]),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:10,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=this.remember("_sem_repeatable")||new tp(this,t,n,r,i,o,s,a);return l.init(e),document.dispatchEvent(new Uf(l.el)),this},isSemRepeatable:function(){var e=this.remember("_sem_repeatable");return void 0!==e&&e.enabled},semRepeatableConfig:function(){var e,t=this.remember("_sem_repeatable");return t?{directions:(e=t.directions,function(e){if(Array.isArray(e))return Zf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),repeatSymmetrically:t.repeatSymmetrically,path:t.path,rotateAlongPath:t.rotateAlongPath,amount:t.amount,margin:t.margin,testIntersections:t.testIntersections}:{}},updateSemRepeatable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,a=this.remember("_sem_repeatable");a&&(void 0!==e&&(a.directions=e),void 0!==t&&(a.repeatSymmetrically=t),void 0!==n&&(a.path&&a.path.remove(),a.path=n),void 0!==r&&(a.rotateAlongPath=r),void 0!==i&&(a.amount=i),void 0!==o&&(a.margin=o),void 0!==s&&(a.testIntersections=s),a.repeat(),document.dispatchEvent(new Uf(a.el)))}});var rp=function(){function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.remember("_sem_stretchable",this),this.enabled=!1,this.el=t,this.horizontalFactor=n,this.verticalFactor=r,this.updatePos=i,this.semParent=null,this.prevParentWidth=null,this.prevParentHeight=null,this.partXOfParentWidth=null,this.partYOfParentHeight=null,this.stretchMarker=null,this.elObserverHandler=new Gf(this.el,(function(){o.updateMarker()})),this.parentObserverHandler=null,this.listenerHandler=new Jf(this,this.el.node,"addEventListener","removeEventListener")}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enabled=t,t?(this.semParent=this.getSemParent(),this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.calcPartsOfParentWidthAndHeight(),this.addObserverToParent(),this.listenerHandler.on(Xf.name,(function(t){t.instance===e.el&&e.onParentChange(t.newParent)})),this.createMarker(),this.elObserverHandler.addObserver(),this.listenerHandler.on(Yf.name,(function(t){t.instance===e.el&&e.removeMarker()}))):(this.listenerHandler.removeAllListeners(),this.parentObserverHandler&&this.parentObserverHandler.removeObserver(),this.removeMarker(),this.elObserverHandler.removeObserver())}},{key:"getSemParent",value:function(){var e=this.el.parent();if(e instanceof kl&&e.isRoot())return e;var t=e.parent(),n=e.data("children-from-node-id");return Array.from(t.children()).find((function(e){return e.data("node-id")===n}))}},{key:"addObserverToParent",value:function(){var e=this;this.parentObserverHandler=new Gf(this.semParent,(function(){e.stretch()})),this.parentObserverHandler.addObserver()}},{key:"stretch",value:function(){var e=this.semParent.width(),t=this.semParent.height();if(e!==this.prevParentWidth||t!==this.prevParentHeight){var n=e-this.prevParentWidth,r=t-this.prevParentHeight,i=n/this.prevParentWidth,o=r/this.prevParentHeight,s=this.el.width()+i*this.horizontalFactor*this.el.width(),a=this.el.height()+o*this.verticalFactor*this.el.height();if(this.el.width(s),this.el.height(a),this.updatePos){var l=this.semParent.x()+this.partXOfParentWidth*e,c=this.semParent.y()+this.partYOfParentHeight*t;this.el.x(l),this.el.y(c)}this.prevParentWidth=e,this.prevParentHeight=t}}},{key:"onParentChange",value:function(e){this.parentObserverHandler&&this.parentObserverHandler.removeObserver(),this.semParent=e,this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.calcPartsOfParentWidthAndHeight(),this.addObserverToParent()}},{key:"calcPartsOfParentWidthAndHeight",value:function(){var e=this.el.x()-this.semParent.x(),t=this.el.y()-this.semParent.y();this.partXOfParentWidth=e/this.prevParentWidth,this.partYOfParentHeight=t/this.prevParentHeight}},{key:"createMarker",value:function(){this.stretchMarker&&this.removeMarker(),this.stretchMarker=document.createElement("div"),this.stretchMarker.style.position="absolute",this.stretchMarker.style.pointerEvents="none",this.stretchMarker.innerHTML="\n                <span class=\"fas fa-compress\" style='color: lightgrey'></span>\n            ",document.querySelector("#sem-behaviour-marker").appendChild(this.stretchMarker),this.updateMarker()}},{key:"updateMarker",value:function(){if(this.stretchMarker){var e=this.el.node.getBoundingClientRect(),t=this.stretchMarker.getBoundingClientRect(),n=e.x+e.width+window.pageXOffset,r=e.y-t.height-3+window.pageYOffset;this.stretchMarker.style.top="".concat(r,"px"),this.stretchMarker.style.left="".concat(n,"px")}}},{key:"removeMarker",value:function(){this.stretchMarker&&(this.stretchMarker.remove(),this.stretchMarker=null)}}])&&np(t.prototype,n),e}();function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zi(Zs,{semStretchable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.remember("_sem_stretchable")||new rp(this,t,n,r);return i.init(e),document.dispatchEvent(new Uf(i.el)),this},isSemStretchable:function(){var e=this.remember("_sem_stretchable");return void 0!==e&&e.enabled},semStretchableConfig:function(){var e=this.remember("_sem_stretchable");return void 0===e?{}:{horizontalFactor:e.horizontalFactor,verticalFactor:e.verticalFactor,updatePos:e.updatePos}},updateSemStretchable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.remember("_sem_stretchable");r&&(void 0!==e&&(r.horizontalFactor=e),void 0!==t&&(r.verticalFactor=t),void 0!==n&&(r.updatePos=n),document.dispatchEvent(new Uf(r.el)))}});var op=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.remember("_sem_anchorable",this),this.enabled=!1,this.el=t,this.xFactorAnchorToParent=null,this.yFactorAnchorToParent=null,this.xOffsetCentreToAnchor=null,this.yOffsetCentreToAnchor=null,this.anchorPoint=null,n&&this.setNewAnchorPoint(n),this.semParent=null,this.prevParentWidth=null,this.prevParentHeight=null,this.prevParentPos=null,this.elObserverPrevParentWidth=null,this.elObserverPrevParentHeight=null,this.elObserverPrevParentPos=null,this.anchorMarker=null,this.anchorLine=null,this.elObserverHandler=new Gf(this.el,(function(){r.anchorPoint&&r.elObserverPrevParentPos.x===r.semParent.x()&&r.elObserverPrevParentPos.y===r.semParent.y()&&(r.elObserverPrevParentWidth===r.semParent.width()&&r.elObserverPrevParentHeight===r.semParent.height()&&r.updateCentreToAnchorOffsets(),r.anchorLine||r.createAnchorLine(),r.updateAnchorLine()),r.updateMarker(),r.elObserverPrevParentPos.x!==r.semParent.x()&&(r.elObserverPrevParentPos.x=r.semParent.x()),r.elObserverPrevParentPos.y!==r.semParent.y()&&(r.elObserverPrevParentPos.y=r.semParent.y()),r.elObserverPrevParentWidth!==r.semParent.width()&&(r.elObserverPrevParentWidth=r.semParent.width()),r.elObserverPrevParentHeight!==r.semParent.height()&&(r.elObserverPrevParentHeight=r.semParent.height())})),this.parentObserverHandler=null,this.listenerHandler=new Jf(this,this.el.node,"addEventListener","removeEventListener")}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enabled=t,t?(this.semParent||(this.semParent=this.getSemParent()),this.anchorPoint&&(this.updateAnchorToParentFactors(),this.updateCentreToAnchorOffsets(),this.createAnchorLine()),this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.prevParentPos=new Of(this.semParent.x(),this.semParent.y()),this.elObserverPrevParentWidth=this.semParent.width(),this.elObserverPrevParentHeight=this.semParent.height(),this.elObserverPrevParentPos=new Of(this.semParent.x(),this.semParent.y()),this.addObserverToParent(),this.listenerHandler.on(Xf.name,(function(t){t.instance===e.el&&e.onParentChange(t.newParent)})),this.createMarker(),this.elObserverHandler.addObserver(),this.listenerHandler.on(Yf.name,(function(t){t.instance===e.el&&(e.removeAnchorLine(),e.removeMarker())}))):(this.listenerHandler.removeAllListeners(),this.parentObserverHandler&&this.parentObserverHandler.removeObserver(),this.removeAnchorLine(),this.removeMarker(),this.elObserverHandler.removeObserver())}},{key:"setNewAnchorPoint",value:function(e){var t=document.querySelector("svg").getBoundingClientRect();this.anchorPoint=new Of(e.x-t.x,e.y-t.y),this.updateAnchorToParentFactors(),this.updateCentreToAnchorOffsets(),this.createAnchorLine()}},{key:"updateAnchorToParentFactors",value:function(){this.semParent||(this.semParent=this.getSemParent());var e=this.anchorPoint.x-this.semParent.x(),t=this.anchorPoint.y-this.semParent.y();this.xFactorAnchorToParent=e/this.semParent.width(),this.yFactorAnchorToParent=t/this.semParent.height()}},{key:"updateCentreToAnchorOffsets",value:function(){this.anchorPoint&&(this.xOffsetCentreToAnchor=this.el.cx()-this.anchorPoint.x,this.yOffsetCentreToAnchor=this.el.cy()-this.anchorPoint.y)}},{key:"getSemParent",value:function(){var e=this.el.parent();if(e instanceof kl&&e.isRoot())return e;var t=e.parent(),n=e.data("children-from-node-id");return Array.from(t.children()).find((function(e){return e.data("node-id")===n}))}},{key:"addObserverToParent",value:function(){var e=this;this.parentObserverHandler=new Gf(this.semParent,(function(){var t=e.semParent.x(),n=e.semParent.y(),r=e.semParent.width(),i=e.semParent.height();t===e.prevParentPos.x&&n===e.prevParentPos.y||(e.updateAnchorPos(),r===e.prevParentWidth&&i===e.prevParentHeight&&e.updateCentreToAnchorOffsets(),e.prevParentPos.x=t,e.prevParentPos.y=n),r===e.prevParentWidth&&i===e.prevParentHeight||(e.updateAnchorPos(),e.updatePosAccordingToAnchor(),e.prevParentWidth=r,e.prevParentHeight=i)})),this.parentObserverHandler.addObserver()}},{key:"updateAnchorPos",value:function(){this.anchorPoint&&(this.anchorPoint.x=this.semParent.x()+this.xFactorAnchorToParent*this.semParent.width(),this.anchorPoint.y=this.semParent.y()+this.yFactorAnchorToParent*this.semParent.height(),this.updateAnchorLine())}},{key:"updatePosAccordingToAnchor",value:function(){var e=this.anchorPoint.x+this.xOffsetCentreToAnchor,t=this.anchorPoint.y+this.yOffsetCentreToAnchor;this.el.center(e,t)}},{key:"onParentChange",value:function(e){this.parentObserverHandler&&this.parentObserverHandler.removeObserver(),this.semParent=e,this.anchorPoint&&(this.updateAnchorToParentFactors(),this.updateCentreToAnchorOffsets()),this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.prevParentPos=new Of(this.semParent.x(),this.semParent.y()),this.elObserverPrevParentWidth=this.semParent.width(),this.elObserverPrevParentHeight=this.semParent.height(),this.elObserverPrevParentPos=new Of(this.semParent.x(),this.semParent.y()),this.addObserverToParent()}},{key:"createMarker",value:function(){this.anchorMarker&&this.removeMarker(),this.anchorMarker=document.createElement("div"),this.anchorMarker.style.position="absolute",this.anchorMarker.style.pointerEvents="none",this.anchorMarker.innerHTML="\n                <span class=\"fas fa-anchor\" style='color: lightgrey'></span>\n            ",document.querySelector("#sem-behaviour-marker").appendChild(this.anchorMarker),this.updateMarker()}},{key:"createAnchorLine",value:function(){if(this.anchorPoint){this.anchorLine&&this.removeAnchorLine();var e=Hl("svg");this.anchorLine=e.line([[this.el.cx(),this.el.cy()],[this.anchorPoint.x,this.anchorPoint.y]]),this.anchorLine.fill("none"),this.anchorLine.stroke({color:"#999",width:2,linecap:"round",linejoin:"round",dasharray:"10,10"}),this.anchorLine.marker("end",3,3,(function(e){e.circle(3).fill("#999")})),this.anchorLine.node.classList.add("not-for-export")}}},{key:"updateMarker",value:function(){if(this.anchorMarker){var e=this.el.node.getBoundingClientRect(),t=this.anchorMarker.getBoundingClientRect(),n=e.x+e.width-2*t.width+window.pageXOffset,r=e.y-t.height-3+window.pageYOffset;this.anchorMarker.style.top="".concat(r,"px"),this.anchorMarker.style.left="".concat(n,"px")}}},{key:"updateAnchorLine",value:function(){this.anchorLine&&this.anchorLine.plot([[this.el.cx(),this.el.cy()],[this.anchorPoint.x,this.anchorPoint.y]])}},{key:"removeMarker",value:function(){this.anchorMarker&&(this.anchorMarker.remove(),this.anchorMarker=null)}},{key:"removeAnchorLine",value:function(){this.anchorLine&&(this.anchorLine.remove(),this.anchorLine=null)}}])&&ip(t.prototype,n),e}();function sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zi(Zs,{semAnchorable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.remember("_sem_anchorable")||new op(this,t);return n.init(e),document.dispatchEvent(new Uf(n.el)),this},isSemAnchorable:function(){var e=this.remember("_sem_anchorable");return void 0!==e&&e.enabled},semAnchorableConfig:function(){var e=this.remember("_sem_anchorable");return void 0===e?{}:{anchorPoint:e.anchorPoint}},updateSemAnchorable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.remember("_sem_anchorable");t&&(void 0!==e&&t.setNewAnchorPoint(e),document.dispatchEvent(new Uf(t.el)))}});var ap=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.remember("_geo_scalable",this),this.enabled=!1,this.el=t,this.semParent=null,this.prevParentWidth=null,this.prevParentHeight=null,this.partXOfParentWidth=null,this.partYOfParentHeight=null,this.parentObserverHandler=null,this.listenerHandler=new Jf(this,this.el.node,"addEventListener","removeEventListener")}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enabled=t,t?(this.semParent=this.getSemParent(),this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.calcPartsOfParentWidthAndHeight(),this.addObserverToParent(),this.listenerHandler.on(Xf.name,(function(t){t.instance===e.el&&e.onParentChange(t.newParent)}))):(this.listenerHandler.removeAllListeners(),this.parentObserverHandler&&this.parentObserverHandler.removeObserver())}},{key:"getSemParent",value:function(){var e=this.el.parent();if(e instanceof kl&&e.isRoot())return e;var t=e.parent(),n=e.data("children-from-node-id");return Array.from(t.children()).find((function(e){return e.data("node-id")===n}))}},{key:"addObserverToParent",value:function(){var e=this;this.parentObserverHandler=new Gf(this.semParent,(function(){e.scale()})),this.parentObserverHandler.addObserver()}},{key:"scale",value:function(){var e=this.semParent.width(),t=this.semParent.height();if(e!==this.prevParentWidth||t!==this.prevParentHeight){var n=e-this.prevParentWidth,r=t-this.prevParentHeight,i=n/this.prevParentWidth,o=r/this.prevParentHeight,s=this.el.width()+i*this.el.width(),a=this.el.height()+o*this.el.height();this.el.width(s),this.el.height(a);var l=this.semParent.x()+this.partXOfParentWidth*e,c=this.semParent.y()+this.partYOfParentHeight*t;this.el.x(l),this.el.y(c),this.prevParentWidth=e,this.prevParentHeight=t}}},{key:"onParentChange",value:function(e){this.parentObserverHandler&&this.parentObserverHandler.removeObserver(),this.semParent=e,this.prevParentWidth=this.semParent.width(),this.prevParentHeight=this.semParent.height(),this.calcPartsOfParentWidthAndHeight(),this.addObserverToParent()}},{key:"calcPartsOfParentWidthAndHeight",value:function(){var e=this.el.x()-this.semParent.x(),t=this.el.y()-this.semParent.y();this.partXOfParentWidth=e/this.prevParentWidth,this.partYOfParentHeight=t/this.prevParentHeight}}])&&sp(t.prototype,n),e}();function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zi(Zs,{geoScalable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.remember("_geo_scalable")||new ap(this);return t.init(e),this},isGeoScalable:function(){var e=this.remember("_geo_scalable");return void 0!==e&&e.enabled}});var cp=function(){function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.remember("_easier_selectable",this),this.el=t,this.selectableWidth=n,this.onMousedown=r,this.isDraggable=i,this.selectableClone=null,this.listenerHandler=null,this.elObserverHandler=new Gf(this.el,(function(){return o.updateSelectableClone()})),this.cloneObserverHandler=null}var t,n;return t=e,(n=[{key:"init",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(console.log("activate easier selectable"),this.createSelectableClone(),this.addListener(),this.elObserverHandler.addObserver(),this.isDraggable&&this.activateDraggable()):(this.isDraggable&&this.deactivateDraggable(),this.removeSelectableClone(),this.removeListener(),this.elObserverHandler.removeObserver())}},{key:"createSelectableClone",value:function(){this.selectableClone&&this.removeSelectableClone(),this.selectableClone=this.el.clone().addTo(this.el.parent()).stroke({color:"#87ceeb",opacity:0,width:this.selectableWidth}).front(),this.selectableClone.node.classList.add("selectable-clone")}},{key:"updateSelectableClone",value:function(){if(this.selectableClone){this.el.x()===this.selectableClone.x()&&this.el.y()===this.selectableClone.y()||this.selectableClone.move(this.el.x(),this.el.y()),this.el.width()===this.selectableClone.width()&&this.el.height()===this.selectableClone.height()||this.selectableClone.size(this.el.width(),this.el.height());var e="transform",t=this.el.attr(e);t&&""!==t&&this.selectableClone.attr(e,t)}}},{key:"removeSelectableClone",value:function(){this.selectableClone&&(this.selectableClone.remove(),this.selectableClone=null)}},{key:"addListener",value:function(){var e=this;this.listenerHandler&&this.removeListener(),this.listenerHandler=new Jf(this,this.selectableClone,"on","off"),this.listenerHandler.on("mousedown",(function(t){e.onMousedown()}),this.selectableClone),this.listenerHandler.on("mouseover",(function(t){e.selectableClone.stroke({opacity:.3})}),this.selectableClone),this.listenerHandler.on("mouseout",(function(t){e.selectableClone.stroke({opacity:0})}),this.selectableClone)}},{key:"removeListener",value:function(){this.listenerHandler&&(this.listenerHandler.removeAllListeners(),this.listenerHandler=null)}},{key:"updateSelectableWidth",value:function(e){this.selectableClone&&(this.selectableClone.stroke({width:e}),this.selectableWidth=e)}},{key:"toggleDraggable",value:function(e){e?this.activateDraggable():this.deactivateDraggable(),this.isDraggable=e}},{key:"activateDraggable",value:function(){var e=this;console.log("activate draggable"),this.selectableClone.draggable().on("dragend",(function(t){console.log("on dragend of clone"),e.el.node.dispatchEvent(new $f(e.el))})),this.cloneObserverHandler=new Gf(this.selectableClone,(function(){console.log("on change of clone"),e.el.x()===e.selectableClone.x()&&e.el.y()===e.selectableClone.y()||e.el.move(e.selectableClone.x(),e.selectableClone.y())})),this.cloneObserverHandler.addObserver()}},{key:"deactivateDraggable",value:function(){null!==this.cloneObserverHandler&&(this.selectableClone.draggable(!1),this.cloneObserverHandler.removeObserver(),this.cloneObserverHandler=null)}}])&&lp(t.prototype,n),e}();function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}zi(Zs,{easierSelectable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.remember("_easier_selectable")||new cp(this,t,n,r);return i.init(e),this},updateEasierSelectable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.remember("_easier_selectable");r&&(void 0!==e&&r.updateSelectableWidth(e),void 0!==t&&(r.onMousedown=t),void 0!==n&&r.toggleDraggable(n))}});var up=function(){function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.remember("_highlight",this),this.el=t,this.highlightColor=n,this.highlightOpacity=r,this.highlightWidth=i,this.highlightClone=null,this.observerHandler=new Gf(this.el,(function(){return o.updateHighlighting()}))}var t,n;return t=e,(n=[{key:"init",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.highlight(),this.observerHandler.addObserver()):(this.removeHighlighting(),this.observerHandler.removeObserver())}},{key:"highlight",value:function(){this.highlightClone&&this.removeHighlighting(),this.highlightClone=this.el.clone().addTo(this.el.parent()).stroke({color:this.highlightColor,opacity:this.highlightOpacity,width:this.highlightWidth}).back(),this.highlightClone.node.classList.add("selection-highlighting")}},{key:"updateHighlighting",value:function(){if(this.highlightClone){this.highlightClone.move(this.el.x(),this.el.y()),this.highlightClone.size(this.el.width(),this.el.height());var e="transform",t=this.el.attr(e);t&&""!==t&&this.highlightClone.attr(e,t)}}},{key:"removeHighlighting",value:function(){this.highlightClone&&(this.highlightClone.remove(),this.highlightClone=null)}}])&&hp(t.prototype,n),e}();zi(Zs,{highlight:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#87ceeb",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=this.remember("_highlight")||new up(this,t,n,r);return i.init(e),this}});var dp=n(424),fp=n.n(dp);function pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gp=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svgEle=t,this.draw=n,this.listenerHandler=new Jf(this,this.svgEle,"addEventListener","removeEventListener")}var t,n;return t=e,(n=[{key:"reset",value:function(e,t){this.listenerHandler.removeAllListeners(),this.svgEle=t,this.draw=e,this.listenerHandler=new Jf(this,this.svgEle,"addEventListener","removeEventListener")}},{key:"activate",value:function(){}},{key:"deactivate",value:function(){this.listenerHandler.removeAllListeners()}},{key:"applyStylingToElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.fill("none"),e.stroke({color:"#222",width:2,linecap:"round",linejoin:"round"}),t&&e.stroke({dasharray:"10,10"})}}])&&pp(t.prototype,n),e}();function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yp(e,t,n){return(yp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _p(e,t){return(_p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bp(e,t){return!t||"object"!==mp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_p(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wp(r);if(i){var n=wp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bp(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e,t)).points=[],n.polyline=null,n}return t=s,(n=[{key:"activate",value:function(){yp(wp(s.prototype),"activate",this).call(this),this.listenerHandler.on("mousedown",this.onMouseDown)}},{key:"onMouseDown",value:function(e){this.startCreateElement(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset),this.listenerHandler.on("mousemove",this.onMouseMove),this.intervalId=setInterval(this.continueActionInInterval.bind(this),50),this.listenerHandler.on("mouseup",this.onMouseUp)}},{key:"startCreateElement",value:function(e,t){this.points=[],this.addCurrentPoint(e,t),this.polyline=this.draw.polyline(this.points),this.applyStylingToElement(this.polyline)}},{key:"onMouseMove",value:function(e){this.addCurrentPoint(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset)}},{key:"continueActionInInterval",value:function(){this.polyline.plot(this.points.map((function(e){return[e.x,e.y]})))}},{key:"onMouseUp",value:function(e){this.listenerHandler.removeListener("mouseup"),this.listenerHandler.removeListener("mousemove"),clearInterval(this.intervalId),this.finishCreateElement()}},{key:"finishCreateElement",value:function(){this.polyline.plot(fp()(this.points,1).map((function(e){return[e.x,e.y]}))),this.polyline.node.dispatchEvent(new Ff(this.polyline))}},{key:"addCurrentPoint",value:function(e,t){var n=this.draw.point(e,t);this.points.push({x:n.x,y:n.y})}}])&&vp(t.prototype,n),s}(gp);function kp(e){return(kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t,n){return(Sp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Op(e,t){return!t||"object"!==kp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tp(e){return(Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ep(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tp(r);if(i){var n=Tp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Op(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e,t)).line=null,n.startPoint=[],n.endPoint=[],n.isDrawingLine=!1,n}return t=s,(n=[{key:"activate",value:function(){Sp(Tp(s.prototype),"activate",this).call(this),this.listenerHandler.on("mousedown",this.onMouseDown)}},{key:"deactivate",value:function(){Sp(Tp(s.prototype),"deactivate",this).call(this),this.isDrawingLine&&(this.finishCreateElement(),this.isDrawingLine=!1)}},{key:"onMouseDown",value:function(e){this.isDrawingLine?this.finishDrawing():this.startDrawing(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset)}},{key:"startDrawing",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.startCreateElement(e,t,n,r),this.isDrawingLine=!0,this.listenerHandler.on("mousemove",this.onMouseMove),this.intervalId=setInterval(this.continueActionInInterval.bind(this),50)}},{key:"finishDrawing",value:function(){this.listenerHandler.removeListener("mousemove"),clearInterval(this.intervalId),this.finishCreateElement(),this.isDrawingLine=!1}},{key:"startCreateElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.startPoint=this.pageCoordToCanvasCoord(e,t),this.endPoint=this.startPoint,this.line=this.draw.line([this.startPoint,this.endPoint]),this.applyStylingToElement(this.line,n),r&&this.line.marker("end",3,3,(function(e){e.circle(3).fill("#222")}))}},{key:"onMouseMove",value:function(e){this.endPoint=this.pageCoordToCanvasCoord(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset)}},{key:"continueActionInInterval",value:function(){this.line.plot([this.startPoint,this.endPoint])}},{key:"finishCreateElement",value:function(){this.line.plot([this.startPoint,this.endPoint]),this.line.node.dispatchEvent(new Ff(this.line))}},{key:"pageCoordToCanvasCoord",value:function(e,t){var n=this.draw.point(e,t);return[n.x,n.y]}}])&&jp(t.prototype,n),s}(gp);function Pp(e){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mp(e,t,n){return(Mp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Np(e,t){return(Np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ip(e,t){return!t||"object"!==Pp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rp(e){return(Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dp=Object.freeze({rectangle:"rect",circle:"circle",ellipse:"ellipse"}),Hp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Np(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rp(r);if(i){var n=Rp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ip(this,e)});function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dp.rectangle;return Ap(this,s),(n=o.call(this,e,t)).defaultShape=r,n.shape=r,n.createdShape=null,n.startPoint=[],n.endPoint=[],n}return t=s,(n=[{key:"reset",value:function(e,t){Mp(Rp(s.prototype),"reset",this).call(this,e,t),this.shape=this.defaultShape}},{key:"setshape",value:function(e){this.shape=e}},{key:"activate",value:function(){Mp(Rp(s.prototype),"activate",this).call(this),this.listenerHandler.on("mousedown",this.onMouseDown)}},{key:"onMouseDown",value:function(e){this.startCreateElement(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset),this.isDrawing=!0,this.listenerHandler.on("mousemove",this.onMouseMove),this.intervalId=setInterval(this.continueActionInInterval.bind(this),50),this.listenerHandler.on("mouseup",this.onMouseUp)}},{key:"startCreateElement",value:function(e,t){this.startPoint=this.pageCoordToCanvasCoord(e,t),this.endPoint=this.startPoint;var n=this.calcWidthAndHeight(this.startPoint,this.endPoint),r=n.width,i=n.height;this.createdShape=this.draw[this.shape](r,i),this.createdShape.move(this.startPoint.x,this.startPoint.y),this.applyStylingToElement(this.createdShape)}},{key:"onMouseMove",value:function(e){this.endPoint=this.pageCoordToCanvasCoord(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset)}},{key:"continueActionInInterval",value:function(){this.updateSizeOfCreatedShape(),this.moveShapeToSizeRelatedPos()}},{key:"onMouseUp",value:function(e){this.listenerHandler.removeListener("mouseup"),this.listenerHandler.removeListener("mousemove"),clearInterval(this.intervalId),this.finishCreateElement()}},{key:"finishCreateElement",value:function(){this.updateSizeOfCreatedShape(),this.moveShapeToSizeRelatedPos(),this.createdShape.node.dispatchEvent(new Ff(this.createdShape))}},{key:"pageCoordToCanvasCoord",value:function(e,t){return this.draw.point(e,t)}},{key:"calcWidthAndHeight",value:function(e,t){return{width:e.x<t.x?t.x-e.x:e.x-t.x,height:e.y<t.y?t.y-e.y:e.y-t.y}}},{key:"calcDiameter",value:function(e,t){var n=0,r=0;return n=t.x-e.x,n*=n,r=t.Y-e.Y,r*=r,Math.sqrt(n+r)}},{key:"updateSizeOfCreatedShape",value:function(){var e=this.calcWidthAndHeight(this.startPoint,this.endPoint),t=e.width,n=e.height;this.createdShape.size(t,n)}},{key:"calcSizeRelatedPos",value:function(e,t){var n=0,r=0,i=e.x,o=e.y;return e.x<t.x?(n=t.x-e.x,i=t.x-n):(n=e.x-t.x,i=e.x-n),e.y<t.y?(r=t.y-e.y,o=t.y-r):(r=e.y-t.y,o=e.y-r),{x:i,y:o}}},{key:"moveShapeToSizeRelatedPos",value:function(){var e=this.calcSizeRelatedPos(this.startPoint,this.endPoint),t=e.x,n=e.y;this.createdShape.move(t,n)}}])&&Lp(t.prototype,n),s}(gp);function qp(e){return(qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bp(e,t,n){return(Bp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xp(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wp(e,t){return(Wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $p(e,t){return!t||"object"!==qp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wp(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xp(r);if(i){var n=Xp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $p(this,e)});function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Fp(this,s),(n=o.call(this,e,t)).path=null,n.points=[],n.previewLine=null,n.previewStartPoint=null,n.previewEndPoint=null,n.isDrawing=!1,n.closePath=r,n}return t=s,(n=[{key:"activate",value:function(){Bp(Xp(s.prototype),"activate",this).call(this),this.listenerHandler.on("mousedown",this.onMouseDown)}},{key:"deactivate",value:function(){Bp(Xp(s.prototype),"deactivate",this).call(this),this.isDrawing&&(this.finishCreateElement(),this.isDrawing=!1)}},{key:"onMouseDown",value:function(e){var t=e.pageX+window.pageXOffset,n=e.pageY-window.pageYOffset,r=this.pageCoordToCanvasCoord(t,n);this.isDrawing?this.points.some((function(e){return e.x===r.x&&e.y===r.y}))?(this.listenerHandler.removeListener("mousemove"),clearInterval(this.intervalId),this.isDrawing=!1,this.finishCreateElement()):(this.addCurrentPoint(t,n),this.updatePreviewStartPoint(t,n),this.path.plot(this.buildPathString(this.points))):this.startDrawing(t,n)}},{key:"startDrawing",value:function(e,t){this.startCreateElement(e,t),this.startCreatePreview(),this.isDrawing=!0}},{key:"startCreateElement",value:function(e,t){this.points=[],this.addCurrentPoint(e,t),this.path=this.draw.path(this.buildPathString(this.points)),this.applyStylingToElement(this.path)}},{key:"startCreatePreview",value:function(){if(0!==this.points.length){var e=this.points[this.points.length-1],t=e.x,n=e.y;this.previewStartPoint=[t,n],this.previewEndPoint=this.previewStartPoint,this.previewLine=this.draw.line([this.previewStartPoint,this.previewEndPoint]),this.applyStylingToElement(this.previewLine),this.listenerHandler.on("mousemove",this.onMouseMove),this.intervalId=setInterval(this.continueActionInInterval.bind(this),50)}else console.log("Cannot create preview, no points selected yet. Please call startCreateElement before startCreatePreview.")}},{key:"onMouseMove",value:function(e){var t=this.pageCoordToCanvasCoord(e.pageX+window.pageXOffset,e.pageY-window.pageYOffset),n=t.x,r=t.y;this.previewEndPoint=[n,r]}},{key:"continueActionInInterval",value:function(){this.previewLine.plot([this.previewStartPoint,this.previewEndPoint])}},{key:"finishCreateElement",value:function(){this.previewLine=null,this.previewStartPoint=null,this.previewEndPoint=null,this.path.plot(this.buildPathString(this.points)),this.path.node.dispatchEvent(new Ff(this.path))}},{key:"pageCoordToCanvasCoord",value:function(e,t){var n=this.draw.point(e,t);return{x:n.x,y:n.y}}},{key:"addCurrentPoint",value:function(e,t){var n=this.pageCoordToCanvasCoord(e,t);this.points.push({x:n.x,y:n.y})}},{key:"updatePreviewStartPoint",value:function(e,t){var n=this.pageCoordToCanvasCoord(e,t),r=n.x,i=n.y;this.previewStartPoint=[r,i]}},{key:"buildPathString",value:function(e){for(var t="M "+e[0].x+" "+e[0].y,n=1;n<e.length;n++)t+=" L "+e[n].x+" "+e[n].y;return this.closePath&&(t+=" z"),t}}])&&zp(t.prototype,n),s}(gp);function Up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kp=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.Instance&&e.Instance.deactivate(),e.Instance=this,this.tools=new Map(t),this.defaultToolName=n,this.selectedToolName=null,this.selectedTool=null,this.selectTool(n),this.active=!0}var t,n;return t=e,(n=[{key:"reset",value:function(e,t){this.selectedTool&&(this.selectedTool.deactivate(),this.selectedTool=null),Array.from(this.tools.values()).forEach((function(n){n.reset(e,t)})),this.selectTool(this.defaultToolName),this.active=!0}},{key:"activate",value:function(){this.active||(this.selectedTool.activate(),this.active=!0)}},{key:"deactivate",value:function(){this.active&&(this.selectedTool.deactivate(),this.active=!1)}},{key:"selectTool",value:function(e){this.selectedTool&&this.selectedTool.deactivate();var t=this.getToolByName(e);t?(this.selectedToolName=e,this.selectedTool=t,this.selectedTool.activate()):console.log("ToolManager: Could not select tool with name ",e,"! No such tool known.")}},{key:"getToolByName",value:function(e){return this.tools.get(e)}}])&&Up(t.prototype,n),e}();function Vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Kp,"Instance",void 0);var Gp=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Vp(this,e),this.element=t,this.id=n,this.name="element-"+this.id,this.parent=r,this.children=i||[]};function Qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jp=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.counter=0,this.root=new Gp(t,this.counter++),this.root.name="Sketch",this.eleToNode=new Map,this.eleToNode.set(t,this.root)}var t,n;return t=e,(n=[{key:"addElement",value:function(e,t){var n=this.eleToNode.get(t)||this.root,r=this.counter,i=new Gp(e,r,n);return this.counter++,n.children.push(i),this.eleToNode.set(e,i),r}},{key:"removeElement",value:function(e){var t=this,n=this.eleToNode.get(e),r=n.parent;void 0!==n.children&&n.children.length>0&&n.children.forEach((function(e){t.moveElement(e.element,r.element)})),this.removeElementFromArray(n,r.children),this.eleToNode.delete(e)}},{key:"moveElement",value:function(e,t){var n=this.eleToNode.get(e),r=n.parent;this.removeElementFromArray(n,r.children);var i=this.eleToNode.get(t);console.log("moveElement in tree: eleToNode = ",this.eleToNode,", parentEle = ",t),i.children.push(n),n.parent=i}},{key:"getId",value:function(e){return this.containsElement(e)?this.eleToNode.get(e).id:(console.log("Element ",e," not in tree! Cannot get id."),console.trace(),null)}},{key:"getName",value:function(e){return this.containsElement(e)?this.eleToNode.get(e).name:(console.log("Element ",e," not in tree! Cannot get name."),console.trace(),null)}},{key:"getElementById",value:function(e){var t=Array.from(this.eleToNode.values()).find((function(t){return t.id.toString()===e}));return void 0===t?(console.log("There is no element with id ",e," in the tree!"),null):t.element}},{key:"getParentElement",value:function(e){return this.eleToNode.get(e).parent.element}},{key:"getChildElements",value:function(e){return this.eleToNode.get(e).children.map((function(e){return e.element}))}},{key:"getAllElements",value:function(){return this.eleToNode.keys()}},{key:"renameNode",value:function(e,t){this.eleToNode.get(e).name=t}},{key:"containsElement",value:function(e){return void 0!==this.eleToNode.get(e)}},{key:"removeElementFromArray",value:function(e,t){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}])&&Qp(t.prototype,n),e}(),Zp=n(563),eg=n.n(Zp);function tg(e){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ng(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ig(e,t,n){return t&&rg(e.prototype,t),n&&rg(e,n),e}function og(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ug(e,t)}function sg(e){var t=hg();return function(){var n,r=dg(e);if(t){var i=dg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ag(this,n)}}function ag(e,t){return!t||"object"!==tg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lg(e){var t="function"==typeof Map?new Map:void 0;return(lg=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return cg(e,arguments,dg(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ug(n,e)})(e)}function cg(e,t,n){return(cg=hg()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ug(i,n.prototype),i}).apply(null,arguments)}function hg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ug(e,t){return(ug=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dg(e){return(dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fg=function(e){og(n,e);var t=sg(n);function n(e){var r;return ng(this,n),(r=t.call(this,n.name,{bubbles:!0})).id=e,r}return ig(n,null,[{key:"name",get:function(){return"hierarchy-node-selected"}}]),n}(lg(Event)),pg=function(e){og(n,e);var t=sg(n);function n(e,r){var i;return ng(this,n),(i=t.call(this,n.name,{bubbles:!0})).id=e,i.parentId=r,i}return ig(n,null,[{key:"name",get:function(){return"hierarchy-node-moved"}}]),n}(lg(Event)),gg=function(e){og(n,e);var t=sg(n);function n(e,r){var i;return ng(this,n),(i=t.call(this,n.name,{bubbles:!0})).id=e,i.newName=r,i}return ig(n,null,[{key:"name",get:function(){return"hierarchy-node-renamed"}}]),n}(lg(Event)),mg=function(e){og(n,e);var t=sg(n);function n(e){var r;return ng(this,n),(r=t.call(this,n.name,{bubbles:!0})).id=e,r}return ig(n,null,[{key:"name",get:function(){return"hierarchy-node-deleted"}}]),n}(lg(Event));function vg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yg=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.htmlHierarchyId=t,this.htmlHierarchyRoot=null,this.initHierarchy()}var t,n;return t=e,(n=[{key:"initHierarchy",value:function(){this.htmlHierarchyRoot=eg()(this.htmlHierarchyId);var e=eg().jstree.reference(this.htmlHierarchyRoot);e&&e.destroy(!1),this.htmlHierarchyRoot.jstree({core:{data:[{text:"Sketch",id:0,state:{opened:!0,selected:!0},children:[]}],check_callback:!0},dnd:{copy:!1},plugins:["dnd","wholerow"]}),this.registerHierarchyEvents()}},{key:"registerHierarchyEvents",value:function(){var e=this;this.htmlHierarchyRoot.on("loaded.jstree",(function(t){e.htmlHierarchyRoot.jstree("open_all")})),this.htmlHierarchyRoot.on("refresh.jstree",(function(t){e.htmlHierarchyRoot.jstree("open_all")})),this.htmlHierarchyRoot.on("select_node.jstree",(function(e,t){document.dispatchEvent(new fg(t.node.id))})),this.htmlHierarchyRoot.on("move_node.jstree",(function(e,t){document.dispatchEvent(new pg(t.node.id,t.node.parent))})),this.htmlHierarchyRoot.on("dblclick.jstree",(function(t){var n=e.htmlHierarchyRoot.jstree(!0),r=e.htmlHierarchyRoot.jstree("get_selected",!0);r&&r.length>0&&"0"!==r[0].id&&n.edit(r[0])})),this.htmlHierarchyRoot.on("rename_node.jstree",(function(e,t){document.dispatchEvent(new gg(t.node.id,t.text))})),this.htmlHierarchyRoot.on("delete_node.jstree",(function(e,t){document.dispatchEvent(new mg(t.node.id))}))}},{key:"rebuildHierarchy",value:function(e){var t=this.htmlHierarchyRoot.jstree(!0);t.settings.core.data=[],t.settings.core.data.push(this.generateJsTreeEleForNode(e.root)),t.refresh()}},{key:"generateJsTreeEleForNode",value:function(e){for(var t={text:e.name,id:e.id.toString(),state:{opened:!0,selected:!1},children:[]},n=0;n<e.children.length;n++)t.children.push(this.generateJsTreeEleForNode(e.children[n]));return t}},{key:"deselectAllNodes",value:function(){this.htmlHierarchyRoot.jstree(!0).deselect_all()}},{key:"selectNode",value:function(e){var t=this.htmlHierarchyRoot.jstree().get_selected();if(t&&t.length>0){if(t.includes(e.toString()))return;this.deselectAllNodes()}this.htmlHierarchyRoot.jstree(!0).select_node(e.toString())}},{key:"deleteNode",value:function(e){this.htmlHierarchyRoot.jstree().get_node(e.toString())&&this.htmlHierarchyRoot.jstree(!0).delete_node(e.toString())}}])&&vg(t.prototype,n),e}();function _g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bg=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,e.Instance&&e.Instance.removeListeners(),e.Instance=this,this.elementTree=new Jp(this.svg),this.view=new yg("#hierarchy"),this.htmlNameNodeId="node-id",this.htmlNameGroupParentId="children-from-node-id",this.htmlNameIsSketchPart="sketchPart",this.listenerHandler=new Jf(this,document,"addEventListener","removeEventListener"),this.addListeners()}var t,n;return t=e,(n=[{key:"reset",value:function(e){this.svg=e,this.elementTree=new Jp(this.svg),this.view=new yg("#hierarchy")}},{key:"addListeners",value:function(){var e=this;this.listenerHandler.on(Ff.name,(function(t){e.onSvgElementCreated(t.instance)})),this.listenerHandler.on($f.name,(function(t){e.onSvgElementMoved(t.instance)})),this.listenerHandler.on(Bf.name,(function(t){e.onSvgElementSelected(t.instance)})),this.listenerHandler.on(Yf.name,(function(t){e.onSvgElementDeleted(t.instance)})),this.listenerHandler.on(fg.name,(function(t){e.onHierarchyNodeSelected(t.id)})),this.listenerHandler.on(pg.name,(function(t){e.onHierarchyNodeMoved(t.id,t.parentId)})),this.listenerHandler.on(gg.name,(function(t){e.onHierarchyNodeRenamed(t.id,t.newName)})),this.listenerHandler.on(mg.name,(function(t){e.onHierarchyNodeDeleted(t.id)}))}},{key:"removeListeners",value:function(){this.listenerHandler.removeAllListeners()}},{key:"onSvgElementCreated",value:function(e){e.data(this.htmlNameIsSketchPart,!0);var t=this.findParent(this.svg,e.bbox().x,e.bbox().y,e.bbox().width,e.bbox().height);t&&t!==this.svg&&this.getOrCreateChildrensGroup(t).add(e);var n=this.elementTree.addElement(e,t);e.data(this.htmlNameNodeId,n),this.view.rebuildHierarchy(this.elementTree),this.view.selectNode(n)}},{key:"onSvgElementMoved",value:function(e){var t=this.getParent(e),n=this.findParent(this.svg,e.bbox().x,e.bbox().y,e.bbox().width,e.bbox().height);t!==n&&(this.regroupSvgElement(e,t,n),console.log("onSvgElementMoved old parent: ",t,", new parent: ",n),this.elementTree.moveElement(e,n),this.view.rebuildHierarchy(this.elementTree),e.node.dispatchEvent(new Xf(e,n)))}},{key:"onSvgElementSelected",value:function(e){var t=this.elementTree.getId(e);t&&this.view.selectNode(t)}},{key:"onSvgElementDeleted",value:function(e){this.elementTree.getId(e)&&(this.elementTree.removeElement(e),this.view.rebuildHierarchy(this.elementTree))}},{key:"findParent",value:function(e,t,n,r,i){for(var o=this,s=function(e,t){if(!e)return!0;var n=e.bbox(),r=t.bbox();return n.width*n.height>=r.width*r.height},a=e,l=e.children(),c=0;c<l.length;c++){var h=l[c];if(!h.data(this.htmlNameIsSketchPart)||void 0!==h.node.classList&&(h.node.classList.contains("selection-highlighting")||h.node.classList.contains("selectable-clone")))console.log("child ",h,"is no sketch part, skipping");else if(h.inside(t,n)&&h.inside(t+r,n+i))if(h instanceof ya){var u=this.findParent(h,t,n,r,i);s(a,u)&&(a=u)}else s(a,h)&&(a=h)}if(a!==this.svg&&a instanceof ya){var d=a.data(this.htmlNameGroupParentId);a=Array.from(a.parent().children()).find((function(e){return e.data(o.htmlNameNodeId)===d}))}return a}},{key:"getParent",value:function(e){return this.elementTree.getParentElement(e)}},{key:"getOrCreateChildrensGroup",value:function(e){var t=this,n=e.data(this.htmlNameNodeId),r=e.parent(),i=Array.from(r.children()).find((function(e){return e.data(t.htmlNameGroupParentId)===n}));return i||((i=r.group()).data(this.htmlNameGroupParentId,n),i.data(this.htmlNameIsSketchPart,!0)),i}},{key:"onHierarchyNodeSelected",value:function(e){var t=this.elementTree.getElementById(e);t.node.dispatchEvent(new zf(t))}},{key:"onHierarchyNodeMoved",value:function(e,t){var n=this.elementTree.getElementById(e),r=this.getParent(n),i=this.elementTree.getElementById(t);this.regroupSvgElement(n,r,i),this.elementTree.moveElement(n,i),n.node.dispatchEvent(new Xf(n,i))}},{key:"onHierarchyNodeRenamed",value:function(e,t){var n=this.elementTree.getElementById(e);this.elementTree.renameNode(n,t)}},{key:"onHierarchyNodeDeleted",value:function(e){var t=this.elementTree.getElementById(e);t&&(this.elementTree.removeElement(t),t.remove())}},{key:"regroupSvgElement",value:function(e,t,n){if(n&&n!==t)if(n!==this.svg){var r=e.parent(),i=this.getOrCreateChildrensGroup(n);e.toParent(i),0===r.children().length&&r.remove()}else e.toParent(n)}},{key:"getElementName",value:function(e){return this.elementTree.getName(e)}},{key:"getElementId",value:function(e){return this.elementTree.getId(e)}}])&&_g(t.prototype,n),e}();function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(bg,"Instance",void 0);var xg=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.Instance&&e.Instance.removeAllListeners(),e.Instance=this,this.selectedElement=null,this.isInteractableSelection=!1,this.isDraggableSelection=!1,this.isScalableSelection=!1,this.basicListenerHandler=new Jf(this,document,"addEventListener","removeEventListener"),this.interactableSelectionListenerHandler=new Jf(this,document,"addEventListener","removeEventListener"),this.addBasicListeners()}var t,n;return t=e,(n=[{key:"reset",value:function(){this.isInteractableSelection&&this.removeInteractableListeners(),this.selectedElement=null,this.isInteractableSelection=!1,this.isDraggableSelection=!1,this.isScalableSelection=!1}},{key:"addBasicListeners",value:function(){var e=this;this.basicListenerHandler.on(Ff.name,(function(t){e.onElementCreated(t.instance)})),this.basicListenerHandler.on(zf.name,(function(t){e.selectElement(t.instance)})),this.basicListenerHandler.on(Yf.name,(function(t){e.onElementDeleted(t.instance)}))}},{key:"removeAllListeners",value:function(){this.basicListenerHandler.removeAllListeners(),this.isInteractableSelection&&this.removeInteractableListeners()}},{key:"removeInteractableListeners",value:function(){this.isInteractableSelection&&(this.interactableSelectionListenerHandler.removeAllListeners(),Array.from(bg.Instance.elementTree.getAllElements()).forEach((function(e){e.easierSelectable(!1)})))}},{key:"activateInteractableSelection",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){e instanceof kl||e.easierSelectable(!0,10,(function(){t.selectElement(e)}),n)})),this.interactableSelectionListenerHandler.on(Ff.name,(function(e){e.instance.easierSelectable(!0,10,(function(){t.selectElement(e.instance)}),n)})),this.selectedElement&&r&&this.enableScalableBehaviours(this.selectedElement),this.isInteractableSelection=!0,this.isDraggableSelection=n,this.isScalableSelection=r}},{key:"deactivateInteractableSelection",value:function(e){this.interactableSelectionListenerHandler.removeAllListeners(),this.isInteractableSelection&&e.forEach((function(e){e.easierSelectable(!1)})),this.selectedElement&&this.isScalableSelection&&this.disableScalableBehaviours(this.selectedElement),this.isInteractableSelection=!1,this.isDraggableSelection=!1,this.isScalableSelection=!1}},{key:"onElementCreated",value:function(e){var t=this;this.isInteractableSelection&&e.easierSelectable(!0,10,(function(){t.selectElement(e)})),this.selectElement(e)}},{key:"onElementDeleted",value:function(e){this.deselectElement(e),this.isInteractableSelection&&(this.interactableSelectionListenerHandler.removeTarget(e),e.easierSelectable(!1))}},{key:"selectElement",value:function(e){this.selectedElement!==e&&(this.selectedElement&&this.deselectElement(this.selectedElement),this.selectedElement=e,this.isScalableSelection&&this.enableScalableBehaviours(this.selectedElement),this.selectedElement.highlight(),this.selectedElement.node.dispatchEvent(new Bf(this.selectedElement)))}},{key:"deselectElement",value:function(e){this.isScalableSelection&&this.disableScalableBehaviours(e),e.highlight(!1),e.node.dispatchEvent(new Wf(e))}},{key:"enableScalableBehaviours",value:function(e){e.selectize(!0,{deepSelect:!0}),e.resize()}},{key:"disableScalableBehaviours",value:function(e){e.selectize(!1,{deepSelect:!1}),e.resize(!1)}}])&&wg(t.prototype,n),e}();function kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xg,"Instance",new xg);var jg=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"addRepeatableBehaviour",value:function(e){e.semRepeatable()}},{key:"removeRepeatableBehaviour",value:function(e){e.isSemRepeatable()&&e.semRepeatable(!1)}},{key:"isSemRepeatable",value:function(e){return e.isSemRepeatable()}},{key:"getSemRepeatableConfigOfElement",value:function(e){return e.semRepeatableConfig()}},{key:"activateRepeatTypeDirections",value:function(e){if(e.isSemRepeatable()){var t=e.semRepeatableConfig().directions;if(void 0!==t&&t.length>0){var n=t.findIndex((function(e){return 0===e.x&&0===e.y}));n>-1&&t.splice(n,1)}e.updateSemRepeatable(t,void 0,null)}}},{key:"deactivateRepeatTypeDirections",value:function(e){if(e.isSemRepeatable()){var t=e.semRepeatableConfig().directions;void 0!==t&&0!==t.length&&(Array.from(this.vectorMap.values()).forEach((function(e){if(!(0===e.x&&0===e.y||e.x>-1&&e.x<0||e.x>0&&e.x<1||e.y>-1&&e.y<0||e.y>0&&e.y<1)){var n=t.findIndex((function(t){return e.x===t.x&&e.y===t.y}));n>-1&&t.splice(n,1)}})),e.updateSemRepeatable(t))}}},{key:"activateRepeatTypeGrid",value:function(e){if(e.isSemRepeatable()){var t=e.semRepeatableConfig().directions;void 0!==t?t.push(new Of(0,0)):t=[new Of(0,0)],e.updateSemRepeatable(t,void 0,null)}}},{key:"deactivateRepeatTypeGrid",value:function(e){if(e.isSemRepeatable()){var t=e.semRepeatableConfig().directions;if(void 0!==t&&0!==t.length){var n=t.findIndex((function(e){return 0===e.x&&0===e.y}));n>-1&&t.splice(n,1),e.updateSemRepeatable(t)}}}},{key:"activateRepeatTypeCustomDirections",value:function(e){this.activateRepeatTypeDirections(e)}},{key:"deactivateRepeatTypeCustomDirections",value:function(e){var t=this;if(e.isSemRepeatable()){var n=e.semRepeatableConfig().directions;n=n.filter((function(e){return!Array.from(t.vectorMap.values()).find((function(t){return e.x===t.x&&e.y===t.y}))})),e.updateSemRepeatable(n)}}},{key:"activateRepeatTypePath",value:function(e){e.isSemRepeatable()&&e.updateSemRepeatable([],void 0,void 0,void 0,new Map([[new Of(-1,-1),-1],[new Of(0,-1),-1],[new Of(1,-1),-1],[new Of(-1,0),-1],[new Of(1,0),-1],[new Of(-1,1),-1],[new Of(0,1),-1],[new Of(1,1),-1]]))}},{key:"deactivateRepeatTypePath",value:function(e){e.isSemRepeatable()&&e.updateSemRepeatable(void 0,void 0,null)}},{key:"activateAddingOfCustomDirection",value:function(e){if(e.isSemRepeatable()){Kp.Instance.activate();var t=Kp.Instance.selectedToolName;Kp.Instance.selectTool("straightLine");var n=e.node.getBoundingClientRect(),r=new Of(n.x+n.width/2,n.y+n.height/2);Kp.Instance.selectedTool.startDrawing(r.x,r.y),e.semRepeatableConfig().amount,document.addEventListener(Ff.name,(function(n){n.stopImmediatePropagation();var i=e.semRepeatableConfig(),o=i.directions,s=i.amount,a=Kp.Instance.selectedTool.endPoint,l=document.querySelector("svg").getBoundingClientRect();a=new Of(a[0]+l.x,a[1]+l.y);var c=new Of(a.x-r.x,a.y-r.y);c.normalize(),void 0!==o?o.push(c):o=[c],s.set(c,-1),e.updateSemRepeatable(o,void 0,void 0,void 0,s),n.instance.remove(),Kp.Instance.selectTool(t),Kp.Instance.deactivate()}),{once:!0,capture:!0})}}},{key:"activateAddingOfPath",value:function(e){if(e.isSemRepeatable()){console.log("activate adding of path"),Kp.Instance.activate();var t=Kp.Instance.selectedToolName;Kp.Instance.selectTool("path");var n=e.node.getBoundingClientRect(),r=new Of(n.x+n.width/2,n.y+n.height/2);Kp.Instance.selectedTool.startDrawing(r.x,r.y),document.addEventListener(Ff.name,(function(n){console.log("on path created"),n.stopImmediatePropagation(),e.updateSemRepeatable(void 0,void 0,n.instance),Kp.Instance.selectTool(t),Kp.Instance.deactivate()}),{once:!0,capture:!0})}}},{key:"toggleRepeatDir",value:function(e,t){if(e.isSemRepeatable()){var n=e.semRepeatableConfig().directions,r=this.vectorMap.get(t),i=n.findIndex((function(e){return r.x===e.x&&r.y===e.y}));i>-1?n.splice(i,1):n.push(r),e.updateSemRepeatable(n)}}},{key:"updateAmountOfDir",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.isSemRepeatable()&&null!==t){var i=e.semRepeatableConfig(),o=i.directions,s=i.amount,a=this.getDirKeyInAmountMap(s,t);if(void 0===a||s.get(a)!==n){var l=o.findIndex((function(e){return 0===e.x&&0===e.y}));if(l<0){var c=o.findIndex((function(e){return t.x===e.x&&t.y===e.y}));c>-1&&r&&0===n?(console.log("direction is removed"),o.splice(c,1)):c<0&&(!r||r&&0!==n)&&o.push(t)}void 0!==a?r&&0===n&&!Array.from(this.vectorMap.values()).find((function(e){return t.x===e.x&&t.y===e.y}))?s.remove(a):s.set(a,n):s.set(t,n),e.updateSemRepeatable(o,void 0,void 0,void 0,s,void 0)}}}},{key:"updateRepeatSymmetrically",value:function(e,t){e.isSemRepeatable()&&e.updateSemRepeatable(void 0,t)}},{key:"updateRotateAlongPath",value:function(e,t){e.isSemRepeatable()&&e.updateSemRepeatable(void 0,void 0,void 0,t,void 0,void 0)}},{key:"updateMargin",value:function(e,t){e.isSemRepeatable()&&e.updateSemRepeatable(void 0,void 0,void 0,void 0,void 0,t)}},{key:"updateTestIntersections",value:function(e,t){e.isSemRepeatable()&&e.updateSemRepeatable(void 0,void 0,void 0,void 0,void 0,void 0,t)}},{key:"deleteCustomDir",value:function(e,t){if(e.isSemRepeatable()){var n=e.semRepeatableConfig(),r=n.directions,i=n.amount,o=r.findIndex((function(e){return t.x===e.x&&t.y===e.y}));o>-1&&(r.splice(o,1),i.delete(this.getDirKeyInAmountMap(i,t))),e.updateSemRepeatable(r,void 0,void 0,void 0,i)}}},{key:"deletePath",value:function(e){e.isSemRepeatable()&&e.updateSemRepeatable(void 0,void 0,null)}},{key:"getDirKeyInAmountMap",value:function(e,t){return Array.from(e.keys()).find((function(e){return e.x===t.x&&e.y===t.y}))}}],null&&kg(t.prototype,null),n&&kg(t,n),e}();function Sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(jg,"vectorMap",new Map([["top_left",new Of(-1,-1)],["top",new Of(0,-1)],["top_right",new Of(1,-1)],["left",new Of(-1,0)],["grid",new Of(0,0)],["right",new Of(1,0)],["bottom_left",new Of(-1,1)],["bottom",new Of(0,1)],["bottom_right",new Of(1,1)]]));var Eg=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"addStretchableBehaviour",value:function(e){e.semStretchable()}},{key:"removeStretchableBehaviour",value:function(e){e.isSemStretchable()&&e.semStretchable(!1)}},{key:"isSemStretchable",value:function(e){return e.isSemStretchable()}},{key:"getSemStretchableConfigOfElement",value:function(e){return e.semStretchableConfig()}},{key:"updateHorizontalFactor",value:function(e,t){e.isSemStretchable()&&e.updateSemStretchable(t)}},{key:"updateVerticalFactor",value:function(e,t){e.isSemStretchable()&&e.updateSemStretchable(void 0,t)}},{key:"updateUpdatePos",value:function(e,t){e.isSemStretchable()&&e.updateSemStretchable(void 0,void 0,t)}}],null&&Sg(t.prototype,null),n&&Sg(t,n),e}();function Og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tg=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"addAnchoableBehabiour",value:function(e){e.semAnchorable()}},{key:"removeAnchorableBehaviour",value:function(e){e.isSemAnchorable()&&e.semAnchorable(!1)}},{key:"isSemAnchorable",value:function(e){return e.isSemAnchorable()}},{key:"getSemAnchorableConfigOfElement",value:function(e){return e.semAnchorableConfig()}},{key:"activateAddingOfAnchorPoint",value:function(e){if(e.isSemAnchorable()){var t=Array.from(bg.Instance.elementTree.getAllElements()),n=xg.Instance.isInteractableSelection,r=xg.Instance.isDraggableSelection,i=xg.Instance.isScalableSelection;n&&xg.Instance.deactivateInteractableSelection(t),Kp.Instance.activate();var o=Kp.Instance.selectedToolName;Kp.Instance.selectTool("straightLine");var s=e.node.getBoundingClientRect(),a=new Of(s.x+s.width/2,s.y+s.height/2);Kp.Instance.selectedTool.startDrawing(a.x,a.y,!0,!0),document.addEventListener(Ff.name,(function(s){s.stopImmediatePropagation();var a=Kp.Instance.selectedTool.endPoint,l=document.querySelector("svg").getBoundingClientRect(),c=new Of(a[0]+l.x,a[1]+l.y);e.updateSemAnchorable(c),s.instance.remove(),Kp.Instance.selectTool(o),Kp.Instance.deactivate(),n&&xg.Instance.activateInteractableSelection(t,r,i)}),{once:!0,capture:!0})}}}],null&&Og(t.prototype,null),n&&Og(t,n),e}();function Cg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ag=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#inspector",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#inspector-name",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#inspector-type",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#inspector-components",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#inspector-semantic-repeat-card",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#inspector-semantic-stretch-card",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#inspector-semantic-anchor-card";Cg(this,e),this.htmlInspector=document.querySelector(n),this.htmlEleName=document.querySelector(r),this.htmlEleType=document.querySelector(i),this.htmlComponents=document.querySelector(o),this.htmlSemanticRepeatCard=document.querySelector(s),this.htmlSemanticStretchCard=document.querySelector(a),this.htmlSemanticAnchorCard=document.querySelector(l),this.currentEle=null,this.repeatable=!1,this.htmlInspector.hidden=!0,document.addEventListener(Bf.name,(function(e){t.showEleMetadata(e.instance)})),document.addEventListener(Uf.name,(function(e){t.showEleMetadata(e.instance)})),document.addEventListener(Yf.name,(function(e){e.instance===t.currentEle&&(t.htmlInspector.hidden=!0)}));var c=this.htmlSemanticRepeatCard.querySelector("#remove-sem-repeat-btn");c.addEventListener("click",(function(e){jg.removeRepeatableBehaviour(t.currentEle),Eg.isSemStretchable(t.currentEle)||Tg.isSemAnchorable(t.currentEle)||t.currentEle.geoScalable()}));var h=this.htmlSemanticRepeatCard.querySelector("#inspector-repeat-types-btn-group").querySelectorAll("button");h.forEach((function(e){return e.addEventListener("click",(function(n){t.onSemRepeatTypeButtonClick(e)}))}));var u=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="directions"]'),d=u.querySelectorAll(".repeat-direction");d.forEach((function(e){return e.addEventListener("change",(function(n){var r=jg.vectorMap.get(e.dataset.repeatDirection),i=Number.parseInt(e.value,10);jg.updateAmountOfDir(t.currentEle,r,i,!0)}))}));var f=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="grid"]'),p=f.querySelector("#repeat-symmetrically"),g=f.querySelectorAll(".repeat-amount-symmetric"),m=f.querySelectorAll(".repeat-amount-asymmetric");p.addEventListener("click",(function(e){p.checked?(g.forEach((function(e){e.classList.remove("d-none")})),m.forEach((function(e){e.classList.add("d-none")})),jg.updateRepeatSymmetrically(t.currentEle,!0)):(m.forEach((function(e){e.classList.remove("d-none")})),g.forEach((function(e){e.classList.add("d-none")})),jg.updateRepeatSymmetrically(t.currentEle,!1))}));var v=f.querySelectorAll(".repeat-grid-amount");v.forEach((function(e){e.addEventListener("change",(function(n){var r=jg.vectorMap.get(e.dataset.repeatDirection),i=Number.parseInt(e.value,10);jg.updateAmountOfDir(t.currentEle,r,i)}))}));var y=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="direction"]'),_=y.querySelector("#repeat-add-custom-dir-btn");_.addEventListener("click",(function(e){jg.activateAddingOfCustomDirection(t.currentEle)}));var b=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="path"]'),w=b.querySelector("#repeat-define-path-btn");w.addEventListener("click",(function(e){jg.activateAddingOfPath(t.currentEle)}));var x=b.querySelector("#repeat-path-show-btn");x.addEventListener("click",(function(e){var n=jg.getSemRepeatableConfigOfElement(t.currentEle).path;n.node.classList.contains("d-none")?n.node.classList.remove("d-none"):n.node.classList.add("d-none")}));var k=b.querySelector("#repeat-path-edit-btn");k.addEventListener("click",(function(e){}));var j=b.querySelector("#repeat-path-delete-btn");j.addEventListener("click",(function(e){jg.deletePath(t.currentEle)}));var S=b.querySelector("#repeat-along-path-with-rotation");S.addEventListener("click",(function(e){jg.updateRotateAlongPath(t.currentEle,S.checked)}));var E=this.htmlSemanticRepeatCard.querySelector(".repeat-margin");E.addEventListener("input",(function(e){jg.updateMargin(t.currentEle,Number.parseInt(E.value,10))}));var O=this.htmlSemanticRepeatCard.querySelector("#repeat-test-intersections");O.addEventListener("click",(function(e){jg.updateTestIntersections(t.currentEle,O.checked)}));var T=this.htmlSemanticStretchCard.querySelector("#remove-sem-stretch-btn");T.addEventListener("click",(function(e){Eg.removeStretchableBehaviour(t.currentEle),jg.isSemRepeatable(t.currentEle)||Tg.isSemAnchorable(t.currentEle)||t.currentEle.geoScalable()}));var C=this.htmlSemanticStretchCard.querySelector("#stretch-factor-horizontal");C.addEventListener("change",(function(e){Eg.updateHorizontalFactor(t.currentEle,Number.parseFloat(C.value))}));var P=this.htmlSemanticStretchCard.querySelector("#stretch-factor-vertical");P.addEventListener("change",(function(e){Eg.updateVerticalFactor(t.currentEle,Number.parseFloat(P.value))}));var A=this.htmlSemanticAnchorCard.querySelector("#remove-sem-anchor-btn");A.addEventListener("click",(function(e){Tg.removeAnchorableBehaviour(t.currentEle),Eg.isSemStretchable(t.currentEle)&&Eg.updateUpdatePos(t.currentEle,!0),jg.isSemRepeatable(t.currentEle)||Eg.isSemStretchable(t.currentEle)||t.currentEle.geoScalable()}));var L=this.htmlSemanticAnchorCard.querySelector("#anchor-define-anchor-point-btn");L.addEventListener("click",(function(e){Tg.activateAddingOfAnchorPoint(t.currentEle)}));var M=this.htmlSemanticAnchorCard.querySelector("#anchor-edit-btn");M.addEventListener("click",(function(e){Tg.activateAddingOfAnchorPoint(t.currentEle)}))}var t,n;return t=e,(n=[{key:"reset",value:function(){this.currentEle=null,this.repeatable=!1,this.htmlInspector.hidden=!0}},{key:"showEleMetadata",value:function(e){var t=this;if(this.htmlEleName.innerHTML=bg.Instance.getElementName(e),this.htmlEleType.innerHTML=e.type,this.repeatable=jg.isSemRepeatable(e),this.htmlSemanticRepeatCard.hidden=!this.repeatable,this.repeatable){var n=jg.getSemRepeatableConfigOfElement(e),r=n.directions,i=n.repeatSymmetrically,o=n.path,s=n.rotateAlongPath,a=n.amount,l=n.margin,c=n.testIntersections,h=[];this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="directions"]').querySelectorAll(".repeat-direction").forEach((function(e){var t=jg.vectorMap.get(e.dataset.repeatDirection);r.findIndex((function(e){return t.x===e.x&&t.y===e.y}))>-1&&(h.includes("directions")||h.push("directions"),e.value=a.get(jg.getDirKeyInAmountMap(a,t)))})),r.findIndex((function(e){return 0===e.x&&0===e.y}))>-1&&h.push("grid");var u=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="grid"]');u.querySelector("#repeat-symmetrically").checked=i;var d=u.querySelectorAll(".repeat-amount-symmetric"),f=u.querySelectorAll(".repeat-amount-asymmetric");i?(d.forEach((function(e){e.classList.remove("d-none")})),f.forEach((function(e){e.classList.add("d-none")}))):(f.forEach((function(e){e.classList.remove("d-none")})),d.forEach((function(e){e.classList.add("d-none")}))),u.querySelectorAll(".repeat-grid-amount").forEach((function(e){var t=jg.vectorMap.get(e.dataset.repeatDirection);e.value=a.get(jg.getDirKeyInAmountMap(a,t))}));var p=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="direction"]');if(r.length>0){var g=r.filter((function(e){return e.x>-1&&e.x<0||e.x>0&&e.x<1||e.y>-1&&e.y<0||e.y>0&&e.y<1}));void 0!==g&&g.length>0&&(h.push("direction"),g.forEach((function(e){var n=a.get(jg.getDirKeyInAmountMap(a,e)),r=e.slopeAngle(),i=p.querySelector('[data-custom-dir-x="'.concat(e.x,'"][data-custom-dir-y="').concat(e.y,'"]'));if(i)i.amount=n;else{p.insertAdjacentHTML("beforeend",'\n                                    <custom-dir-line \n                                    angle="'.concat(r,'"\n                                    amount="').concat(n,'" \n                                    data-custom-dir-x="').concat(e.x,'"\n                                    data-custom-dir-y="').concat(e.y,'">\n                                    </custom-dir-line>\n                                '));var o=p.querySelector('[data-custom-dir-x="'.concat(e.x,'"][data-custom-dir-y="').concat(e.y,'"]'));o.addEventListener("amount-changed",(function(n){var r=Number.parseInt(o.amount,10);jg.updateAmountOfDir(t.currentEle,e,r)})),o.addEventListener("delete",(function(n){o.remove(),jg.deleteCustomDir(t.currentEle,e)}))}})))}var m=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="path"]'),v=m.querySelector("#repeat-define-path-btn"),y=m.querySelector("#repeat-path-line");o?(h.push("path"),v.classList.add("d-none"),y.classList.remove("d-none"),m.querySelector("#repeat-path-coordinates-div").innerHTML=o.array().join()):(v.classList.remove("d-none"),y.classList.add("d-none")),this.htmlSemanticRepeatCard.querySelector("#repeat-along-path-with-rotation").checked=s;var _=[];h.includes("path")?_.push("path"):h.includes("grid")?_.push("grid"):(h.includes("directions")&&_.push("directions"),h.includes("direction")&&_.push("direction")),this.htmlSemanticRepeatCard.querySelector("#inspector-repeat-types-btn-group").querySelectorAll("button").forEach((function(e){var n=e.dataset.repeatType,r=t.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="'.concat(n,'"]'));_.includes(n)?(e.classList.replace("btn-outline-secondary","btn-outline-primary"),r&&r.classList.remove("d-none")):(e.classList.replace("btn-outline-primary","btn-outline-secondary"),r&&r.classList.add("d-none"))}));var b=this.htmlSemanticRepeatCard.querySelector("#repeat-margin-div");b.querySelector(".repeat-margin").value=l;var w=this.htmlSemanticRepeatCard.querySelector("#repeat-test-intersections-div");w.querySelector("#repeat-test-intersections").checked=c,_.length>0?(b.classList.remove("d-none"),w.classList.remove("d-none")):(b.classList.add("d-none"),w.classList.add("d-none"))}var x=Eg.isSemStretchable(e);if(this.htmlSemanticStretchCard.hidden=!x,x){var k=Eg.getSemStretchableConfigOfElement(e),j=k.horizontalFactor,S=k.verticalFactor,E=this.htmlSemanticStretchCard.querySelector("#stretch-factor-horizontal"),O=this.htmlSemanticStretchCard.querySelector("#stretch-factor-vertical");E.value=j,O.value=S}var T=Tg.isSemAnchorable(e);if(this.htmlSemanticAnchorCard.hidden=!T,T){var C=Tg.getSemAnchorableConfigOfElement(e).anchorPoint,P=this.htmlSemanticAnchorCard.querySelector("#anchor-define-anchor-point-btn"),A=this.htmlSemanticAnchorCard.querySelector("#anchor-point-line");C?(P.classList.add("d-none"),A.classList.remove("d-none"),A.querySelector("#anchor-point-coordinates").innerHTML="\n                    (".concat(C.x.toFixed(2),", ").concat(C.y.toFixed(2),")\n                ")):(P.classList.remove("d-none"),A.classList.add("d-none"))}this.currentEle=e,this.htmlInspector.hidden=!1}},{key:"onSemRepeatTypeButtonClick",value:function(e){var t=this;if(this.repeatable){var n=this.htmlSemanticRepeatCard.querySelector("#inspector-repeat-types-btn-group").querySelectorAll(".btn-outline-primary"),r=e.dataset.repeatType,i=this.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="'.concat(r,'"]'));if(Array.from(n).includes(e)){if(e.classList.replace("btn-outline-primary","btn-outline-secondary"),i.classList.add("d-none"),1===n.length){var o=this.htmlSemanticRepeatCard.querySelector("#repeat-margin-div"),s=this.htmlSemanticRepeatCard.querySelector("#repeat-test-intersections-div");o.classList.add("d-none"),s.classList.add("d-none"),jg.removeRepeatableBehaviour(this.currentEle)}this.deactivateRepeatType(r)}else n.forEach((function(e){var n=e.dataset.repeatType;"directions"===n&&"direction"===r||"direction"===n&&"directions"===r||(e.classList.replace("btn-outline-primary","btn-outline-secondary"),t.htmlSemanticRepeatCard.querySelector('div[data-repeat-type="'.concat(n,'"]')).classList.add("d-none"),t.deactivateRepeatType(n))})),e.classList.replace("btn-outline-secondary","btn-outline-primary"),i.classList.remove("d-none"),"grid"===r&&jg.activateRepeatTypeGrid(this.currentEle)}}},{key:"deactivateRepeatType",value:function(e){switch(e){case"directions":jg.deactivateRepeatTypeDirections(this.currentEle);break;case"grid":jg.deactivateRepeatTypeGrid(this.currentEle);break;case"direction":jg.deactivateRepeatTypeCustomDirections(this.currentEle);break;case"path":jg.deactivateRepeatTypePath(this.currentEle)}}}])&&Pg(t.prototype,n),e}();function Lg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mg=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),document.querySelector("#toolbarExport").addEventListener("click",(function(e){t.export()}))}var t,n;return t=e,(n=[{key:"export",value:function(){var e=document.querySelector("svg");if(e){var t=Hl(e).svg((function(e){return(void 0===e.node.classList||!e.node.classList.contains("selection-highlighting")&&!e.node.classList.contains("selectable-clone"))&&("svg"===e.type||"use"===e.type||!!e.data("sketchPart"))&&e})),n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download","drawing.svg"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else console.log("There is nothing to export!")}}])&&Lg(t.prototype,n),e}();function Ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ig=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.htmlId="#popup-menu",this.htmlPopupToolbarsId="#popup-menu-toolbars",this.htmlPopupMainToolbarId="#popup-main-toolbar",this.htmlPopupSurroundingElementsId="#popup-menu-surrounding-elements",this.htmlSemRepeatBtnId="#popup-sem-repeat",this.htmlSemStretchBtnId="#popup-sem-stretch",this.htmlSemAnchorBtnId="#popup-sem-anchor",this.htmlSemRepeatToolbarId="#sem-repeat-toolbar",this.htmlSemRepeatSurrElemsId="#popup-surrounding-elements-sem-repeat",this.htmlSurrRepeatDirsElemsId="#repeat-dirs-surr-elems",this.htmlRepeatDirsNumInputsId="#repeat-dirs-num-inputs",this.htmlSurrRepeatGridElemsId="#repeat-grid-surr-elems",this.htmlSurrRepeatPathElemsId="#repeat-path-surr-elems",this.htmlRepeatPathRotationToggleId="#repeat-path-rotation-toggle",this.htmlSemStretchSurrElemsId="#popup-surrounding-elements-sem-stretch",this.htmlSemAnchorSurrElemsId="#popup-surrounding-elements-sem-anchor",this.verticalOffset=25,this.selectedElement=null,this.selectedSemType=null,this.currentRepeatType=null,this.selectedRepeatType=null;var t=this.createPopupMenu();document.querySelector("#root").appendChild(t),this.initPopupMenu(),this.listenerHandler=new Jf(this,document,"addEventListener","removeEventListener"),this.observerHandler=new Gf}var t,n;return t=e,(n=[{key:"activate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.listenerHandler.on(Bf.name,(function(t){e.showMenu(t.instance)})),this.listenerHandler.on(Wf.name,(function(t){e.hideMenu()})),this.listenerHandler.on(Uf.name,(function(t){e.initMenuWithElementsMetadata(t.instance)})),this.listenerHandler.on(Yf.name,(function(t){null!=e.selectedElement&&e.selectedElement===t.instance&&e.hideMenu()})),t&&this.showMenu(t)}},{key:"deactivate",value:function(){this.listenerHandler.removeAllListeners(),this.hideMenu()}},{key:"createPopupMenu",value:function(){var e=document.createElement("div");return e.id="popup-menu",e.style.zIndex=1,e.classList.add("d-none"),e.style.pointerEvents="none",e.appendChild(this.createToolbars()),e.appendChild(this.createSurroundingElements()),e}},{key:"createToolbars",value:function(){var e=document.createElement("div");return e.id="popup-menu-toolbars",e.style.position="absolute",e.innerHTML='\n            <div id="popup-main-toolbar" class="btn-toolbar mb-1" style="pointer-events: auto">\n                <div class="btn-group" role="group">\n                    <button id="popup-sem-repeat" type="button" class="btn btn-secondary" data-sem-type="repeat"\n                            data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" title="Set semantic repeat behaviour">\n                        <span class="fas fa-table"></span>\n                    </button>\n                    <button id="popup-sem-stretch" type="button" class="btn btn-secondary" data-sem-type="stretch" data-bs-toggle="tooltip"\n                            data-bs-placement="bottom" data-bs-trigger="hover" title="Set semantic stretch behaviour">\n                        <span class="fas fa-compress"></span>\n                    </button>\n                    <button id="popup-sem-anchor" type="button" class="btn btn-secondary" data-sem-type="anchor" data-bs-toggle="tooltip"\n                            data-bs-placement="bottom" data-bs-trigger="hover" title="Mark semantic anchor">\n                        <span class="fas fa-anchor"></span>\n                    </button>\n                </div>\n            </div>\n            <div id="sem-repeat-toolbar" class="btn-toolbar d-none" style="pointer-events: auto">\n                <div class="btn-group btn-group-sm" role="group">\n                    <button type="button" class="btn btn-outline-secondary" data-repeat-type="directions"\n                            data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" title="Repeat in defined directions">\n                        <span class="fas fa-arrows-alt"></span>\n                    </button>\n                    <button type="button" class="btn btn-outline-secondary" data-repeat-type="grid" data-bs-toggle="tooltip"\n                            data-bs-placement="bottom" data-bs-trigger="hover" title="Repeat in grid">\n                        <span class="fas fa-th"></span>\n                    </button>\n                    <button type="button" class="btn btn-outline-secondary" data-repeat-type="direction" data-bs-toggle="tooltip"\n                            data-bs-placement="bottom" data-bs-trigger="hover" title="Define direction to repeat in">\n                        <span class="fas fa-long-arrow-alt-right"></span>\n                    </button>\n                    <button type="button" class="btn btn-outline-secondary" data-repeat-type="path"\n                            data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" title="Define path to repeat along">\n                        <span class="fas fa-wave-square"></span>\n                    </button>\n                    <button type="button" class="btn btn-outline-secondary" data-repeat-type="at_element" data-bs-toggle="tooltip"\n                            data-bs-placement="bottom" data-bs-trigger="hover" title="Select element to repeat at" disabled>\n                        <span class="fas fa-vector-square"></span>\n                    </button>\n                    <button type="button" class="btn btn-outline-secondary" data-repeat-type="at_line" data-bs-toggle="tooltip"\n                            data-bs-placement="bottom" data-bs-trigger="hover" title="Mark line to repeat along" disabled>\n                        <span class="fas fa-highlighter"></span>\n                    </button>\n                </div>\n            </div>\n        ',e}},{key:"createSurroundingElements",value:function(){var e=document.createElement("div");e.id="popup-menu-surrounding-elements",e.style.position="absolute",e.classList.add("d-none");var t=function(e,t,n,r,i){return'\n            <div style="position: absolute; '.concat(e,": ").concat(t,"%; ").concat(n,": ").concat(r,"%; transform: translate(-").concat(Math.max(r,0),"%, -").concat(Math.max(t,0),'%); pointer-events: auto">\n                ').concat(i,"\n            </div>\n        ")},n=function(e,t,n,r,i,o,s){return"\n                <button id=".concat(e,' type="button" class="btn btn-outline-secondary ').concat(t,'"\n                        ').concat(o,'="').concat(s,'"\n                        data-bs-toggle="tooltip" data-bs-placement="bottom" \n                        data-bs-trigger="hover" title=').concat(n,'>\n                    <span style="transform: rotate(').concat(i,'deg)" class="fas ').concat(r,'"></span>\n                </button>\n        ')};e.innerHTML='\n            <div id="popup-surrounding-elements-sem-repeat" class="popup-surr-elements-of-sem-type" data-sem-type="repeat" style="position: relative; width: 100%; height: 100%">\n                <div id="repeat-dirs-surr-elems" class="repeat-surr-elems d-none" style="position: relative; width: 100%; height: 100%" data-repeat-type="directions" data-overflow-width="100" data-overflow-height="100">\n                    <div id="repeat-dirs-num-inputs" class="d-none" style="position: relative; width: 100%; height: 100%">\n                        '.concat(t("top",-50,"left",-50,'\n                            <num-input class="d-none" data-repeat-direction="top_left"></num-input>\n                        '),"\n                        ").concat(t("top",-50,"left",50,'\n                            <num-input class="d-none" data-repeat-direction="top"></num-input>\n                        '),"\n                        ").concat(t("top",-50,"right",-50,'\n                            <num-input class="d-none" data-repeat-direction="top_right"></num-input>\n                        '),"\n                        ").concat(t("top",50,"left",-50,'\n                            <num-input class="d-none" data-repeat-direction="left"></num-input>\n                        '),"\n                        ").concat(t("top",50,"right",-50,'\n                            <num-input class="d-none" data-repeat-direction="right"></num-input>\n                        '),"\n                        ").concat(t("bottom",-50,"left",-50,'\n                            <num-input class="d-none" data-repeat-direction="bottom_left"></num-input>\n                        '),"\n                        ").concat(t("bottom",-50,"left",50,'\n                            <num-input class="d-none" data-repeat-direction="bottom"></num-input>\n                        '),"\n                        ").concat(t("bottom",-50,"right",-50,'\n                            <num-input class="d-none" data-repeat-direction="bottom_right"></num-input>\n                        '),"\n                    </div>                    \n                    ").concat(t("top",0,"left",0,"\n                        ".concat(n("repeat-dir-top-left","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-up",-45,"data-repeat-direction","top_left"),"\n                    ")),"\n                    ").concat(t("top",0,"left",50,"\n                        ".concat(n("repeat-dir-top","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-up",0,"data-repeat-direction","top"),"\n                    ")),"\n                    ").concat(t("top",0,"right",0,"\n                        ".concat(n("repeat-dir-top-right","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-up",45,"data-repeat-direction","top_right"),"\n                    ")),"\n                    ").concat(t("top",50,"left",0,"\n                        ".concat(n("repeat-dir-left","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-left",0,"data-repeat-direction","left"),"\n                    ")),"\n                    ").concat(t("top",50,"right",0,"\n                        ".concat(n("repeat-dir-right","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-right",0,"data-repeat-direction","right"),"\n                    ")),"\n                    ").concat(t("bottom",0,"left",0,"\n                        ".concat(n("repeat-dir-bottom-left","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-down",45,"data-repeat-direction","bottom_left"),"\n                    ")),"\n                    ").concat(t("bottom",0,"left",50,"\n                        ".concat(n("repeat-dir-bottom","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-down",0,"data-repeat-direction","bottom"),"\n                    ")),"\n                    ").concat(t("bottom",0,"right",0,"\n                        ".concat(n("repeat-dir-bottom-right","repeat-direction-btn","repeat element in this direction","fa-long-arrow-alt-down",-45,"data-repeat-direction","bottom_right"),"\n                    ")),'\n                </div>\n                <div id="repeat-grid-surr-elems" class="repeat-surr-elems d-none" style="position: relative; width: 100%; height: 100%" data-repeat-type="grid" data-overflow-width="190" data-overflow-height="150">\n                    ').concat(t("top",0,"left",50,'\n    \x3c!--                    <span class="fa fa-arrows-alt-v"></span>--\x3e\n                        <num-input id="num-input-grid-top" data-repeat-direction="top"></num-input>\n                    '),"\n                    ").concat(t("top",0,"right",0,"\n                        ".concat(n("repeat-grid-symmetry-toggle","","toggle symmetric repeat","fa-link",0,"data-repeat-symmetrically",!0),"\n                    ")),"\n                    ").concat(t("top",50,"left",0,'\n                        <num-input id="num-input-grid-left" class="d-none asymmetric-repeat-amount" data-repeat-direction="left"></num-input>\n                    '),"\n                    ").concat(t("top",50,"right",0,'\n                        <num-input id="num-input-grid-right" data-repeat-direction="right"></num-input>    \n    \x3c!--                    <span class="fa fa-arrows-alt-h" style="width: 100%"></span>--\x3e\n                    ')," \n                    ").concat(t("bottom",0,"left",50,'\n                        <num-input id="num-input-grid-bottom" class="d-none asymmetric-repeat-amount" data-repeat-direction="bottom"></num-input>\n                    '),'\n                </div>\n                <div id="repeat-direction-surr-elems" class="repeat-surr-elems d-none" style="position: relative; width: 100%; height: 100%" data-repeat-type="direction" data-overflow-width="110" data-overflow-height="110">\n                </div>\n                <div id="repeat-path-surr-elems" class="repeat-surr-elems d-none" style="position: relative; width: 100%; height: 100%" data-repeat-type="path" data-overflow-width="190" data-overflow-height="150">\n                    ').concat(t("top",0,"right",0,"\n                        ".concat(n("repeat-path-rotation-toggle","","toggle rotation along path","fa-sync-alt",0,"data-rotate-along-path",!1),"\n                    ")),'\n                </div>\n                <div class="repeat-surr-elems d-none" style="position: relative; width: 100%; height: 100%" data-repeat-type="at_element" data-overflow-width="190" data-overflow-height="150">\n                </div>\n                <div class="repeat-surr-elems d-none" style="position: relative; width: 100%; height: 100%" data-repeat-type="at_line" data-overflow-width="190" data-overflow-height="150">\n                </div>\n            </div>\n            <div id="popup-surrounding-elements-sem-stretch" class="popup-surr-elements-of-sem-type" data-sem-type="stretch" style="position: relative; width: 100%; height: 100%" data-overflow-width="70" data-overflow-height="70">\n                ').concat(t("top",50,"right",-50,'\n                    <span class="fas fa-arrows-alt-v" style="width: 20px; height: 40px"></span>\n                    <num-input id="stretch-vertical-num-input" value="1" min="-100" max="100" step="0.5"></num-input>\n                '),"\n                ").concat(t("bottom",-50,"left",50,'\n                    <span class="fas fa-arrows-alt-h"></span>\n                    <num-input id="stretch-horizontal-num-input" value="1" min="-100" max="100" step="0.5"></num-input>\n                '),'\n            </div>\n            <div id="popup-surrounding-elements-sem-anchor" class="popup-surr-elements-of-sem-type" data-sem-type="anchor" style="position: relative; width: 100%; height: 100%" data-overflow-width="100" data-overflow-height="100">\n                ').concat(t("top",0,"right",0,"\n                    ".concat(n("anchor-edit-btn","","Define new anchor point position","fa-edit",0,"",""),"\n                ")),"\n            </div>\n        ");var r=e.querySelector("#stretch-vertical-num-input").parentElement;return r.classList.add("d-flex"),r.classList.add("justify-content-between"),e}},{key:"initPopupMenu",value:function(){this.initToolbars(),this.initSurroundingElements()}},{key:"initToolbars",value:function(){var e=this;document.querySelector(this.htmlPopupMainToolbarId).querySelectorAll("button").forEach((function(t){t.addEventListener("click",(function(n){e.selectSemType(t.dataset.semType)}))})),document.querySelector(this.htmlSemRepeatToolbarId).querySelectorAll("button").forEach((function(t){return t.addEventListener("click",(function(n){e.onRepeatTypeChanged(t.dataset.repeatType)}))}))}},{key:"initSurroundingElements",value:function(){var e=this;document.querySelector(this.htmlSurrRepeatDirsElemsId).querySelectorAll(".repeat-direction-btn").forEach((function(t){return t.addEventListener("click",(function(n){jg.toggleRepeatDir(e.selectedElement,t.dataset.repeatDirection)}))})),document.querySelector(this.htmlRepeatDirsNumInputsId).querySelectorAll("num-input").forEach((function(t){t.addEventListener("changed",(function(n){jg.updateAmountOfDir(e.selectedElement,jg.vectorMap.get(t.dataset.repeatDirection),Number.parseInt(t.value,10))}))}));var t=document.querySelector(this.htmlSurrRepeatGridElemsId),n=t.querySelector("#repeat-grid-symmetry-toggle");n.classList.replace("btn-outline-secondary","btn-outline-primary");var r=t.querySelectorAll(".asymmetric-repeat-amount");n.addEventListener("click",(function(t){var i="false"===n.dataset.repeatSymmetrically;i?(n.classList.replace("btn-outline-secondary","btn-outline-primary"),r.forEach((function(e){return e.classList.add("d-none")})),n.dataset.repeatSymmetrically="true"):(n.classList.replace("btn-outline-primary","btn-outline-secondary"),r.forEach((function(e){return e.classList.remove("d-none")})),n.dataset.repeatSymmetrically="false"),jg.updateRepeatSymmetrically(e.selectedElement,i)})),t.querySelectorAll("num-input").forEach((function(t){t.addEventListener("changed",(function(n){jg.updateAmountOfDir(e.selectedElement,jg.vectorMap.get(t.dataset.repeatDirection),Number.parseInt(t.value,10))}))}));var i=document.querySelector(this.htmlRepeatPathRotationToggleId);i.addEventListener("click",(function(t){var n="false"===i.dataset.rotateAlongPath;n?(i.classList.replace("btn-outline-secondary","btn-outline-primary"),i.dataset.rotateAlongPath="true"):(i.classList.replace("btn-outline-primary","btn-outline-secondary"),i.dataset.rotateAlongPath="false"),jg.updateRotateAlongPath(e.selectedElement,n)}));var o=document.querySelector(this.htmlPopupSurroundingElementsId).querySelector('[data-sem-type="stretch"]'),s=o.querySelector("#stretch-horizontal-num-input");s.addEventListener("click",(function(t){Eg.updateHorizontalFactor(e.selectedElement,Number.parseFloat(s.value))}));var a=o.querySelector("#stretch-vertical-num-input");a.addEventListener("click",(function(t){Eg.updateVerticalFactor(e.selectedElement,Number.parseFloat(a.value))})),document.querySelector(this.htmlPopupSurroundingElementsId).querySelector(this.htmlSemAnchorSurrElemsId).querySelector("#anchor-edit-btn").addEventListener("click",(function(t){Tg.activateAddingOfAnchorPoint(e.selectedElement)}))}},{key:"showMenu",value:function(e){var t=this;this.selectedElement!==e&&(this.selectedElement&&(this.observerHandler.removeObserver(),this.selectedSemType=null,this.currentRepeatType=null,this.selectedRepeatType=null),this.selectedElement=e,document.querySelector(this.htmlId).classList.remove("d-none"),this.initMenuWithElementsMetadata(e),this.updatePositions(),this.observerHandler.addObserver(this.selectedElement,(function(){return t.updatePositions()})))}},{key:"hideMenu",value:function(){document.querySelector(this.htmlId).classList.add("d-none"),this.observerHandler.removeObserver(),this.selectedElement=null,this.selectedSemType=null,this.currentRepeatType=null,this.selectedRepeatType=null}},{key:"initMenuWithElementsMetadata",value:function(e){var t=this,n=jg.isSemRepeatable(e),r=document.querySelector(this.htmlSemRepeatToolbarId),i=document.querySelector(this.htmlPopupSurroundingElementsId),o=document.querySelector(this.htmlSemRepeatSurrElemsId);if(!n||this.selectedSemType&&"repeat"!==this.selectedSemType)r.classList.add("d-none"),o.classList.add("d-none"),r.querySelectorAll("button").forEach((function(e){e.classList.remove("btn-outline-primary"),e.classList.add("btn-outline-secondary")})),o.querySelectorAll(".repeat-surr-elems").forEach((function(e){e.classList.contains("d-none")||e.classList.add("d-none")}));else{this.selectedSemType||(this.selectedSemType="repeat"),r.classList.remove("d-none"),i.classList.remove("d-none"),o.classList.remove("d-none");var s=jg.getSemRepeatableConfigOfElement(e),a=s.directions,l=s.path;if(s.rotateAlongPath,s.amount,s.margin,this.currentRepeatType=null,l)this.currentRepeatType="path";else if(void 0!==a&&void 0!==a.find((function(e){return 0===e.x&&0===e.y})))this.currentRepeatType="grid";else if(void 0!==a){var c=a.filter((function(e){return e.x>-1&&e.x<0||e.x>0&&e.x<1||e.y>-1&&e.y<0||e.y>0&&e.y<1}));null===this.selectedRepeatType||"direction"!==this.selectedRepeatType&&"directions"!==this.selectedRepeatType?void 0!==c&&c.length>0?this.currentRepeatType="direction":void 0!==c&&c.length===a.length||(this.currentRepeatType="directions"):this.currentRepeatType=this.selectedRepeatType}r.querySelectorAll("button").forEach((function(e){t.currentRepeatType===e.dataset.repeatType?e.classList.replace("btn-outline-secondary","btn-outline-primary"):e.classList.replace("btn-outline-primary","btn-outline-secondary")})),o.querySelectorAll(".repeat-surr-elems").forEach((function(e){e.dataset.repeatType===t.currentRepeatType?e.classList.remove("d-none"):e.classList.add("d-none")})),this.initSurrElemsOfRepeatTypeWithMetadata(e,this.currentRepeatType)}var h=Eg.isSemStretchable(e),u=document.querySelector(this.htmlSemStretchSurrElemsId);if(!h||this.selectedSemType&&"stretch"!==this.selectedSemType)u.classList.add("d-none");else{i.classList.remove("d-none"),u.classList.remove("d-none"),this.selectedSemType||(this.selectedSemType="stretch");var d=Eg.getSemStretchableConfigOfElement(e),f=d.horizontalFactor,p=d.verticalFactor,g=u.querySelector("#stretch-horizontal-num-input"),m=u.querySelector("#stretch-vertical-num-input");g.value=f,m.value=p}var v=Tg.isSemAnchorable(e),y=document.querySelector(this.htmlSemAnchorSurrElemsId);!v||this.selectedSemType&&"anchor"!==this.selectedSemType?y.classList.add("d-none"):(i.classList.remove("d-none"),y.classList.remove("d-none"),this.selectedSemType||(this.selectedSemType="anchor"),Tg.getSemAnchorableConfigOfElement(e).anchorPoint),n||h||v||i.classList.add("d-none"),this.updatePositions()}},{key:"initSurrElemsOfRepeatTypeWithMetadata",value:function(e,t){var n=jg.getSemRepeatableConfigOfElement(e),r=n.directions,i=n.repeatSymmetrically,o=n.path,s=n.rotateAlongPath,a=n.amount;switch(n.margin,t){case"directions":this.initRepeatDirectionsSurrElemsWithMetadata(r,a);break;case"grid":this.initRepeatGridSurrElemsWithMetadata(a,i);break;case"direction":this.initRepeatDirectionSurrElemsWithMetadata(a);break;case"path":this.initRepeatPathSurrElemsWithMetadata(o,s)}}},{key:"initRepeatDirectionsSurrElemsWithMetadata",value:function(e,t){var n=document.querySelector(this.htmlSurrRepeatDirsElemsId).querySelectorAll(".repeat-direction-btn"),r=document.querySelector(this.htmlRepeatDirsNumInputsId);n.forEach((function(n){var i=jg.vectorMap.get(n.dataset.repeatDirection),o=-1;void 0!==e&&e.length>0&&(o=e.findIndex((function(e){return i.x===e.x&&i.y===e.y})));var s=r.querySelector('[data-repeat-direction="'.concat(n.dataset.repeatDirection,'"]')),a=jg.getDirKeyInAmountMap(t,i),l=t.get(a);o>-1?(n.classList.replace("btn-outline-secondary","btn-outline-primary"),s.classList.remove("d-none"),s.value=l,r.classList.contains("d-none")&&r.classList.remove("d-none")):(s.value=l,n.classList.replace("btn-outline-primary","btn-outline-secondary"),s.classList.add("d-none"))})),8===r.querySelectorAll(".d-none").length&&r.classList.add("d-none")}},{key:"initRepeatGridSurrElemsWithMetadata",value:function(e,t){document.querySelector(this.htmlSurrRepeatGridElemsId).querySelectorAll("num-input").forEach((function(t){var n=jg.vectorMap.get(t.dataset.repeatDirection),r=jg.getDirKeyInAmountMap(e,n);t.value=e.get(r)}));var n=document.querySelector(this.htmlSurrRepeatGridElemsId),r=n.querySelector("#repeat-grid-symmetry-toggle"),i=n.querySelectorAll(".asymmetric-repeat-amount");t?(r.classList.replace("btn-outline-secondary","btn-outline-primary"),i.forEach((function(e){return e.classList.add("d-none")})),r.dataset.repeatSymmetrically="true"):(r.classList.replace("btn-outline-primary","btn-outline-secondary"),i.forEach((function(e){return e.classList.remove("d-none")})),r.dataset.repeatSymmetrically="false")}},{key:"initRepeatDirectionSurrElemsWithMetadata",value:function(e){var t=this,n=Array.from(e.keys()).filter((function(e){return e.x>-1&&e.x<0||e.x>0&&e.x<1||e.y>-1&&e.y<0||e.y>0&&e.y<1})),r=document.querySelector("#repeat-direction-surr-elems");r.querySelectorAll("num-input").forEach((function(e){void 0===n.find((function(t){return t.x===e.dataset.customDirX&&t.y===e.dataset.customDirY}))&&e.remove()})),void 0!==n&&n.length>0&&n.forEach((function(n){var i=r.querySelector('[data-custom-dir-x="'.concat(n.x,'"][data-custom-dir-y="').concat(n.y,'"]'));i?i.value=e.get(n):t.addCustomDirDivAndInput(e,n)}))}},{key:"addCustomDirDivAndInput",value:function(e,t){var n=this,r=document.querySelector("#repeat-direction-surr-elems"),i=50-50*t.x,o=50+50*t.x;r.insertAdjacentHTML("beforeend",'\n                            <div style="position: absolute; \n                            top: '.concat(50+50*t.y,"%; \n                            ").concat(t.x>0?"right":"left",": \n                            ").concat(t.x>0?i:o,"%;\n                            transform: translate(").concat(t.x>0?50:-50,'%, -50%); \n                            pointer-events: auto">\n                                <num-input \n                                data-custom-dir-x="').concat(t.x,'" \n                                data-custom-dir-y="').concat(t.y,'">\n                                </num-input>\n                            </div>'));var s=r.querySelector('num-input[data-custom-dir-x="'.concat(t.x,'"][data-custom-dir-y="').concat(t.y,'"]')),a=jg.getDirKeyInAmountMap(e,t);a&&(s.value=e.get(a)),s.addEventListener("changed",(function(e){jg.updateAmountOfDir(n.selectedElement,t,Number.parseInt(s.value,10))}))}},{key:"initRepeatPathSurrElemsWithMetadata",value:function(e,t){var n=document.querySelector(this.htmlRepeatPathRotationToggleId);n.dataset.repeatAlongPath=t,t?(n.classList.remove("btn-outline-secondary"),n.classList.add("btn-outline-primary")):(n.classList.add("btn-outline-secondary"),n.classList.remove("btn-outline-primary"))}},{key:"updatePositions",value:function(){switch(this.selectedSemType){case"repeat":if(null!==this.currentRepeatType){var e=document.querySelector(this.htmlSemRepeatSurrElemsId).querySelector('[data-repeat-type="'.concat(this.currentRepeatType,'"]'));this.positionElementsAroundElement(this.selectedElement,parseInt(e.dataset.overflowWidth,10),parseInt(e.dataset.overflowHeight,10))}break;case"stretch":var t=document.querySelector(this.htmlSemStretchSurrElemsId);this.positionElementsAroundElement(this.selectedElement,parseInt(t.dataset.overflowWidth,10),parseInt(t.dataset.overflowHeight,10));break;case"anchor":var n=document.querySelector(this.htmlSemAnchorSurrElemsId);this.positionElementsAroundElement(this.selectedElement,parseInt(n.dataset.overflowWidth,10),parseInt(n.dataset.overflowHeight,10))}this.updateToolbarsPosition()}},{key:"updateToolbarsPosition",value:function(){this.positionToolbarsOverElement(this.selectedElement)}},{key:"positionToolbarsOverElement",value:function(e){var t=document.querySelector(this.htmlPopupSurroundingElementsId).getBoundingClientRect(),n=e.node.getBoundingClientRect(),r=n.x+n.width/2+window.pageXOffset,i=n.y-t.height/2+window.pageYOffset;0!==t.height&&(i+=n.height/2);var o=document.querySelector(this.htmlPopupToolbarsId),s=o.getBoundingClientRect();r-=s.width/2,i-=s.height+this.verticalOffset,o.style.top="".concat(i,"px"),o.style.left="".concat(r,"px")}},{key:"positionElementsAroundElement",value:function(e,t,n){var r=e.node.getBoundingClientRect(),i=r.x+r.width/2+window.pageXOffset,o=r.y+r.height/2+window.pageYOffset,s=document.querySelector(this.htmlPopupSurroundingElementsId);s.style.width="".concat(r.width+t,"px"),s.style.height="".concat(r.height+n,"px");var a=s.getBoundingClientRect();i-=a.width/2,o-=a.height/2,s.style.top="".concat(o,"px"),s.style.left="".concat(i,"px")}},{key:"selectSemType",value:function(e){switch(e){case"repeat":this.selectedElement.isGeoScalable()&&this.selectedElement.geoScalable(!1),jg.addRepeatableBehaviour(this.selectedElement),document.querySelector(this.htmlSemRepeatToolbarId).classList.remove("d-none"),this.selectedSemType=e;break;case"stretch":this.selectedElement.isGeoScalable()&&this.selectedElement.geoScalable(!1),Eg.addStretchableBehaviour(this.selectedElement),document.querySelector(this.htmlSemRepeatToolbarId).classList.add("d-none"),this.selectedSemType=e;break;case"anchor":this.selectedElement.isGeoScalable()&&this.selectedElement.geoScalable(!1),Eg.isSemStretchable(this.selectedElement)&&Eg.updateUpdatePos(this.selectedElement,!1),Tg.addAnchoableBehabiour(this.selectedElement),Tg.activateAddingOfAnchorPoint(this.selectedElement),document.querySelector(this.htmlSemRepeatToolbarId).classList.add("d-none"),this.selectedSemType=e}var t=document.querySelector(this.htmlPopupSurroundingElementsId);t.querySelectorAll(".popup-surr-elements-of-sem-type").forEach((function(n){n.dataset.semType===e?(t.classList.contains("d-none")&&t.classList.remove("d-none"),n.classList.remove("d-none")):n.classList.add("d-none")})),this.updatePositions()}},{key:"onSemanticRepeatButtonClicked",value:function(){jg.addRepeatableBehaviour(this.selectedElement),document.querySelector(this.htmlSemRepeatToolbarId).classList.remove("d-none"),this.updatePositions()}},{key:"onSemanticStretchButtonClicked",value:function(){Eg.addStretchableBehaviour(this.selectedElement),this.updatePositions()}},{key:"onSemanticAnchorButtonClicked",value:function(){}},{key:"onRepeatTypeChanged",value:function(e){var t=document.querySelector(this.htmlSemRepeatToolbarId),n=document.querySelector(this.htmlSemRepeatSurrElemsId);switch(null!==this.currentRepeatType&&(t.querySelector('[data-repeat-type="'.concat(this.currentRepeatType,'"]')).classList.replace("btn-outline-primary","btn-outline-secondary"),n.querySelector('[data-repeat-type="'.concat(this.currentRepeatType,'"]')).classList.add("d-none")),this.selectedRepeatType=e,t.querySelector('[data-repeat-type="'.concat(e,'"]')).classList.replace("btn-outline-secondary","btn-outline-primary"),document.querySelector(this.htmlPopupSurroundingElementsId).classList.remove("d-none"),n.classList.remove("d-none"),n.querySelector('[data-repeat-type="'.concat(e,'"]')).classList.remove("d-none"),e){case"directions":jg.activateRepeatTypeDirections(this.selectedElement);break;case"grid":jg.activateRepeatTypeGrid(this.selectedElement);break;case"direction":jg.activateRepeatTypeCustomDirections(this.selectedElement),jg.activateAddingOfCustomDirection(this.selectedElement);break;case"path":jg.activateRepeatTypePath(this.selectedElement),jg.activateAddingOfPath(this.selectedElement)}}}])&&Ng(t.prototype,n),e}();function Rg(e){return(Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hg(e,t){return!t||"object"!==Rg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qg(e){var t="function"==typeof Map?new Map:void 0;return(qg=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Fg(e,arguments,Wg(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bg(n,e)})(e)}function Fg(e,t,n){return(Fg=zg()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Bg(i,n.prototype),i}).apply(null,arguments)}function zg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Bg(e,t){return(Bg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wg(e){return(Wg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bg(e,t)}(s,e);var t,n,r,i,o=(t=s,n=zg(),function(){var e,r=Wg(t);if(n){var i=Wg(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Hg(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).innerHTML='\n            <div class="input-group input-group-sm">\n                <input type="text" class="form-control value-input-field" style="width: 40px" value="'.concat(e.value,'" min="').concat(e.min,'" max="').concat(e.max,'" step="').concat(e.step,'">\n                <div class="btn-group-vertical">\n                    <button type="button" class="btn btn-outline-secondary d-flex align-items-center increase-value-btn" style="height: 20px; font-size: 10px">\n                        <span class="fa fa-plus"></span>\n                    </button>\n                    <button type="button" class="btn btn-outline-secondary d-flex align-items-center decrease-value-btn" style="height: 20px; font-size: 10px">\n                        <span class="fa fa-minus"></span>\n                    </button>\n                </div>\n            </div>\n        '),e.querySelector(".increase-value-btn").addEventListener("click",(function(){e.value+=e.step})),e.querySelector(".decrease-value-btn").addEventListener("click",(function(){e.value-=e.step})),e.querySelector(".value-input-field").addEventListener("change",(function(t){e.value=t.target.value})),e}return r=s,(i=[{key:"value",get:function(){var e=this.getAttribute("value");return null===e||""===e?-1:parseFloat(e)},set:function(e){var t=this.value,n=Math.max(this.min,e);if(t!==n){var r=n.toString();this.setAttribute("value",r),this.querySelector(".value-input-field").value=r,this.dispatchEvent(new Event("changed"))}}},{key:"step",get:function(){var e=this.getAttribute("step");return null===e||""===e?1:parseFloat(e)}},{key:"min",get:function(){var e=this.getAttribute("min");return null===e||""===e?-1:parseFloat(e)}},{key:"max",get:function(){var e=this.getAttribute("max");return null===e||""===e?100:parseFloat(e)}}])&&Dg(r.prototype,i),s}(qg(HTMLElement));function Xg(e){return(Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ug(e,t){return!t||"object"!==Xg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kg(e){var t="function"==typeof Map?new Map:void 0;return(Kg=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Vg(e,arguments,Jg(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qg(n,e)})(e)}function Vg(e,t,n){return(Vg=Gg()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qg(i,n.prototype),i}).apply(null,arguments)}function Gg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Qg(e,t){return(Qg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jg(e){return(Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.customElements.define("num-input",$g);var Zg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qg(e,t)}(s,e);var t,n,r,i,o=(t=s,n=Gg(),function(){var e,r=Jg(t);if(n){var i=Jg(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Ug(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).innerHTML='\n            <div class="d-flex justify-content-between mb-1">\n                <span class="fas fa-long-arrow-alt-right align-self-center" style="transform: rotate('.concat(e.angle,'deg)"></span>\n                <span>').concat(e.angle.toFixed(2),'Â°</span>\n                <input id="amount-input-field" type="number" value="').concat(e.amount,'" min="-1" max="100" style="width: 40px">\n                <button id="delete-button" type="button" class="btn btn-sm btn-outline-secondary"\n                        data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" title="Delete custom direction">\n                    <span class="fas fa-trash-alt"></span>\n                </button>\n            </div>\n        '),e.querySelector("#amount-input-field").addEventListener("change",(function(t){e.amount=t.target.value})),e.querySelector("#delete-button").addEventListener("click",(function(t){e.dispatchEvent(new Event("delete"))})),e}return r=s,(i=[{key:"angle",get:function(){var e=this.getAttribute("angle");return null===e||""===e?0:parseFloat(e)}},{key:"amount",get:function(){var e=this.getAttribute("amount");return null===e||""===e?-1:parseInt(e,10)},set:function(e){var t=this.amount,n=Math.max(-1,e);if(t!==n){var r=n.toString();this.setAttribute("amount",r),this.querySelector("#amount-input-field").value=r,this.dispatchEvent(new Event("amount-changed"))}}}])&&Yg(r.prototype,i),s}(Kg(HTMLElement));function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.customElements.define("custom-dir-line",Zg);var tm=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"activate",value:function(){}},{key:"deactivate",value:function(){}}])&&em(t.prototype,n),e}();function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function im(e,t,n){return(im="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lm(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function om(e,t){return(om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sm(e,t){return!t||"object"!==nm(t)&&"function"!=typeof t?am(e):t}function am(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lm(e){return(lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lm(r);if(i){var n=lm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sm(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).htmlToolsSidebarId=e,t.listenerHandler=new Jf(am(t),document,"addEventListener","removeEventListener"),t}return t=s,(n=[{key:"activate",value:function(){im(lm(s.prototype),"activate",this).call(this),this.listenerHandler.on(Ff.name,(function(e){e.instance.geoScalable()})),Kp.Instance.activate(),document.querySelector(this.htmlToolsSidebarId).classList.remove("d-none")}},{key:"deactivate",value:function(){im(lm(s.prototype),"deactivate",this).call(this),this.listenerHandler.removeAllListeners(),Kp.Instance.deactivate(),document.querySelector(this.htmlToolsSidebarId).classList.add("d-none")}}])&&rm(t.prototype,n),s}(tm);function hm(e){return(hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dm(e,t,n){return(dm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mm(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fm(e,t){return(fm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pm(e,t){return!t||"object"!==hm(t)&&"function"!=typeof t?gm(e):t}function gm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mm(e){return(mm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fm(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mm(r);if(i){var n=mm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pm(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).popupMenu=e,t.listenerHandler=new Jf(gm(t),document,"addEventListener","removeEventListener"),t}return t=s,(n=[{key:"activate",value:function(){dm(mm(s.prototype),"activate",this).call(this);var e=Array.from(bg.Instance.elementTree.getAllElements());xg.Instance.activateInteractableSelection(e),this.popupMenu.activate(xg.Instance.selectedElement)}},{key:"deactivate",value:function(){dm(mm(s.prototype),"deactivate",this).call(this);var e=Array.from(bg.Instance.elementTree.getAllElements());xg.Instance.deactivateInteractableSelection(e),this.popupMenu.deactivate(),this.listenerHandler.removeAllListeners()}}])&&um(t.prototype,n),s}(tm);function ym(e){return(ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bm(e,t,n){return(bm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=km(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function wm(e,t){return(wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xm(e,t){return!t||"object"!==ym(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function km(e){return(km=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wm(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=km(r);if(i){var n=km(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xm(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).popupMenu=e,t}return t=s,(n=[{key:"activate",value:function(){bm(km(s.prototype),"activate",this).call(this);var e=Array.from(bg.Instance.elementTree.getAllElements());xg.Instance.activateInteractableSelection(e,!0,!0)}},{key:"deactivate",value:function(){bm(km(s.prototype),"deactivate",this).call(this);var e=Array.from(bg.Instance.elementTree.getAllElements());xg.Instance.deactivateInteractableSelection(e)}}])&&_m(t.prototype,n),s}(tm);function Sm(e){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Om(e,t,n){return(Om="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Am(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Tm(e,t){return(Tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cm(e,t){return!t||"object"!==Sm(t)&&"function"!=typeof t?Pm(e):t}function Pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Am(e){return(Am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tm(e,t)}(s,e);var t,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Am(r);if(i){var n=Am(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Cm(this,e)});function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).listenerHandler=new Jf(Pm(e),document,"addEventListener","removeEventListener"),e}return t=s,(n=[{key:"activate",value:function(){var e=this;Om(Am(s.prototype),"activate",this).call(this);var t=Array.from(bg.Instance.elementTree.getAllElements());xg.Instance.activateInteractableSelection(t,!1),null!==xg.Instance.selectedElement&&this.deleteSvgElement(xg.Instance.selectedElement),this.listenerHandler.on(Bf.name,(function(t){e.deleteSvgElement(t.instance)}))}},{key:"deactivate",value:function(){Om(Am(s.prototype),"deactivate",this).call(this);var e=Array.from(bg.Instance.elementTree.getAllElements());xg.Instance.deactivateInteractableSelection(e),this.listenerHandler.removeAllListeners()}},{key:"deleteSvgElement",value:function(e){e.node.dispatchEvent(new Yf(e)),e.remove()}}])&&Em(t.prototype,n),s}(tm);function Mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nm=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modes=new Map(t),this.defaultModeName=n,this.selectedModeName=null,this.selectedMode=null,this.selectMode(n)}var t,n;return t=e,(n=[{key:"reset",value:function(){this.selectMode(this.defaultModeName)}},{key:"selectMode",value:function(e){this.selectedMode&&this.selectedMode.deactivate();var t=this.getModeByName(e);t?(this.selectedModeName=e,this.selectedMode=t,this.selectedMode.activate()):console.log("ModeManager: Could not select mode with name ",e,"! No such mode known.")}},{key:"getModeByName",value:function(e){return this.modes.get(e)}}])&&Mm(t.prototype,n),e}(),Im=Hl().addTo("#root").size("100%","100%"),Rm=document.querySelector("svg");bg.Instance=new bg(Im);var Dm=document.querySelector("#drawToolbarVertical"),Hm=Dm.querySelector("button"),qm=Hm.dataset.toolType,Fm=Hm,zm=document.querySelector("#drawToolbarShapesDropdown"),Bm=document.querySelector('[aria-labelledby="drawToolbarShapesDropdown"]'),Wm=Bm.querySelector("button"),$m=Wm.dataset.shapeType;zm.innerHTML=Wm.innerHTML;var Xm=new Map;Xm.set("freeLine",new xp(Rm,Im)),Xm.set("straightLine",new Cp(Rm,Im)),Xm.set("shapes",new Hp(Rm,Im,Dp[$m])),Xm.set("path",new Yp(Rm,Im)),Kp.Instance=new Kp(Xm,qm),Dm.querySelectorAll("button").forEach((function(e){e.dataset.toolType===qm?e.classList.replace("btn-secondary","btn-primary"):e.classList.replace("btn-primary","btn-secondary"),e.addEventListener("click",(function(t){e!==Fm&&void 0!==e.dataset.toolType&&(Fm.classList.replace("btn-primary","btn-secondary"),e.classList.replace("btn-secondary","btn-primary"),Fm=e,Kp.Instance.selectTool(e.dataset.toolType))}))})),Bm.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(t){zm.innerHTML=e.innerHTML,Kp.Instance.selectedTool.setshape(Dp[e.dataset.shapeType])}))}));var Ym=new Ig,Um=new Map;Um.set("drawing",new cm("#drawToolbarVertical")),Um.set("selecting",new vm(Ym)),Um.set("scaling",new jm(Ym)),Um.set("deleting",new Lm);var Km=document.querySelector("#toolbar-modes"),Vm=Km.querySelector("button"),Gm=Vm.dataset.mode,Qm=Vm,Jm=new Nm(Um,Gm);Km.querySelectorAll("button").forEach((function(e){e.dataset.mode===Gm?e.classList.replace("btn-secondary","btn-primary"):e.classList.replace("btn-primary","btn-secondary"),e.addEventListener("click",(function(t){e!==Qm&&void 0!==e.dataset.mode&&(Qm.classList.replace("btn-primary","btn-secondary"),e.classList.replace("btn-secondary","btn-primary"),Qm=e,Jm.selectMode(e.dataset.mode))}))}));var Zm=new Ag;new Mg,document.querySelector("#toolbar-new-sketch").addEventListener("click",(function(e){null!==Rm&&Rm.remove(),document.querySelector("#sem-behaviour-marker").innerHTML="",Im=Hl().addTo("#root").size("100%","100%"),Rm=document.querySelector("svg"),xg.Instance.reset(),bg.Instance.reset(Im),Kp.Instance.reset(Im,Rm),Fm=Hm,Dm.querySelectorAll("button").forEach((function(e){e.dataset.toolType===qm?e.classList.replace("btn-secondary","btn-primary"):e.classList.replace("btn-primary","btn-secondary")})),zm.innerHTML=Wm.innerHTML,Ym.deactivate(),Jm.reset(),Qm=Vm,Km.querySelectorAll("button").forEach((function(e){e.dataset.mode===Gm?e.classList.replace("btn-secondary","btn-primary"):e.classList.replace("btn-primary","btn-secondary")})),Zm.reset()}))}},e=>{"use strict";e(e.s=873)}]);